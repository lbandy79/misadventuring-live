var IR=Object.defineProperty;var RR=(t,e,n)=>e in t?IR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var kr=(t,e,n)=>RR(t,typeof e!="symbol"?e+"":e,n);function MR(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zb={exports:{}},gd={},Jb={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=Symbol.for("react.element"),DR=Symbol.for("react.portal"),OR=Symbol.for("react.fragment"),NR=Symbol.for("react.strict_mode"),LR=Symbol.for("react.profiler"),FR=Symbol.for("react.provider"),jR=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),BR=Symbol.for("react.suspense"),UR=Symbol.for("react.memo"),$R=Symbol.for("react.lazy"),gw=Symbol.iterator;function qR(t){return t===null||typeof t!="object"?null:(t=gw&&t[gw]||t["@@iterator"],typeof t=="function"?t:null)}var eE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tE=Object.assign,nE={};function cl(t,e,n){this.props=t,this.context=e,this.refs=nE,this.updater=n||eE}cl.prototype.isReactComponent={};cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iE(){}iE.prototype=cl.prototype;function Qy(t,e,n){this.props=t,this.context=e,this.refs=nE,this.updater=n||eE}var Xy=Qy.prototype=new iE;Xy.constructor=Qy;tE(Xy,cl.prototype);Xy.isPureReactComponent=!0;var yw=Array.isArray,rE=Object.prototype.hasOwnProperty,Yy={current:null},sE={key:!0,ref:!0,__self:!0,__source:!0};function oE(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rE.call(e,i)&&!sE.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:yc,type:t,key:s,ref:o,props:r,_owner:Yy.current}}function WR(t,e){return{$$typeof:yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zy(t){return typeof t=="object"&&t!==null&&t.$$typeof===yc}function HR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vw=/\/+/g;function Pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HR(""+t.key):e.toString(36)}function Fh(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yc:case DR:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Pp(o,0):i,yw(r)?(n="",t!=null&&(n=t.replace(vw,"$&/")+"/"),Fh(r,e,n,"",function(c){return c})):r!=null&&(Zy(r)&&(r=WR(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(vw,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",yw(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Pp(s,a);o+=Fh(s,e,n,l,r)}else if(l=qR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Pp(s,a++),o+=Fh(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function th(t,e,n){if(t==null)return t;var i=[],r=0;return Fh(t,i,"","",function(s){return e.call(n,s,r++)}),i}function GR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},jh={transition:null},KR={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:jh,ReactCurrentOwner:Yy};function aE(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:th,forEach:function(t,e,n){th(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return th(t,function(){e++}),e},toArray:function(t){return th(t,function(e){return e})||[]},only:function(t){if(!Zy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=cl;ye.Fragment=OR;ye.Profiler=LR;ye.PureComponent=Qy;ye.StrictMode=NR;ye.Suspense=BR;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KR;ye.act=aE;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=tE({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yy.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rE.call(e,l)&&!sE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:yc,type:t.type,key:r,ref:s,props:i,_owner:o}};ye.createContext=function(t){return t={$$typeof:jR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FR,_context:t},t.Consumer=t};ye.createElement=oE;ye.createFactory=function(t){var e=oE.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:zR,render:t}};ye.isValidElement=Zy;ye.lazy=function(t){return{$$typeof:$R,_payload:{_status:-1,_result:t},_init:GR}};ye.memo=function(t,e){return{$$typeof:UR,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=jh.transition;jh.transition={};try{t()}finally{jh.transition=e}};ye.unstable_act=aE;ye.useCallback=function(t,e){return fn.current.useCallback(t,e)};ye.useContext=function(t){return fn.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};ye.useEffect=function(t,e){return fn.current.useEffect(t,e)};ye.useId=function(){return fn.current.useId()};ye.useImperativeHandle=function(t,e,n){return fn.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return fn.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return fn.current.useReducer(t,e,n)};ye.useRef=function(t){return fn.current.useRef(t)};ye.useState=function(t){return fn.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return fn.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return fn.current.useTransition()};ye.version="18.3.1";Jb.exports=ye;var N=Jb.exports;const yd=VR(N),QR=MR({__proto__:null,default:yd},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR=N,YR=Symbol.for("react.element"),ZR=Symbol.for("react.fragment"),JR=Object.prototype.hasOwnProperty,eM=XR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tM={key:!0,ref:!0,__self:!0,__source:!0};function lE(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)JR.call(e,i)&&!tM.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:YR,type:t,key:s,ref:o,props:r,_owner:eM.current}}gd.Fragment=ZR;gd.jsx=lE;gd.jsxs=lE;Zb.exports=gd;var S=Zb.exports,Xm={},uE={exports:{}},Qn={},cE={exports:{}},hE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Y){var L=q.length;q.push(Y);e:for(;0<L;){var O=L-1>>>1,$=q[O];if(0<r($,Y))q[O]=Y,q[L]=$,L=O;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var Y=q[0],L=q.pop();if(L!==Y){q[0]=L;e:for(var O=0,$=q.length,X=$>>>1;O<X;){var ee=2*(O+1)-1,re=q[ee],ae=ee+1,ne=q[ae];if(0>r(re,L))ae<$&&0>r(ne,re)?(q[O]=ne,q[ae]=L,O=ae):(q[O]=re,q[ee]=L,O=ee);else if(ae<$&&0>r(ne,L))q[O]=ne,q[ae]=L,O=ae;else break e}}return Y}function r(q,Y){var L=q.sortIndex-Y.sortIndex;return L!==0?L:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,u=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(q){for(var Y=n(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=q)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function C(q){if(g=!1,x(q),!m)if(n(l)!==null)m=!0,Q(I);else{var Y=n(c);Y!==null&&te(C,Y.startTime-q)}}function I(q,Y){m=!1,g&&(g=!1,_(b),b=-1),p=!0;var L=h;try{for(x(Y),u=n(l);u!==null&&(!(u.expirationTime>Y)||q&&!M());){var O=u.callback;if(typeof O=="function"){u.callback=null,h=u.priorityLevel;var $=O(u.expirationTime<=Y);Y=t.unstable_now(),typeof $=="function"?u.callback=$:u===n(l)&&i(l),x(Y)}else i(l);u=n(l)}if(u!==null)var X=!0;else{var ee=n(c);ee!==null&&te(C,ee.startTime-Y),X=!1}return X}finally{u=null,h=L,p=!1}}var D=!1,k=null,b=-1,E=5,P=-1;function M(){return!(t.unstable_now()-P<E)}function V(){if(k!==null){var q=t.unstable_now();P=q;var Y=!0;try{Y=k(!0,q)}finally{Y?A():(D=!1,k=null)}}else D=!1}var A;if(typeof w=="function")A=function(){w(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Z=z.port2;z.port1.onmessage=V,A=function(){Z.postMessage(null)}}else A=function(){v(V,0)};function Q(q){k=q,D||(D=!0,A())}function te(q,Y){b=v(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Q(I))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var L=h;h=Y;try{return q()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var L=h;h=q;try{return Y()}finally{h=L}},t.unstable_scheduleCallback=function(q,Y,L){var O=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?O+L:O):L=O,q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=L+$,q={id:f++,callback:Y,priorityLevel:q,startTime:L,expirationTime:$,sortIndex:-1},L>O?(q.sortIndex=L,e(c,q),n(l)===null&&q===n(c)&&(g?(_(b),b=-1):g=!0,te(C,L-O))):(q.sortIndex=$,e(l,q),m||p||(m=!0,Q(I))),q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(q){var Y=h;return function(){var L=h;h=Y;try{return q.apply(this,arguments)}finally{h=L}}}})(hE);cE.exports=hE;var nM=cE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iM=N,Wn=nM;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fE=new Set,Cu={};function ko(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(Cu[t]=e,t=0;t<e.length;t++)fE.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ym=Object.prototype.hasOwnProperty,rM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_w={},ww={};function sM(t){return Ym.call(ww,t)?!0:Ym.call(_w,t)?!1:rM.test(t)?ww[t]=!0:(_w[t]=!0,!1)}function oM(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aM(t,e,n,i){if(e===null||typeof e>"u"||oM(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jy=/[\-:]([a-z])/g;function ev(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jy,ev);Lt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jy,ev);Lt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jy,ev);Lt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function tv(t,e,n,i){var r=Lt.hasOwnProperty(e)?Lt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aM(e,n,r,i)&&(n=null),i||r===null?sM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var br=iM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nh=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),nv=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),dE=Symbol.for("react.provider"),pE=Symbol.for("react.context"),iv=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),eg=Symbol.for("react.suspense_list"),rv=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),mE=Symbol.for("react.offscreen"),xw=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Ap;function Kl(t){if(Ap===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ap=e&&e[1]||""}return`
`+Ap+t}var Ip=!1;function Rp(t,e){if(!t||Ip)return"";Ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function lM(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=Rp(t.type,!1),t;case 11:return t=Rp(t.type.render,!1),t;case 1:return t=Rp(t.type,!0),t;default:return""}}function tg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Xo:return"Portal";case Zm:return"Profiler";case nv:return"StrictMode";case Jm:return"Suspense";case eg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pE:return(t.displayName||"Context")+".Consumer";case dE:return(t._context.displayName||"Context")+".Provider";case iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rv:return e=t.displayName||null,e!==null?e:tg(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return tg(t(e))}catch{}}return null}function uM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tg(e);case 8:return e===nv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cM(t){var e=gE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ih(t){t._valueTracker||(t._valueTracker=cM(t))}function yE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=gE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ng(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tw(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ls(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vE(t,e){e=e.checked,e!=null&&tv(t,"checked",e,!1)}function ig(t,e){vE(t,e);var n=ls(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rg(t,e.type,n):e.hasOwnProperty("defaultValue")&&rg(t,e.type,ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rg(t,e,n){(e!=="number"||ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ql=Array.isArray;function va(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ls(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function sg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ew(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Ql(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ls(n)}}function _E(t,e){var n=ls(e.value),i=ls(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Sw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function og(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rh,xE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rh=rh||document.createElement("div"),rh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hM=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){hM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function TE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function bE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=TE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var fM=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ag(t,e){if(e){if(fM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function lg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function sv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cg=null,_a=null,wa=null;function Cw(t){if(t=wc(t)){if(typeof cg!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Td(e),cg(t.stateNode,t.type,e))}}function EE(t){_a?wa?wa.push(t):wa=[t]:_a=t}function SE(){if(_a){var t=_a,e=wa;if(wa=_a=null,Cw(t),e)for(t=0;t<e.length;t++)Cw(e[t])}}function CE(t,e){return t(e)}function kE(){}var Mp=!1;function PE(t,e,n){if(Mp)return t(e,n);Mp=!0;try{return CE(t,e,n)}finally{Mp=!1,(_a!==null||wa!==null)&&(kE(),SE())}}function Pu(t,e){var n=t.stateNode;if(n===null)return null;var i=Td(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var hg=!1;if(dr)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){hg=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{hg=!1}function dM(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ou=!1,df=null,pf=!1,fg=null,pM={onError:function(t){ou=!0,df=t}};function mM(t,e,n,i,r,s,o,a,l){ou=!1,df=null,dM.apply(pM,arguments)}function gM(t,e,n,i,r,s,o,a,l){if(mM.apply(this,arguments),ou){if(ou){var c=df;ou=!1,df=null}else throw Error(H(198));pf||(pf=!0,fg=c)}}function Po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kw(t){if(Po(t)!==t)throw Error(H(188))}function yM(t){var e=t.alternate;if(!e){if(e=Po(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return kw(r),t;if(s===i)return kw(r),e;s=s.sibling}throw Error(H(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==i)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function IE(t){return t=yM(t),t!==null?RE(t):null}function RE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RE(t);if(e!==null)return e;t=t.sibling}return null}var ME=Wn.unstable_scheduleCallback,Pw=Wn.unstable_cancelCallback,vM=Wn.unstable_shouldYield,_M=Wn.unstable_requestPaint,at=Wn.unstable_now,wM=Wn.unstable_getCurrentPriorityLevel,ov=Wn.unstable_ImmediatePriority,VE=Wn.unstable_UserBlockingPriority,mf=Wn.unstable_NormalPriority,xM=Wn.unstable_LowPriority,DE=Wn.unstable_IdlePriority,vd=null,Bi=null;function TM(t){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(vd,t,void 0,(t.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:SM,bM=Math.log,EM=Math.LN2;function SM(t){return t>>>=0,t===0?32:31-(bM(t)/EM|0)|0}var sh=64,oh=4194304;function Xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gf(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Xl(a):(s&=o,s!==0&&(i=Xl(s)))}else o=n&~r,o!==0?i=Xl(o):s!==0&&(i=Xl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Si(e),r=1<<n,i|=t[n],e&=~r;return i}function CM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kM(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Si(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=CM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function dg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OE(){var t=sh;return sh<<=1,!(sh&4194240)&&(sh=64),t}function Vp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Si(e),t[e]=n}function PM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Si(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function av(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Si(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Me=0;function NE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LE,lv,FE,jE,zE,pg=!1,ah=[],Gr=null,Kr=null,Qr=null,Au=new Map,Iu=new Map,Dr=[],AM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aw(t,e){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Ll(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=wc(e),e!==null&&lv(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function IM(t,e,n,i,r){switch(e){case"focusin":return Gr=Ll(Gr,t,e,n,i,r),!0;case"dragenter":return Kr=Ll(Kr,t,e,n,i,r),!0;case"mouseover":return Qr=Ll(Qr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Au.set(s,Ll(Au.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Iu.set(s,Ll(Iu.get(s)||null,t,e,n,i,r)),!0}return!1}function BE(t){var e=Ks(t.target);if(e!==null){var n=Po(e);if(n!==null){if(e=n.tag,e===13){if(e=AE(n),e!==null){t.blockedOn=e,zE(t.priority,function(){FE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ug=i,n.target.dispatchEvent(i),ug=null}else return e=wc(n),e!==null&&lv(e),t.blockedOn=n,!1;e.shift()}return!0}function Iw(t,e,n){zh(t)&&n.delete(e)}function RM(){pg=!1,Gr!==null&&zh(Gr)&&(Gr=null),Kr!==null&&zh(Kr)&&(Kr=null),Qr!==null&&zh(Qr)&&(Qr=null),Au.forEach(Iw),Iu.forEach(Iw)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,pg||(pg=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,RM)))}function Ru(t){function e(r){return Fl(r,t)}if(0<ah.length){Fl(ah[0],t);for(var n=1;n<ah.length;n++){var i=ah[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Gr!==null&&Fl(Gr,t),Kr!==null&&Fl(Kr,t),Qr!==null&&Fl(Qr,t),Au.forEach(e),Iu.forEach(e),n=0;n<Dr.length;n++)i=Dr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)BE(n),n.blockedOn===null&&Dr.shift()}var xa=br.ReactCurrentBatchConfig,yf=!0;function MM(t,e,n,i){var r=Me,s=xa.transition;xa.transition=null;try{Me=1,uv(t,e,n,i)}finally{Me=r,xa.transition=s}}function VM(t,e,n,i){var r=Me,s=xa.transition;xa.transition=null;try{Me=4,uv(t,e,n,i)}finally{Me=r,xa.transition=s}}function uv(t,e,n,i){if(yf){var r=mg(t,e,n,i);if(r===null)$p(t,e,i,vf,n),Aw(t,i);else if(IM(r,t,e,n,i))i.stopPropagation();else if(Aw(t,i),e&4&&-1<AM.indexOf(t)){for(;r!==null;){var s=wc(r);if(s!==null&&LE(s),s=mg(t,e,n,i),s===null&&$p(t,e,i,vf,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else $p(t,e,i,null,n)}}var vf=null;function mg(t,e,n,i){if(vf=null,t=sv(i),t=Ks(t),t!==null)if(e=Po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vf=t,null}function UE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wM()){case ov:return 1;case VE:return 4;case mf:case xM:return 16;case DE:return 536870912;default:return 16}default:return 16}}var Fr=null,cv=null,Bh=null;function $E(){if(Bh)return Bh;var t,e=cv,n=e.length,i,r="value"in Fr?Fr.value:Fr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Bh=r.slice(t,1<i?1-i:void 0)}function Uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lh(){return!0}function Rw(){return!1}function Xn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lh:Rw,this.isPropagationStopped=Rw,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),e}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hv=Xn(hl),_c=Ze({},hl,{view:0,detail:0}),DM=Xn(_c),Dp,Op,jl,_d=Ze({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jl&&(jl&&t.type==="mousemove"?(Dp=t.screenX-jl.screenX,Op=t.screenY-jl.screenY):Op=Dp=0,jl=t),Dp)},movementY:function(t){return"movementY"in t?t.movementY:Op}}),Mw=Xn(_d),OM=Ze({},_d,{dataTransfer:0}),NM=Xn(OM),LM=Ze({},_c,{relatedTarget:0}),Np=Xn(LM),FM=Ze({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),jM=Xn(FM),zM=Ze({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BM=Xn(zM),UM=Ze({},hl,{data:0}),Vw=Xn(UM),$M={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WM[t])?!!e[t]:!1}function fv(){return HM}var GM=Ze({},_c,{key:function(t){if(t.key){var e=$M[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fv,charCode:function(t){return t.type==="keypress"?Uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KM=Xn(GM),QM=Ze({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dw=Xn(QM),XM=Ze({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fv}),YM=Xn(XM),ZM=Ze({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),JM=Xn(ZM),e2=Ze({},_d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),t2=Xn(e2),n2=[9,13,27,32],dv=dr&&"CompositionEvent"in window,au=null;dr&&"documentMode"in document&&(au=document.documentMode);var i2=dr&&"TextEvent"in window&&!au,qE=dr&&(!dv||au&&8<au&&11>=au),Ow=" ",Nw=!1;function WE(t,e){switch(t){case"keyup":return n2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function r2(t,e){switch(t){case"compositionend":return HE(e);case"keypress":return e.which!==32?null:(Nw=!0,Ow);case"textInput":return t=e.data,t===Ow&&Nw?null:t;default:return null}}function s2(t,e){if(Zo)return t==="compositionend"||!dv&&WE(t,e)?(t=$E(),Bh=cv=Fr=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qE&&e.locale!=="ko"?null:e.data;default:return null}}var o2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!o2[t.type]:e==="textarea"}function GE(t,e,n,i){EE(i),e=_f(e,"onChange"),0<e.length&&(n=new hv("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lu=null,Mu=null;function a2(t){rS(t,0)}function wd(t){var e=ta(t);if(yE(e))return t}function l2(t,e){if(t==="change")return e}var KE=!1;if(dr){var Lp;if(dr){var Fp="oninput"in document;if(!Fp){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),Fp=typeof Fw.oninput=="function"}Lp=Fp}else Lp=!1;KE=Lp&&(!document.documentMode||9<document.documentMode)}function jw(){lu&&(lu.detachEvent("onpropertychange",QE),Mu=lu=null)}function QE(t){if(t.propertyName==="value"&&wd(Mu)){var e=[];GE(e,Mu,t,sv(t)),PE(a2,e)}}function u2(t,e,n){t==="focusin"?(jw(),lu=e,Mu=n,lu.attachEvent("onpropertychange",QE)):t==="focusout"&&jw()}function c2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wd(Mu)}function h2(t,e){if(t==="click")return wd(e)}function f2(t,e){if(t==="input"||t==="change")return wd(e)}function d2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ai=typeof Object.is=="function"?Object.is:d2;function Vu(t,e){if(Ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Ym.call(e,r)||!Ai(t[r],e[r]))return!1}return!0}function zw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bw(t,e){var n=zw(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zw(n)}}function XE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YE(){for(var t=window,e=ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ff(t.document)}return e}function pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function p2(t){var e=YE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XE(n.ownerDocument.documentElement,n)){if(i!==null&&pv(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Bw(n,s);var o=Bw(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var m2=dr&&"documentMode"in document&&11>=document.documentMode,Jo=null,gg=null,uu=null,yg=!1;function Uw(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yg||Jo==null||Jo!==ff(i)||(i=Jo,"selectionStart"in i&&pv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),uu&&Vu(uu,i)||(uu=i,i=_f(gg,"onSelect"),0<i.length&&(e=new hv("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Jo)))}function uh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ea={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},jp={},ZE={};dr&&(ZE=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function xd(t){if(jp[t])return jp[t];if(!ea[t])return t;var e=ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZE)return jp[t]=e[n];return t}var JE=xd("animationend"),eS=xd("animationiteration"),tS=xd("animationstart"),nS=xd("transitionend"),iS=new Map,$w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){iS.set(t,e),ko(e,[t])}for(var zp=0;zp<$w.length;zp++){var Bp=$w[zp],g2=Bp.toLowerCase(),y2=Bp[0].toUpperCase()+Bp.slice(1);xs(g2,"on"+y2)}xs(JE,"onAnimationEnd");xs(eS,"onAnimationIteration");xs(tS,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(nS,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function qw(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,gM(i,e,void 0,t),t.currentTarget=null}function rS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;qw(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;qw(r,a,c),s=l}}}if(pf)throw t=fg,pf=!1,fg=null,t}function Ue(t,e){var n=e[Tg];n===void 0&&(n=e[Tg]=new Set);var i=t+"__bubble";n.has(i)||(sS(e,t,2,!1),n.add(i))}function Up(t,e,n){var i=0;e&&(i|=4),sS(n,t,i,e)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[ch]){t[ch]=!0,fE.forEach(function(n){n!=="selectionchange"&&(v2.has(n)||Up(n,!1,t),Up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ch]||(e[ch]=!0,Up("selectionchange",!1,e))}}function sS(t,e,n,i){switch(UE(e)){case 1:var r=MM;break;case 4:r=VM;break;default:r=uv}n=r.bind(null,e,n,t),r=void 0,!hg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function $p(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ks(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}PE(function(){var c=s,f=sv(n),u=[];e:{var h=iS.get(t);if(h!==void 0){var p=hv,m=t;switch(t){case"keypress":if(Uh(n)===0)break e;case"keydown":case"keyup":p=KM;break;case"focusin":m="focus",p=Np;break;case"focusout":m="blur",p=Np;break;case"beforeblur":case"afterblur":p=Np;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YM;break;case JE:case eS:case tS:p=jM;break;case nS:p=JM;break;case"scroll":p=DM;break;case"wheel":p=t2;break;case"copy":case"cut":case"paste":p=BM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dw}var g=(e&4)!==0,v=!g&&t==="scroll",_=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,x;w!==null;){x=w;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,_!==null&&(C=Pu(w,_),C!=null&&g.push(Ou(w,C,x)))),v)break;w=w.return}0<g.length&&(h=new p(h,m,null,n,f),u.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ug&&(m=n.relatedTarget||n.fromElement)&&(Ks(m)||m[pr]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ks(m):null,m!==null&&(v=Po(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Mw,C="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=Dw,C="onPointerLeave",_="onPointerEnter",w="pointer"),v=p==null?h:ta(p),x=m==null?h:ta(m),h=new g(C,w+"leave",p,n,f),h.target=v,h.relatedTarget=x,C=null,Ks(f)===c&&(g=new g(_,w+"enter",m,n,f),g.target=x,g.relatedTarget=v,C=g),v=C,p&&m)t:{for(g=p,_=m,w=0,x=g;x;x=Uo(x))w++;for(x=0,C=_;C;C=Uo(C))x++;for(;0<w-x;)g=Uo(g),w--;for(;0<x-w;)_=Uo(_),x--;for(;w--;){if(g===_||_!==null&&g===_.alternate)break t;g=Uo(g),_=Uo(_)}g=null}else g=null;p!==null&&Ww(u,h,p,g,!1),m!==null&&v!==null&&Ww(u,v,m,g,!0)}}e:{if(h=c?ta(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=l2;else if(Lw(h))if(KE)I=f2;else{I=c2;var D=u2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=h2);if(I&&(I=I(t,c))){GE(u,I,n,f);break e}D&&D(t,h,c),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&rg(h,"number",h.value)}switch(D=c?ta(c):window,t){case"focusin":(Lw(D)||D.contentEditable==="true")&&(Jo=D,gg=c,uu=null);break;case"focusout":uu=gg=Jo=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,Uw(u,n,f);break;case"selectionchange":if(m2)break;case"keydown":case"keyup":Uw(u,n,f)}var k;if(dv)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zo?WE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(qE&&n.locale!=="ko"&&(Zo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Zo&&(k=$E()):(Fr=f,cv="value"in Fr?Fr.value:Fr.textContent,Zo=!0)),D=_f(c,b),0<D.length&&(b=new Vw(b,t,null,n,f),u.push({event:b,listeners:D}),k?b.data=k:(k=HE(n),k!==null&&(b.data=k)))),(k=i2?r2(t,n):s2(t,n))&&(c=_f(c,"onBeforeInput"),0<c.length&&(f=new Vw("onBeforeInput","beforeinput",null,n,f),u.push({event:f,listeners:c}),f.data=k))}rS(u,e)})}function Ou(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _f(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Pu(t,n),s!=null&&i.unshift(Ou(t,s,r)),s=Pu(t,e),s!=null&&i.push(Ou(t,s,r))),t=t.return}return i}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ww(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Pu(n,s),l!=null&&o.unshift(Ou(n,l,a))):r||(l=Pu(n,s),l!=null&&o.push(Ou(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _2=/\r\n?/g,w2=/\u0000|\uFFFD/g;function Hw(t){return(typeof t=="string"?t:""+t).replace(_2,`
`).replace(w2,"")}function hh(t,e,n){if(e=Hw(e),Hw(t)!==e&&n)throw Error(H(425))}function wf(){}var vg=null,_g=null;function wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xg=typeof setTimeout=="function"?setTimeout:void 0,x2=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,T2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(t){return Gw.resolve(null).then(t).catch(b2)}:xg;function b2(t){setTimeout(function(){throw t})}function qp(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ru(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ru(e)}function Xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Li="__reactFiber$"+fl,Nu="__reactProps$"+fl,pr="__reactContainer$"+fl,Tg="__reactEvents$"+fl,E2="__reactListeners$"+fl,S2="__reactHandles$"+fl;function Ks(t){var e=t[Li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[Li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kw(t);t!==null;){if(n=t[Li])return n;t=Kw(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[Li]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Td(t){return t[Nu]||null}var bg=[],na=-1;function Ts(t){return{current:t}}function $e(t){0>na||(t.current=bg[na],bg[na]=null,na--)}function je(t,e){na++,bg[na]=t.current,t.current=e}var us={},tn=Ts(us),wn=Ts(!1),mo=us;function Na(t,e){var n=t.type.contextTypes;if(!n)return us;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function xn(t){return t=t.childContextTypes,t!=null}function xf(){$e(wn),$e(tn)}function Qw(t,e,n){if(tn.current!==us)throw Error(H(168));je(tn,e),je(wn,n)}function oS(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(H(108,uM(t)||"Unknown",r));return Ze({},n,i)}function Tf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||us,mo=tn.current,je(tn,t),je(wn,wn.current),!0}function Xw(t,e,n){var i=t.stateNode;if(!i)throw Error(H(169));n?(t=oS(t,e,mo),i.__reactInternalMemoizedMergedChildContext=t,$e(wn),$e(tn),je(tn,t)):$e(wn),je(wn,n)}var nr=null,bd=!1,Wp=!1;function aS(t){nr===null?nr=[t]:nr.push(t)}function C2(t){bd=!0,aS(t)}function bs(){if(!Wp&&nr!==null){Wp=!0;var t=0,e=Me;try{var n=nr;for(Me=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}nr=null,bd=!1}catch(r){throw nr!==null&&(nr=nr.slice(t+1)),ME(ov,bs),r}finally{Me=e,Wp=!1}}return null}var ia=[],ra=0,bf=null,Ef=0,si=[],oi=0,go=null,sr=1,or="";function zs(t,e){ia[ra++]=Ef,ia[ra++]=bf,bf=t,Ef=e}function lS(t,e,n){si[oi++]=sr,si[oi++]=or,si[oi++]=go,go=t;var i=sr;t=or;var r=32-Si(i)-1;i&=~(1<<r),n+=1;var s=32-Si(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,sr=1<<32-Si(e)+r|n<<r|i,or=s+t}else sr=1<<s|n<<r|i,or=t}function mv(t){t.return!==null&&(zs(t,1),lS(t,1,0))}function gv(t){for(;t===bf;)bf=ia[--ra],ia[ra]=null,Ef=ia[--ra],ia[ra]=null;for(;t===go;)go=si[--oi],si[oi]=null,or=si[--oi],si[oi]=null,sr=si[--oi],si[oi]=null}var Bn=null,Nn=null,qe=!1,Ti=null;function uS(t,e){var n=ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Nn=Xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Nn=null,!0):!1;default:return!1}}function Eg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sg(t){if(qe){var e=Nn;if(e){var n=e;if(!Yw(t,e)){if(Eg(t))throw Error(H(418));e=Xr(n.nextSibling);var i=Bn;e&&Yw(t,e)?uS(i,n):(t.flags=t.flags&-4097|2,qe=!1,Bn=t)}}else{if(Eg(t))throw Error(H(418));t.flags=t.flags&-4097|2,qe=!1,Bn=t}}}function Zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function fh(t){if(t!==Bn)return!1;if(!qe)return Zw(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wg(t.type,t.memoizedProps)),e&&(e=Nn)){if(Eg(t))throw cS(),Error(H(418));for(;e;)uS(t,e),e=Xr(e.nextSibling)}if(Zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Bn?Xr(t.stateNode.nextSibling):null;return!0}function cS(){for(var t=Nn;t;)t=Xr(t.nextSibling)}function La(){Nn=Bn=null,qe=!1}function yv(t){Ti===null?Ti=[t]:Ti.push(t)}var k2=br.ReactCurrentBatchConfig;function zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var i=n.stateNode}if(!i)throw Error(H(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function dh(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jw(t){var e=t._init;return e(t._payload)}function hS(t){function e(_,w){if(t){var x=_.deletions;x===null?(_.deletions=[w],_.flags|=16):x.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function i(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function r(_,w){return _=es(_,w),_.index=0,_.sibling=null,_}function s(_,w,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<w?(_.flags|=2,w):x):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,x,C){return w===null||w.tag!==6?(w=Zp(x,_.mode,C),w.return=_,w):(w=r(w,x),w.return=_,w)}function l(_,w,x,C){var I=x.type;return I===Yo?f(_,w,x.props.children,C,x.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Rr&&Jw(I)===w.type)?(C=r(w,x.props),C.ref=zl(_,w,x),C.return=_,C):(C=Qh(x.type,x.key,x.props,null,_.mode,C),C.ref=zl(_,w,x),C.return=_,C)}function c(_,w,x,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Jp(x,_.mode,C),w.return=_,w):(w=r(w,x.children||[]),w.return=_,w)}function f(_,w,x,C,I){return w===null||w.tag!==7?(w=so(x,_.mode,C,I),w.return=_,w):(w=r(w,x),w.return=_,w)}function u(_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Zp(""+w,_.mode,x),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nh:return x=Qh(w.type,w.key,w.props,null,_.mode,x),x.ref=zl(_,null,w),x.return=_,x;case Xo:return w=Jp(w,_.mode,x),w.return=_,w;case Rr:var C=w._init;return u(_,C(w._payload),x)}if(Ql(w)||Ol(w))return w=so(w,_.mode,x,null),w.return=_,w;dh(_,w)}return null}function h(_,w,x,C){var I=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:a(_,w,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nh:return x.key===I?l(_,w,x,C):null;case Xo:return x.key===I?c(_,w,x,C):null;case Rr:return I=x._init,h(_,w,I(x._payload),C)}if(Ql(x)||Ol(x))return I!==null?null:f(_,w,x,C,null);dh(_,x)}return null}function p(_,w,x,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(x)||null,a(w,_,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case nh:return _=_.get(C.key===null?x:C.key)||null,l(w,_,C,I);case Xo:return _=_.get(C.key===null?x:C.key)||null,c(w,_,C,I);case Rr:var D=C._init;return p(_,w,x,D(C._payload),I)}if(Ql(C)||Ol(C))return _=_.get(x)||null,f(w,_,C,I,null);dh(w,C)}return null}function m(_,w,x,C){for(var I=null,D=null,k=w,b=w=0,E=null;k!==null&&b<x.length;b++){k.index>b?(E=k,k=null):E=k.sibling;var P=h(_,k,x[b],C);if(P===null){k===null&&(k=E);break}t&&k&&P.alternate===null&&e(_,k),w=s(P,w,b),D===null?I=P:D.sibling=P,D=P,k=E}if(b===x.length)return n(_,k),qe&&zs(_,b),I;if(k===null){for(;b<x.length;b++)k=u(_,x[b],C),k!==null&&(w=s(k,w,b),D===null?I=k:D.sibling=k,D=k);return qe&&zs(_,b),I}for(k=i(_,k);b<x.length;b++)E=p(k,_,b,x[b],C),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?b:E.key),w=s(E,w,b),D===null?I=E:D.sibling=E,D=E);return t&&k.forEach(function(M){return e(_,M)}),qe&&zs(_,b),I}function g(_,w,x,C){var I=Ol(x);if(typeof I!="function")throw Error(H(150));if(x=I.call(x),x==null)throw Error(H(151));for(var D=I=null,k=w,b=w=0,E=null,P=x.next();k!==null&&!P.done;b++,P=x.next()){k.index>b?(E=k,k=null):E=k.sibling;var M=h(_,k,P.value,C);if(M===null){k===null&&(k=E);break}t&&k&&M.alternate===null&&e(_,k),w=s(M,w,b),D===null?I=M:D.sibling=M,D=M,k=E}if(P.done)return n(_,k),qe&&zs(_,b),I;if(k===null){for(;!P.done;b++,P=x.next())P=u(_,P.value,C),P!==null&&(w=s(P,w,b),D===null?I=P:D.sibling=P,D=P);return qe&&zs(_,b),I}for(k=i(_,k);!P.done;b++,P=x.next())P=p(k,_,b,P.value,C),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?b:P.key),w=s(P,w,b),D===null?I=P:D.sibling=P,D=P);return t&&k.forEach(function(V){return e(_,V)}),qe&&zs(_,b),I}function v(_,w,x,C){if(typeof x=="object"&&x!==null&&x.type===Yo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case nh:e:{for(var I=x.key,D=w;D!==null;){if(D.key===I){if(I=x.type,I===Yo){if(D.tag===7){n(_,D.sibling),w=r(D,x.props.children),w.return=_,_=w;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Rr&&Jw(I)===D.type){n(_,D.sibling),w=r(D,x.props),w.ref=zl(_,D,x),w.return=_,_=w;break e}n(_,D);break}else e(_,D);D=D.sibling}x.type===Yo?(w=so(x.props.children,_.mode,C,x.key),w.return=_,_=w):(C=Qh(x.type,x.key,x.props,null,_.mode,C),C.ref=zl(_,w,x),C.return=_,_=C)}return o(_);case Xo:e:{for(D=x.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(_,w.sibling),w=r(w,x.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Jp(x,_.mode,C),w.return=_,_=w}return o(_);case Rr:return D=x._init,v(_,w,D(x._payload),C)}if(Ql(x))return m(_,w,x,C);if(Ol(x))return g(_,w,x,C);dh(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(_,w.sibling),w=r(w,x),w.return=_,_=w):(n(_,w),w=Zp(x,_.mode,C),w.return=_,_=w),o(_)):n(_,w)}return v}var Fa=hS(!0),fS=hS(!1),Sf=Ts(null),Cf=null,sa=null,vv=null;function _v(){vv=sa=Cf=null}function wv(t){var e=Sf.current;$e(Sf),t._currentValue=e}function Cg(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ta(t,e){Cf=t,vv=sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function fi(t){var e=t._currentValue;if(vv!==t)if(t={context:t,memoizedValue:e,next:null},sa===null){if(Cf===null)throw Error(H(308));sa=t,Cf.dependencies={lanes:0,firstContext:t}}else sa=sa.next=t;return e}var Qs=null;function xv(t){Qs===null?Qs=[t]:Qs.push(t)}function dS(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,xv(e)):(n.next=r.next,r.next=n),e.interleaved=n,mr(t,i)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mr=!1;function Tv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Se&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,mr(t,n)}return r=i.interleaved,r===null?(e.next=e,xv(i)):(e.next=r.next,r.next=e),i.interleaved=e,mr(t,n)}function $h(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,av(t,n)}}function ex(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kf(t,e,n,i){var r=t.updateQueue;Mr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var u=r.baseState;o=0,f=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((i&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,u,h):m,h==null)break e;u=Ze({},u,h);break e;case 2:Mr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=u):f=f.next=p,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(f===null&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);vo|=o,t.lanes=o,t.memoizedState=u}}function tx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(H(191,r));r.call(i)}}}var xc={},Ui=Ts(xc),Lu=Ts(xc),Fu=Ts(xc);function Xs(t){if(t===xc)throw Error(H(174));return t}function bv(t,e){switch(je(Fu,e),je(Lu,t),je(Ui,xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:og(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=og(e,t)}$e(Ui),je(Ui,e)}function ja(){$e(Ui),$e(Lu),$e(Fu)}function mS(t){Xs(Fu.current);var e=Xs(Ui.current),n=og(e,t.type);e!==n&&(je(Lu,t),je(Ui,n))}function Ev(t){Lu.current===t&&($e(Ui),$e(Lu))}var Ge=Ts(0);function Pf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function Sv(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var qh=br.ReactCurrentDispatcher,Gp=br.ReactCurrentBatchConfig,yo=0,Ye=null,vt=null,Et=null,Af=!1,cu=!1,ju=0,P2=0;function Bt(){throw Error(H(321))}function Cv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ai(t[n],e[n]))return!1;return!0}function kv(t,e,n,i,r,s){if(yo=s,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?M2:V2,t=n(i,r),cu){s=0;do{if(cu=!1,ju=0,25<=s)throw Error(H(301));s+=1,Et=vt=null,e.updateQueue=null,qh.current=D2,t=n(i,r)}while(cu)}if(qh.current=If,e=vt!==null&&vt.next!==null,yo=0,Et=vt=Ye=null,Af=!1,e)throw Error(H(300));return t}function Pv(){var t=ju!==0;return ju=0,t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ye.memoizedState=Et=t:Et=Et.next=t,Et}function di(){if(vt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Et===null?Ye.memoizedState:Et.next;if(e!==null)Et=e,vt=t;else{if(t===null)throw Error(H(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?Ye.memoizedState=Et=t:Et=Et.next=t}return Et}function zu(t,e){return typeof e=="function"?e(t):e}function Kp(t){var e=di(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var i=vt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((yo&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var u={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=i):l=l.next=u,Ye.lanes|=f,vo|=f}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Ai(i,e.memoizedState)||(_n=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ye.lanes|=s,vo|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qp(t){var e=di(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Ai(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function gS(){}function yS(t,e){var n=Ye,i=di(),r=e(),s=!Ai(i.memoizedState,r);if(s&&(i.memoizedState=r,_n=!0),i=i.queue,Av(wS.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Bu(9,_S.bind(null,n,i,r,e),void 0,null),St===null)throw Error(H(349));yo&30||vS(n,e,r)}return r}function vS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _S(t,e,n,i){e.value=n,e.getSnapshot=i,xS(e)&&TS(t)}function wS(t,e,n){return n(function(){xS(e)&&TS(t)})}function xS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ai(t,n)}catch{return!0}}function TS(t){var e=mr(t,1);e!==null&&Ci(e,t,1,-1)}function nx(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:t},e.queue=t,t=t.dispatch=R2.bind(null,Ye,t),[e.memoizedState,t]}function Bu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function bS(){return di().memoizedState}function Wh(t,e,n,i){var r=Di();Ye.flags|=t,r.memoizedState=Bu(1|e,n,void 0,i===void 0?null:i)}function Ed(t,e,n,i){var r=di();i=i===void 0?null:i;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,i!==null&&Cv(i,o.deps)){r.memoizedState=Bu(e,n,s,i);return}}Ye.flags|=t,r.memoizedState=Bu(1|e,n,s,i)}function ix(t,e){return Wh(8390656,8,t,e)}function Av(t,e){return Ed(2048,8,t,e)}function ES(t,e){return Ed(4,2,t,e)}function SS(t,e){return Ed(4,4,t,e)}function CS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kS(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4,4,CS.bind(null,e,t),n)}function Iv(){}function PS(t,e){var n=di();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Cv(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function AS(t,e){var n=di();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Cv(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function IS(t,e,n){return yo&21?(Ai(n,e)||(n=OE(),Ye.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function A2(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var i=Gp.transition;Gp.transition={};try{t(!1),e()}finally{Me=n,Gp.transition=i}}function RS(){return di().memoizedState}function I2(t,e,n){var i=Jr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},MS(t))VS(e,n);else if(n=dS(t,e,n,i),n!==null){var r=cn();Ci(n,t,i,r),DS(n,e,i)}}function R2(t,e,n){var i=Jr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(MS(t))VS(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Ai(a,o)){var l=e.interleaved;l===null?(r.next=r,xv(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=dS(t,e,r,i),n!==null&&(r=cn(),Ci(n,t,i,r),DS(n,e,i))}}function MS(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function VS(t,e){cu=Af=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DS(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,av(t,n)}}var If={readContext:fi,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},M2={readContext:fi,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:fi,useEffect:ix,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4194308,4,CS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wh(4,2,t,e)},useMemo:function(t,e){var n=Di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Di();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=I2.bind(null,Ye,t),[i.memoizedState,t]},useRef:function(t){var e=Di();return t={current:t},e.memoizedState=t},useState:nx,useDebugValue:Iv,useDeferredValue:function(t){return Di().memoizedState=t},useTransition:function(){var t=nx(!1),e=t[0];return t=A2.bind(null,t[1]),Di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ye,r=Di();if(qe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),St===null)throw Error(H(349));yo&30||vS(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,ix(wS.bind(null,i,s,t),[t]),i.flags|=2048,Bu(9,_S.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Di(),e=St.identifierPrefix;if(qe){var n=or,i=sr;n=(i&~(1<<32-Si(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ju++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},V2={readContext:fi,useCallback:PS,useContext:fi,useEffect:Av,useImperativeHandle:kS,useInsertionEffect:ES,useLayoutEffect:SS,useMemo:AS,useReducer:Kp,useRef:bS,useState:function(){return Kp(zu)},useDebugValue:Iv,useDeferredValue:function(t){var e=di();return IS(e,vt.memoizedState,t)},useTransition:function(){var t=Kp(zu)[0],e=di().memoizedState;return[t,e]},useMutableSource:gS,useSyncExternalStore:yS,useId:RS,unstable_isNewReconciler:!1},D2={readContext:fi,useCallback:PS,useContext:fi,useEffect:Av,useImperativeHandle:kS,useInsertionEffect:ES,useLayoutEffect:SS,useMemo:AS,useReducer:Qp,useRef:bS,useState:function(){return Qp(zu)},useDebugValue:Iv,useDeferredValue:function(t){var e=di();return vt===null?e.memoizedState=t:IS(e,vt.memoizedState,t)},useTransition:function(){var t=Qp(zu)[0],e=di().memoizedState;return[t,e]},useMutableSource:gS,useSyncExternalStore:yS,useId:RS,unstable_isNewReconciler:!1};function _i(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kg(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={isMounted:function(t){return(t=t._reactInternals)?Po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=cn(),r=Jr(t),s=ur(i,r);s.payload=e,n!=null&&(s.callback=n),e=Yr(t,s,r),e!==null&&(Ci(e,t,r,i),$h(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=cn(),r=Jr(t),s=ur(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yr(t,s,r),e!==null&&(Ci(e,t,r,i),$h(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),i=Jr(t),r=ur(n,i);r.tag=2,e!=null&&(r.callback=e),e=Yr(t,r,i),e!==null&&(Ci(e,t,i,n),$h(e,t,i))}};function rx(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vu(n,i)||!Vu(r,s):!0}function OS(t,e,n){var i=!1,r=us,s=e.contextType;return typeof s=="object"&&s!==null?s=fi(s):(r=xn(e)?mo:tn.current,i=e.contextTypes,s=(i=i!=null)?Na(t,r):us),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function sx(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function Pg(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Tv(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=fi(s):(s=xn(e)?mo:tn.current,r.context=Na(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kg(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Sd.enqueueReplaceState(r,r.state,null),kf(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function za(t,e){try{var n="",i=e;do n+=lM(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Xp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ag(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var O2=typeof WeakMap=="function"?WeakMap:Map;function NS(t,e,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Mf||(Mf=!0,jg=i),Ag(t,e)},n}function LS(t,e,n){n=ur(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Ag(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ag(t,e),typeof i!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ox(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new O2;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Q2.bind(null,t,e,n),e.then(t,t))}function ax(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lx(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ur(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t)}var N2=br.ReactCurrentOwner,_n=!1;function an(t,e,n,i){e.child=t===null?fS(e,null,n,i):Fa(e,t.child,n,i)}function ux(t,e,n,i,r){n=n.render;var s=e.ref;return Ta(e,r),i=kv(t,e,n,i,s,r),n=Pv(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,gr(t,e,r)):(qe&&n&&mv(e),e.flags|=1,an(t,e,i,r),e.child)}function cx(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Fv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,FS(t,e,s,i,r)):(t=Qh(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vu,n(o,i)&&t.ref===e.ref)return gr(t,e,r)}return e.flags|=1,t=es(s,i),t.ref=e.ref,t.return=e,e.child=t}function FS(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Vu(s,i)&&t.ref===e.ref)if(_n=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,gr(t,e,r)}return Ig(t,e,n,i,r)}function jS(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(aa,Vn),Vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(aa,Vn),Vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,je(aa,Vn),Vn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,je(aa,Vn),Vn|=i;return an(t,e,r,n),e.child}function zS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ig(t,e,n,i,r){var s=xn(n)?mo:tn.current;return s=Na(e,s),Ta(e,r),n=kv(t,e,n,i,s,r),i=Pv(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,gr(t,e,r)):(qe&&i&&mv(e),e.flags|=1,an(t,e,n,r),e.child)}function hx(t,e,n,i,r){if(xn(n)){var s=!0;Tf(e)}else s=!1;if(Ta(e,r),e.stateNode===null)Hh(t,e),OS(e,n,i),Pg(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=fi(c):(c=xn(n)?mo:tn.current,c=Na(e,c));var f=n.getDerivedStateFromProps,u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&sx(e,o,i,c),Mr=!1;var h=e.memoizedState;o.state=h,kf(e,i,o,r),l=e.memoizedState,a!==i||h!==l||wn.current||Mr?(typeof f=="function"&&(kg(e,n,f,i),l=e.memoizedState),(a=Mr||rx(e,n,a,i,h,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,pS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_i(e.type,a),o.props=c,u=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fi(l):(l=xn(n)?mo:tn.current,l=Na(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||h!==l)&&sx(e,o,i,l),Mr=!1,h=e.memoizedState,o.state=h,kf(e,i,o,r);var m=e.memoizedState;a!==u||h!==m||wn.current||Mr?(typeof p=="function"&&(kg(e,n,p,i),m=e.memoizedState),(c=Mr||rx(e,n,c,i,h,m,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return Rg(t,e,n,i,s,r)}function Rg(t,e,n,i,r,s){zS(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Xw(e,n,!1),gr(t,e,s);i=e.stateNode,N2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Fa(e,t.child,null,s),e.child=Fa(e,null,a,s)):an(t,e,a,s),e.memoizedState=i.state,r&&Xw(e,n,!0),e.child}function BS(t){var e=t.stateNode;e.pendingContext?Qw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qw(t,e.context,!1),bv(t,e.containerInfo)}function fx(t,e,n,i,r){return La(),yv(r),e.flags|=256,an(t,e,n,i),e.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function Vg(t){return{baseLanes:t,cachePool:null,transitions:null}}function US(t,e,n){var i=e.pendingProps,r=Ge.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),je(Ge,r&1),t===null)return Sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pd(o,i,0,null),t=so(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vg(n),e.memoizedState=Mg,t):Rv(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return L2(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=es(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=es(a,s):(s=so(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Vg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Mg,i}return s=t.child,t=s.sibling,i=es(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Rv(t,e){return e=Pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ph(t,e,n,i){return i!==null&&yv(i),Fa(e,t.child,null,n),t=Rv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L2(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Xp(Error(H(422))),ph(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Pd({mode:"visible",children:i.children},r,0,null),s=so(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Fa(e,t.child,null,o),e.child.memoizedState=Vg(o),e.memoizedState=Mg,s);if(!(e.mode&1))return ph(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(H(419)),i=Xp(s,i,void 0),ph(t,e,o,i)}if(a=(o&t.childLanes)!==0,_n||a){if(i=St,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,mr(t,r),Ci(i,t,r,-1))}return Lv(),i=Xp(Error(H(421))),ph(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=X2.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Nn=Xr(r.nextSibling),Bn=e,qe=!0,Ti=null,t!==null&&(si[oi++]=sr,si[oi++]=or,si[oi++]=go,sr=t.id,or=t.overflow,go=e),e=Rv(e,i.children),e.flags|=4096,e)}function dx(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Cg(t.return,e,n)}function Yp(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function $S(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(an(t,e,i.children,n),i=Ge.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dx(t,n,e);else if(t.tag===19)dx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(je(Ge,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Pf(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Yp(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Pf(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Yp(e,!0,n,null,s);break;case"together":Yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=es(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=es(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F2(t,e,n){switch(e.tag){case 3:BS(e),La();break;case 5:mS(e);break;case 1:xn(e.type)&&Tf(e);break;case 4:bv(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;je(Sf,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(je(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?US(t,e,n):(je(Ge,Ge.current&1),t=gr(t,e,n),t!==null?t.sibling:null);je(Ge,Ge.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return $S(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),je(Ge,Ge.current),i)break;return null;case 22:case 23:return e.lanes=0,jS(t,e,n)}return gr(t,e,n)}var qS,Dg,WS,HS;qS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};WS=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Xs(Ui.current);var s=null;switch(n){case"input":r=ng(t,r),i=ng(t,i),s=[];break;case"select":r=Ze({},r,{value:void 0}),i=Ze({},i,{value:void 0}),s=[];break;case"textarea":r=sg(t,r),i=sg(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=wf)}ag(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};HS=function(t,e,n,i){n!==i&&(e.flags|=4)};function Bl(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function j2(t,e,n){var i=e.pendingProps;switch(gv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return xn(e.type)&&xf(),Ut(e),null;case 3:return i=e.stateNode,ja(),$e(wn),$e(tn),Sv(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(fh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ti!==null&&(Ug(Ti),Ti=null))),Dg(t,e),Ut(e),null;case 5:Ev(e);var r=Xs(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)WS(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(H(166));return Ut(e),null}if(t=Xs(Ui.current),fh(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Li]=e,i[Nu]=s,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(r=0;r<Yl.length;r++)Ue(Yl[r],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Tw(i,s),Ue("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ue("invalid",i);break;case"textarea":Ew(i,s),Ue("invalid",i)}ag(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&hh(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hh(i.textContent,a,t),r=["children",""+a]):Cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",i)}switch(n){case"input":ih(i),bw(i,s,!0);break;case"textarea":ih(i),Sw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=wf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Li]=e,t[Nu]=i,qS(t,e,!1,!1),e.stateNode=t;e:{switch(o=lg(n,i),n){case"dialog":Ue("cancel",t),Ue("close",t),r=i;break;case"iframe":case"object":case"embed":Ue("load",t),r=i;break;case"video":case"audio":for(r=0;r<Yl.length;r++)Ue(Yl[r],t);r=i;break;case"source":Ue("error",t),r=i;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),r=i;break;case"details":Ue("toggle",t),r=i;break;case"input":Tw(t,i),r=ng(t,i),Ue("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ze({},i,{value:void 0}),Ue("invalid",t);break;case"textarea":Ew(t,i),r=sg(t,i),Ue("invalid",t);break;default:r=i}ag(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ku(t,l):typeof l=="number"&&ku(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ue("scroll",t):l!=null&&tv(t,s,l,o))}switch(n){case"input":ih(t),bw(t,i,!1);break;case"textarea":ih(t),Sw(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ls(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?va(t,!!i.multiple,s,!1):i.defaultValue!=null&&va(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=wf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)HS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(H(166));if(n=Xs(Fu.current),Xs(Ui.current),fh(e)){if(i=e.stateNode,n=e.memoizedProps,i[Li]=e,(s=i.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:hh(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hh(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Li]=e,e.stateNode=i}return Ut(e),null;case 13:if($e(Ge),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&Nn!==null&&e.mode&1&&!(e.flags&128))cS(),La(),e.flags|=98560,s=!1;else if(s=fh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Li]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else Ti!==null&&(Ug(Ti),Ti=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?xt===0&&(xt=3):Lv())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return ja(),Dg(t,e),t===null&&Du(e.stateNode.containerInfo),Ut(e),null;case 10:return wv(e.type._context),Ut(e),null;case 17:return xn(e.type)&&xf(),Ut(e),null;case 19:if($e(Ge),s=e.memoizedState,s===null)return Ut(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Bl(s,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pf(t),o!==null){for(e.flags|=128,Bl(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ge,Ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Ba&&(e.flags|=128,i=!0,Bl(s,!1),e.lanes=4194304)}else{if(!i)if(t=Pf(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Ut(e),null}else 2*at()-s.renderingStartTime>Ba&&n!==1073741824&&(e.flags|=128,i=!0,Bl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Ge.current,je(Ge,i?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Nv(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Vn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function z2(t,e){switch(gv(e),e.tag){case 1:return xn(e.type)&&xf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ja(),$e(wn),$e(tn),Sv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ev(e),null;case 13:if($e(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ge),null;case 4:return ja(),null;case 10:return wv(e.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var mh=!1,Kt=!1,B2=typeof WeakSet=="function"?WeakSet:Set,J=null;function oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){nt(t,e,i)}else n.current=null}function Og(t,e,n){try{n()}catch(i){nt(t,e,i)}}var px=!1;function U2(t,e){if(vg=yf,t=YE(),pv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,u=t,h=null;t:for(;;){for(var p;u!==n||r!==0&&u.nodeType!==3||(a=o+r),u!==s||i!==0&&u.nodeType!==3||(l=o+i),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)h=u,u=p;for(;;){if(u===t)break t;if(h===n&&++c===r&&(a=o),h===s&&++f===i&&(l=o),(p=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_g={focusedElem:t,selectionRange:n},yf=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:_i(e.type,g),v);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){nt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return m=px,px=!1,m}function hu(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Og(e,n,s)}r=r.next}while(r!==i)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GS(t){var e=t.alternate;e!==null&&(t.alternate=null,GS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Li],delete e[Nu],delete e[Tg],delete e[E2],delete e[S2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KS(t){return t.tag===5||t.tag===3||t.tag===4}function mx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wf));else if(i!==4&&(t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}function Fg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Fg(t,e,n),t=t.sibling;t!==null;)Fg(t,e,n),t=t.sibling}var It=null,xi=!1;function Pr(t,e,n){for(n=n.child;n!==null;)QS(t,e,n),n=n.sibling}function QS(t,e,n){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(vd,n)}catch{}switch(n.tag){case 5:Kt||oa(n,e);case 6:var i=It,r=xi;It=null,Pr(t,e,n),It=i,xi=r,It!==null&&(xi?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(xi?(t=It,n=n.stateNode,t.nodeType===8?qp(t.parentNode,n):t.nodeType===1&&qp(t,n),Ru(t)):qp(It,n.stateNode));break;case 4:i=It,r=xi,It=n.stateNode.containerInfo,xi=!0,Pr(t,e,n),It=i,xi=r;break;case 0:case 11:case 14:case 15:if(!Kt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Og(n,e,o),r=r.next}while(r!==i)}Pr(t,e,n);break;case 1:if(!Kt&&(oa(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){nt(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(Kt=(i=Kt)||n.memoizedState!==null,Pr(t,e,n),Kt=i):Pr(t,e,n);break;default:Pr(t,e,n)}}function gx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B2),e.forEach(function(i){var r=Y2.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function vi(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,xi=!1;break e;case 3:It=a.stateNode.containerInfo,xi=!0;break e;case 4:It=a.stateNode.containerInfo,xi=!0;break e}a=a.return}if(It===null)throw Error(H(160));QS(s,o,r),It=null,xi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){nt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XS(e,t),e=e.sibling}function XS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),Vi(t),i&4){try{hu(3,t,t.return),Cd(3,t)}catch(g){nt(t,t.return,g)}try{hu(5,t,t.return)}catch(g){nt(t,t.return,g)}}break;case 1:vi(e,t),Vi(t),i&512&&n!==null&&oa(n,n.return);break;case 5:if(vi(e,t),Vi(t),i&512&&n!==null&&oa(n,n.return),t.flags&32){var r=t.stateNode;try{ku(r,"")}catch(g){nt(t,t.return,g)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&vE(r,s),lg(a,o);var c=lg(a,s);for(o=0;o<l.length;o+=2){var f=l[o],u=l[o+1];f==="style"?bE(r,u):f==="dangerouslySetInnerHTML"?xE(r,u):f==="children"?ku(r,u):tv(r,f,u,c)}switch(a){case"input":ig(r,s);break;case"textarea":_E(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?va(r,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?va(r,!!s.multiple,s.defaultValue,!0):va(r,!!s.multiple,s.multiple?[]:"",!1))}r[Nu]=s}catch(g){nt(t,t.return,g)}}break;case 6:if(vi(e,t),Vi(t),i&4){if(t.stateNode===null)throw Error(H(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(g){nt(t,t.return,g)}}break;case 3:if(vi(e,t),Vi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ru(e.containerInfo)}catch(g){nt(t,t.return,g)}break;case 4:vi(e,t),Vi(t);break;case 13:vi(e,t),Vi(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Dv=at())),i&4&&gx(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(c=Kt)||f,vi(e,t),Kt=c):vi(e,t),Vi(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(J=t,f=t.child;f!==null;){for(u=J=f;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:hu(4,h,h.return);break;case 1:oa(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){nt(i,n,g)}}break;case 5:oa(h,h.return);break;case 22:if(h.memoizedState!==null){vx(u);continue}}p!==null?(p.return=h,J=p):vx(u)}f=f.sibling}e:for(f=null,u=t;;){if(u.tag===5){if(f===null){f=u;try{r=u.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TE("display",o))}catch(g){nt(t,t.return,g)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){nt(t,t.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:vi(e,t),Vi(t),i&4&&gx(t);break;case 21:break;default:vi(e,t),Vi(t)}}function Vi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KS(n)){var i=n;break e}n=n.return}throw Error(H(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ku(r,""),i.flags&=-33);var s=mx(t);Fg(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=mx(t);Lg(t,a,o);break;default:throw Error(H(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $2(t,e,n){J=t,YS(t)}function YS(t,e,n){for(var i=(t.mode&1)!==0;J!==null;){var r=J,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||mh;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=mh;var c=Kt;if(mh=o,(Kt=l)&&!c)for(J=r;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?_x(r):l!==null?(l.return=o,J=l):_x(r);for(;s!==null;)J=s,YS(s),s=s.sibling;J=r,mh=a,Kt=c}yx(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,J=s):yx(t)}}function yx(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Cd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Kt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:_i(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tx(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&Ru(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Kt||e.flags&512&&Ng(e)}catch(h){nt(e,e.return,h)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function vx(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function _x(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(l){nt(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){nt(e,r,l)}}var s=e.return;try{Ng(e)}catch(l){nt(e,s,l)}break;case 5:var o=e.return;try{Ng(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var q2=Math.ceil,Rf=br.ReactCurrentDispatcher,Mv=br.ReactCurrentOwner,hi=br.ReactCurrentBatchConfig,Se=0,St=null,pt=null,Dt=0,Vn=0,aa=Ts(0),xt=0,Uu=null,vo=0,kd=0,Vv=0,fu=null,yn=null,Dv=0,Ba=1/0,er=null,Mf=!1,jg=null,Zr=null,gh=!1,jr=null,Vf=0,du=0,zg=null,Gh=-1,Kh=0;function cn(){return Se&6?at():Gh!==-1?Gh:Gh=at()}function Jr(t){return t.mode&1?Se&2&&Dt!==0?Dt&-Dt:k2.transition!==null?(Kh===0&&(Kh=OE()),Kh):(t=Me,t!==0||(t=window.event,t=t===void 0?16:UE(t.type)),t):1}function Ci(t,e,n,i){if(50<du)throw du=0,zg=null,Error(H(185));vc(t,n,i),(!(Se&2)||t!==St)&&(t===St&&(!(Se&2)&&(kd|=n),xt===4&&Or(t,Dt)),Tn(t,i),n===1&&Se===0&&!(e.mode&1)&&(Ba=at()+500,bd&&bs()))}function Tn(t,e){var n=t.callbackNode;kM(t,e);var i=gf(t,t===St?Dt:0);if(i===0)n!==null&&Pw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Pw(n),e===1)t.tag===0?C2(wx.bind(null,t)):aS(wx.bind(null,t)),T2(function(){!(Se&6)&&bs()}),n=null;else{switch(NE(i)){case 1:n=ov;break;case 4:n=VE;break;case 16:n=mf;break;case 536870912:n=DE;break;default:n=mf}n=sC(n,ZS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZS(t,e){if(Gh=-1,Kh=0,Se&6)throw Error(H(327));var n=t.callbackNode;if(ba()&&t.callbackNode!==n)return null;var i=gf(t,t===St?Dt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Df(t,i);else{e=i;var r=Se;Se|=2;var s=eC();(St!==t||Dt!==e)&&(er=null,Ba=at()+500,ro(t,e));do try{G2();break}catch(a){JS(t,a)}while(!0);_v(),Rf.current=s,Se=r,pt!==null?e=0:(St=null,Dt=0,e=xt)}if(e!==0){if(e===2&&(r=dg(t),r!==0&&(i=r,e=Bg(t,r))),e===1)throw n=Uu,ro(t,0),Or(t,i),Tn(t,at()),n;if(e===6)Or(t,i);else{if(r=t.current.alternate,!(i&30)&&!W2(r)&&(e=Df(t,i),e===2&&(s=dg(t),s!==0&&(i=s,e=Bg(t,s))),e===1))throw n=Uu,ro(t,0),Or(t,i),Tn(t,at()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(H(345));case 2:Bs(t,yn,er);break;case 3:if(Or(t,i),(i&130023424)===i&&(e=Dv+500-at(),10<e)){if(gf(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){cn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=xg(Bs.bind(null,t,yn,er),e);break}Bs(t,yn,er);break;case 4:if(Or(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Si(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=at()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*q2(i/1960))-i,10<i){t.timeoutHandle=xg(Bs.bind(null,t,yn,er),i);break}Bs(t,yn,er);break;case 5:Bs(t,yn,er);break;default:throw Error(H(329))}}}return Tn(t,at()),t.callbackNode===n?ZS.bind(null,t):null}function Bg(t,e){var n=fu;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=Df(t,e),t!==2&&(e=yn,yn=n,e!==null&&Ug(e)),t}function Ug(t){yn===null?yn=t:yn.push.apply(yn,t)}function W2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ai(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~Vv,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Si(e),i=1<<n;t[n]=-1,e&=~i}}function wx(t){if(Se&6)throw Error(H(327));ba();var e=gf(t,0);if(!(e&1))return Tn(t,at()),null;var n=Df(t,e);if(t.tag!==0&&n===2){var i=dg(t);i!==0&&(e=i,n=Bg(t,i))}if(n===1)throw n=Uu,ro(t,0),Or(t,e),Tn(t,at()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bs(t,yn,er),Tn(t,at()),null}function Ov(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Ba=at()+500,bd&&bs())}}function _o(t){jr!==null&&jr.tag===0&&!(Se&6)&&ba();var e=Se;Se|=1;var n=hi.transition,i=Me;try{if(hi.transition=null,Me=1,t)return t()}finally{Me=i,hi.transition=n,Se=e,!(Se&6)&&bs()}}function Nv(){Vn=aa.current,$e(aa)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,x2(n)),pt!==null)for(n=pt.return;n!==null;){var i=n;switch(gv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xf();break;case 3:ja(),$e(wn),$e(tn),Sv();break;case 5:Ev(i);break;case 4:ja();break;case 13:$e(Ge);break;case 19:$e(Ge);break;case 10:wv(i.type._context);break;case 22:case 23:Nv()}n=n.return}if(St=t,pt=t=es(t.current,null),Dt=Vn=e,xt=0,Uu=null,Vv=kd=vo=0,yn=fu=null,Qs!==null){for(e=0;e<Qs.length;e++)if(n=Qs[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Qs=null}return t}function JS(t,e){do{var n=pt;try{if(_v(),qh.current=If,Af){for(var i=Ye.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Af=!1}if(yo=0,Et=vt=Ye=null,cu=!1,ju=0,Mv.current=null,n===null||n.return===null){xt=1,Uu=e,pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ax(o);if(p!==null){p.flags&=-257,lx(p,o,a,s,e),p.mode&1&&ox(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){ox(s,c,e),Lv();break e}l=Error(H(426))}}else if(qe&&a.mode&1){var v=ax(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),lx(v,o,a,s,e),yv(za(l,a));break e}}s=l=za(l,a),xt!==4&&(xt=2),fu===null?fu=[s]:fu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=NS(s,l,e);ex(s,_);break e;case 1:a=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zr===null||!Zr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=LS(s,a,e);ex(s,C);break e}}s=s.return}while(s!==null)}nC(n)}catch(I){e=I,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function eC(){var t=Rf.current;return Rf.current=If,t===null?If:t}function Lv(){(xt===0||xt===3||xt===2)&&(xt=4),St===null||!(vo&268435455)&&!(kd&268435455)||Or(St,Dt)}function Df(t,e){var n=Se;Se|=2;var i=eC();(St!==t||Dt!==e)&&(er=null,ro(t,e));do try{H2();break}catch(r){JS(t,r)}while(!0);if(_v(),Se=n,Rf.current=i,pt!==null)throw Error(H(261));return St=null,Dt=0,xt}function H2(){for(;pt!==null;)tC(pt)}function G2(){for(;pt!==null&&!vM();)tC(pt)}function tC(t){var e=rC(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,e===null?nC(t):pt=e,Mv.current=null}function nC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z2(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,pt=null;return}}else if(n=j2(n,e,Vn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);xt===0&&(xt=5)}function Bs(t,e,n){var i=Me,r=hi.transition;try{hi.transition=null,Me=1,K2(t,e,n,i)}finally{hi.transition=r,Me=i}return null}function K2(t,e,n,i){do ba();while(jr!==null);if(Se&6)throw Error(H(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PM(t,s),t===St&&(pt=St=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gh||(gh=!0,sC(mf,function(){return ba(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hi.transition,hi.transition=null;var o=Me;Me=1;var a=Se;Se|=4,Mv.current=null,U2(t,n),XS(n,t),p2(_g),yf=!!vg,_g=vg=null,t.current=n,$2(n),_M(),Se=a,Me=o,hi.transition=s}else t.current=n;if(gh&&(gh=!1,jr=t,Vf=r),s=t.pendingLanes,s===0&&(Zr=null),TM(n.stateNode),Tn(t,at()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Mf)throw Mf=!1,t=jg,jg=null,t;return Vf&1&&t.tag!==0&&ba(),s=t.pendingLanes,s&1?t===zg?du++:(du=0,zg=t):du=0,bs(),null}function ba(){if(jr!==null){var t=NE(Vf),e=hi.transition,n=Me;try{if(hi.transition=null,Me=16>t?16:t,jr===null)var i=!1;else{if(t=jr,jr=null,Vf=0,Se&6)throw Error(H(331));var r=Se;for(Se|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:hu(8,f,s)}var u=f.child;if(u!==null)u.return=f,J=u;else for(;J!==null;){f=J;var h=f.sibling,p=f.return;if(GS(f),f===c){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,J=_;break e}J=s.return}}var w=t.current;for(J=w;J!==null;){o=J;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,J=x;else e:for(o=w;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(I){nt(a,a.return,I)}if(a===o){J=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,J=C;break e}J=a.return}}if(Se=r,bs(),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(vd,t)}catch{}i=!0}return i}finally{Me=n,hi.transition=e}}return!1}function xx(t,e,n){e=za(n,e),e=NS(t,e,1),t=Yr(t,e,1),e=cn(),t!==null&&(vc(t,1,e),Tn(t,e))}function nt(t,e,n){if(t.tag===3)xx(t,t,n);else for(;e!==null;){if(e.tag===3){xx(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Zr===null||!Zr.has(i))){t=za(n,t),t=LS(e,t,1),e=Yr(e,t,1),t=cn(),e!==null&&(vc(e,1,t),Tn(e,t));break}}e=e.return}}function Q2(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Dt&n)===n&&(xt===4||xt===3&&(Dt&130023424)===Dt&&500>at()-Dv?ro(t,0):Vv|=n),Tn(t,e)}function iC(t,e){e===0&&(t.mode&1?(e=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):e=1);var n=cn();t=mr(t,e),t!==null&&(vc(t,e,n),Tn(t,n))}function X2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iC(t,n)}function Y2(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(H(314))}i!==null&&i.delete(e),iC(t,n)}var rC;rC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,F2(t,e,n);_n=!!(t.flags&131072)}else _n=!1,qe&&e.flags&1048576&&lS(e,Ef,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Hh(t,e),t=e.pendingProps;var r=Na(e,tn.current);Ta(e,n),r=kv(null,e,i,t,r,n);var s=Pv();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(i)?(s=!0,Tf(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Tv(e),r.updater=Sd,e.stateNode=r,r._reactInternals=e,Pg(e,i,t,n),e=Rg(null,e,i,!0,s,n)):(e.tag=0,qe&&s&&mv(e),an(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Hh(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=J2(i),t=_i(i,t),r){case 0:e=Ig(null,e,i,t,n);break e;case 1:e=hx(null,e,i,t,n);break e;case 11:e=ux(null,e,i,t,n);break e;case 14:e=cx(null,e,i,_i(i.type,t),n);break e}throw Error(H(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_i(i,r),Ig(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_i(i,r),hx(t,e,i,r,n);case 3:e:{if(BS(e),t===null)throw Error(H(387));i=e.pendingProps,s=e.memoizedState,r=s.element,pS(t,e),kf(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=za(Error(H(423)),e),e=fx(t,e,i,n,r);break e}else if(i!==r){r=za(Error(H(424)),e),e=fx(t,e,i,n,r);break e}else for(Nn=Xr(e.stateNode.containerInfo.firstChild),Bn=e,qe=!0,Ti=null,n=fS(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),i===r){e=gr(t,e,n);break e}an(t,e,i,n)}e=e.child}return e;case 5:return mS(e),t===null&&Sg(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,wg(i,r)?o=null:s!==null&&wg(i,s)&&(e.flags|=32),zS(t,e),an(t,e,o,n),e.child;case 6:return t===null&&Sg(e),null;case 13:return US(t,e,n);case 4:return bv(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Fa(e,null,i,n):an(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_i(i,r),ux(t,e,i,r,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,je(Sf,i._currentValue),i._currentValue=o,s!==null)if(Ai(s.value,o)){if(s.children===r.children&&!wn.current){e=gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ur(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}an(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ta(e,n),r=fi(r),i=i(r),e.flags|=1,an(t,e,i,n),e.child;case 14:return i=e.type,r=_i(i,e.pendingProps),r=_i(i.type,r),cx(t,e,i,r,n);case 15:return FS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_i(i,r),Hh(t,e),e.tag=1,xn(i)?(t=!0,Tf(e)):t=!1,Ta(e,n),OS(e,i,r),Pg(e,i,r,n),Rg(null,e,i,!0,t,n);case 19:return $S(t,e,n);case 22:return jS(t,e,n)}throw Error(H(156,e.tag))};function sC(t,e){return ME(t,e)}function Z2(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,e,n,i){return new Z2(t,e,n,i)}function Fv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J2(t){if(typeof t=="function")return Fv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iv)return 11;if(t===rv)return 14}return 2}function es(t,e){var n=t.alternate;return n===null?(n=ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qh(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Fv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yo:return so(n.children,r,s,e);case nv:o=8,r|=8;break;case Zm:return t=ai(12,n,e,r|2),t.elementType=Zm,t.lanes=s,t;case Jm:return t=ai(13,n,e,r),t.elementType=Jm,t.lanes=s,t;case eg:return t=ai(19,n,e,r),t.elementType=eg,t.lanes=s,t;case mE:return Pd(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dE:o=10;break e;case pE:o=9;break e;case iv:o=11;break e;case rv:o=14;break e;case Rr:o=16,i=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=ai(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function so(t,e,n,i){return t=ai(7,t,i,e),t.lanes=n,t}function Pd(t,e,n,i){return t=ai(22,t,i,e),t.elementType=mE,t.lanes=n,t.stateNode={isHidden:!1},t}function Zp(t,e,n){return t=ai(6,t,null,e),t.lanes=n,t}function Jp(t,e,n){return e=ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eV(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vp(0),this.expirationTimes=Vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vp(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jv(t,e,n,i,r,s,o,a,l){return t=new eV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ai(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tv(s),t}function tV(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function oC(t){if(!t)return us;t=t._reactInternals;e:{if(Po(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(xn(n))return oS(t,n,e)}return e}function aC(t,e,n,i,r,s,o,a,l){return t=jv(n,i,!0,t,r,s,o,a,l),t.context=oC(null),n=t.current,i=cn(),r=Jr(n),s=ur(i,r),s.callback=e??null,Yr(n,s,r),t.current.lanes=r,vc(t,r,i),Tn(t,i),t}function Ad(t,e,n,i){var r=e.current,s=cn(),o=Jr(r);return n=oC(n),e.context===null?e.context=n:e.pendingContext=n,e=ur(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Yr(r,e,o),t!==null&&(Ci(t,r,o,s),$h(t,r,o)),o}function Of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zv(t,e){Tx(t,e),(t=t.alternate)&&Tx(t,e)}function nV(){return null}var lC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bv(t){this._internalRoot=t}Id.prototype.render=Bv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Ad(t,e,null,null)};Id.prototype.unmount=Bv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_o(function(){Ad(null,t,null,null)}),e[pr]=null}};function Id(t){this._internalRoot=t}Id.prototype.unstable_scheduleHydration=function(t){if(t){var e=jE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dr.length&&e!==0&&e<Dr[n].priority;n++);Dr.splice(n,0,t),n===0&&BE(t)}};function Uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bx(){}function iV(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Of(o);s.call(c)}}var o=aC(e,i,t,0,null,!1,!1,"",bx);return t._reactRootContainer=o,t[pr]=o.current,Du(t.nodeType===8?t.parentNode:t),_o(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Of(l);a.call(c)}}var l=jv(t,0,!1,null,null,!1,!1,"",bx);return t._reactRootContainer=l,t[pr]=l.current,Du(t.nodeType===8?t.parentNode:t),_o(function(){Ad(e,l,n,i)}),l}function Md(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Of(o);a.call(l)}}Ad(e,o,t,r)}else o=iV(n,e,t,r,i);return Of(o)}LE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xl(e.pendingLanes);n!==0&&(av(e,n|1),Tn(e,at()),!(Se&6)&&(Ba=at()+500,bs()))}break;case 13:_o(function(){var i=mr(t,1);if(i!==null){var r=cn();Ci(i,t,1,r)}}),zv(t,1)}};lv=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=cn();Ci(e,t,134217728,n)}zv(t,134217728)}};FE=function(t){if(t.tag===13){var e=Jr(t),n=mr(t,e);if(n!==null){var i=cn();Ci(n,t,e,i)}zv(t,e)}};jE=function(){return Me};zE=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};cg=function(t,e,n){switch(e){case"input":if(ig(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Td(i);if(!r)throw Error(H(90));yE(i),ig(i,r)}}}break;case"textarea":_E(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};CE=Ov;kE=_o;var rV={usingClientEntryPoint:!1,Events:[wc,ta,Td,EE,SE,Ov]},Ul={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sV={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||nV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{vd=yh.inject(sV),Bi=yh}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rV;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uv(e))throw Error(H(200));return tV(t,e,null,n)};Qn.createRoot=function(t,e){if(!Uv(t))throw Error(H(299));var n=!1,i="",r=lC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=jv(t,1,!1,null,null,n,!1,i,r),t[pr]=e.current,Du(t.nodeType===8?t.parentNode:t),new Bv(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=IE(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return _o(t)};Qn.hydrate=function(t,e,n){if(!Rd(e))throw Error(H(200));return Md(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!Uv(t))throw Error(H(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=lC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aC(e,null,t,1,n??null,r,!1,s,o),t[pr]=e.current,Du(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Id(e)};Qn.render=function(t,e,n){if(!Rd(e))throw Error(H(200));return Md(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!Rd(t))throw Error(H(40));return t._reactRootContainer?(_o(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};Qn.unstable_batchedUpdates=Ov;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Rd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Md(t,e,n,!1,i)};Qn.version="18.3.1-next-f1338f8080-20240426";function uC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uC)}catch(t){console.error(t)}}uC(),uE.exports=Qn;var oV=uE.exports,Ex=oV;Xm.createRoot=Ex.createRoot,Xm.hydrateRoot=Ex.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Nf.apply(this,arguments)}var zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zr||(zr={}));const Sx="popstate";function aV(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return $g("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:hC(r)}return uV(e,n,null,t)}function kn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lV(){return Math.random().toString(36).substr(2,8)}function Cx(t,e){return{usr:t.state,key:t.key,idx:e}}function $g(t,e,n,i){return n===void 0&&(n=null),Nf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vd(e):e,{state:n,key:e&&e.key||i||lV()})}function hC(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Vd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function uV(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=zr.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(Nf({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function u(){a=zr.Pop;let v=f(),_=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:_})}function h(v,_){a=zr.Push;let w=$g(g.location,v,_);c=f()+1;let x=Cx(w,c),C=g.createHref(w);try{o.pushState(x,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(C)}s&&l&&l({action:a,location:g.location,delta:1})}function p(v,_){a=zr.Replace;let w=$g(g.location,v,_);c=f();let x=Cx(w,c),C=g.createHref(w);o.replaceState(x,"",C),s&&l&&l({action:a,location:g.location,delta:0})}function m(v){let _=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof v=="string"?v:hC(v);return w=w.replace(/ $/,"%20"),kn(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let g={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Sx,u),l=v,()=>{r.removeEventListener(Sx,u),l=null}},createHref(v){return e(r,v)},createURL:m,encodeLocation(v){let _=m(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var kx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kx||(kx={}));function cV(t,e,n){return n===void 0&&(n="/"),hV(t,e,n)}function hV(t,e,n,i){let r=typeof e=="string"?Vd(e):e,s=pC(r.pathname||"/",n);if(s==null)return null;let o=fC(t);fV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=EV(s);a=xV(o[l],c)}return a}function fC(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(kn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Ea([i,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(kn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),fC(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_V(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of dC(s.path))r(s,o,l)}),e}function dC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=dC(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wV(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const dV=/^:[\w-]+$/,pV=3,mV=2,gV=1,yV=10,vV=-2,Px=t=>t==="*";function _V(t,e){let n=t.split("/"),i=n.length;return n.some(Px)&&(i+=vV),e&&(i+=mV),n.filter(r=>!Px(r)).reduce((r,s)=>r+(dV.test(s)?pV:s===""?gV:yV),i)}function wV(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function xV(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",u=TV({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),h=l.route;if(!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:Ea([s,u.pathname]),pathnameBase:SV(Ea([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Ea([s,u.pathnameBase]))}return o}function TV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=bV(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,f,u)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let g=a[u]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[u];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function bV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function EV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const Ea=t=>t.join("/").replace(/\/\/+/g,"/"),SV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function CV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mC=["post","put","patch","delete"];new Set(mC);const kV=["get",...mC];new Set(kV);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lf.apply(this,arguments)}const PV=N.createContext(null),AV=N.createContext(null),gC=N.createContext(null),Dd=N.createContext(null),Od=N.createContext({outlet:null,matches:[],isDataRoute:!1}),yC=N.createContext(null);function $v(){return N.useContext(Dd)!=null}function IV(){return $v()||kn(!1),N.useContext(Dd).location}function RV(t,e){return MV(t,e)}function MV(t,e,n,i){$v()||kn(!1);let{navigator:r}=N.useContext(gC),{matches:s}=N.useContext(Od),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=IV(),f;if(e){var u;let v=typeof e=="string"?Vd(e):e;l==="/"||(u=v.pathname)!=null&&u.startsWith(l)||kn(!1),f=v}else f=c;let h=f.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=cV(t,{pathname:p}),g=LV(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Ea([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ea([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,i);return e&&g?N.createElement(Dd.Provider,{value:{location:Lf({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:zr.Pop}},g):g}function VV(){let t=BV(),e=CV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:r},n):null,null)}const DV=N.createElement(VV,null);class OV extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Od.Provider,{value:this.props.routeContext},N.createElement(yC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NV(t){let{routeContext:e,match:n,children:i}=t,r=N.useContext(PV);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Od.Provider,{value:e},i)}function LV(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let f=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);f>=0||kn(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<o.length;f++){let u=o[f];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=f),u.route.id){let{loaderData:h,errors:p}=n,m=u.route.loader&&h[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,u,h)=>{let p,m=!1,g=null,v=null;n&&(p=a&&u.route.id?a[u.route.id]:void 0,g=u.route.errorElement||DV,l&&(c<0&&h===0?(UV("route-fallback"),m=!0,v=null):c===h&&(m=!0,v=u.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),w=()=>{let x;return p?x=g:m?x=v:u.route.Component?x=N.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=f,N.createElement(NV,{match:u,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?N.createElement(OV,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var vC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vC||{});function FV(t){let e=N.useContext(AV);return e||kn(!1),e}function jV(t){let e=N.useContext(Od);return e||kn(!1),e}function zV(t){let e=jV(),n=e.matches[e.matches.length-1];return n.route.id||kn(!1),n.route.id}function BV(){var t;let e=N.useContext(yC),n=FV(vC.UseRouteError),i=zV();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}const Ax={};function UV(t,e,n){Ax[t]||(Ax[t]=!0)}function $V(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xh(t){kn(!1)}function qV(t){let{basename:e="/",children:n=null,location:i,navigationType:r=zr.Pop,navigator:s,static:o=!1,future:a}=t;$v()&&kn(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Lf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Vd(i));let{pathname:f="/",search:u="",hash:h="",state:p=null,key:m="default"}=i,g=N.useMemo(()=>{let v=pC(f,l);return v==null?null:{location:{pathname:v,search:u,hash:h,state:p,key:m},navigationType:r}},[l,f,u,h,p,m,r]);return g==null?null:N.createElement(gC.Provider,{value:c},N.createElement(Dd.Provider,{children:n,value:g}))}function WV(t){let{children:e,location:n}=t;return RV(qg(e),n)}new Promise(()=>{});function qg(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(i,r)=>{if(!N.isValidElement(i))return;let s=[...e,r];if(i.type===N.Fragment){n.push.apply(n,qg(i.props.children,s));return}i.type!==Xh&&kn(!1),!i.props.index||!i.props.children||kn(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=qg(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const HV="6";try{window.__reactRouterVersion=HV}catch{}const GV="startTransition",Ix=QR[GV];function KV(t){let{basename:e,children:n,future:i,window:r}=t,s=N.useRef();s.current==null&&(s.current=aV({window:r,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},f=N.useCallback(u=>{c&&Ix?Ix(()=>l(u)):l(u)},[l,c]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.useEffect(()=>$V(i),[i]),N.createElement(qV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}var Rx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rx||(Rx={}));var Mx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mx||(Mx={}));const QV="--tmp",XV={id:"tmp-base",name:"TMP Base",description:"The Misadventuring Party flagship theme - Where Failing is Fun!",system:"universal",colors:{primary:"#e84393",secondary:"#5dade2",tertiary:"#f39c12",background:{main:"#0a1628",card:"#0f2137",elevated:"#163354"},text:{primary:"#ffffff",secondary:"#a8c5d8",onPrimary:"#ffffff"},voting:{optionA:"#e84393",optionB:"#5dade2",optionC:"#f39c12",progressTrack:"#0a1628"},status:{success:"#27ae60",warning:"#f39c12",error:"#e74c3c",info:"#5dade2"}},typography:{fonts:{display:'"Righteous", "Impact", sans-serif',body:'"Nunito", "Segoe UI", sans-serif',accent:'"Bangers", cursive'},googleFontsUrl:"https://fonts.googleapis.com/css2?family=Righteous&family=Nunito:wght@400;600;700;800&family=Bangers&display=swap",sizes:{hero:"4rem",h1:"2.5rem",h2:"2rem",h3:"1.5rem",body:"1rem",small:"0.875rem"},weights:{normal:400,medium:600,bold:700,black:800}},animations:{easing:{default:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",bounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",enter:"cubic-bezier(0, 0.55, 0.45, 1)",exit:"cubic-bezier(0.55, 0, 1, 0.45)"},duration:{fast:150,normal:300,slow:500,voteUpdate:400},keyframes:{voteSelect:"tmp-pop",voteIncrement:"tmp-pulse",progressUpdate:"tmp-grow",idle:"tmp-float",victory:"tmp-explode",buttonHover:"tmp-glow"}},sounds:{votecast:"/sounds/tmp/dice-roll.mp3",timerTick:"/sounds/tmp/tick.mp3",timerEnd:"/sounds/tmp/buzzer.mp3",victory:"/sounds/tmp/fanfare.mp3",uiClick:"/sounds/tmp/click.mp3",error:"/sounds/tmp/fumble.mp3",ambient:"/sounds/tmp/tavern-ambience.mp3"},effects:{borderRadius:{small:"4px",medium:"8px",large:"16px",button:"12px",card:"16px"},shadows:{small:"0 2px 4px rgba(0, 0, 0, 0.3)",medium:"0 4px 12px rgba(0, 0, 0, 0.4)",large:"0 8px 24px rgba(0, 0, 0, 0.5)",glow:"0 0 30px rgba(232, 67, 147, 0.5)"},backgroundEffects:{main:`
        radial-gradient(ellipse at 30% 20%, rgba(232, 67, 147, 0.15) 0%, transparent 50%),
        radial-gradient(ellipse at 70% 80%, rgba(93, 173, 226, 0.1) 0%, transparent 50%),
        linear-gradient(180deg, #0a1628 0%, #0f2137 100%)
      `,overlay:"none"}}},YV={id:"soggy-bottom-pirates",name:"Soggy Bottom Pirates",description:"Cereal-punk pirate adventures on the high seas of breakfast!",system:"dnd-5e",colors:{primary:"#E4A11B",secondary:"#1E6091",tertiary:"#C13584",background:{main:"#0A1628",card:"#132238",elevated:"#1A3050"},text:{primary:"#FFF8E7",secondary:"#A8C5D8",onPrimary:"#1A1A1A"},voting:{optionA:"#E4A11B",optionB:"#1E6091",optionC:"#C13584",progressTrack:"#0D1B2A"},status:{success:"#4ADE80",warning:"#FBBF24",error:"#EF4444",info:"#38BDF8"}},typography:{fonts:{display:'"Pirata One", "Cinzel", serif',body:'"Nunito", "Segoe UI", sans-serif',accent:'"Permanent Marker", cursive'},googleFontsUrl:"https://fonts.googleapis.com/css2?family=Pirata+One&family=Nunito:wght@400;600;700;800&family=Permanent+Marker&display=swap",sizes:{hero:"4rem",h1:"2.5rem",h2:"2rem",h3:"1.5rem",body:"1rem",small:"0.875rem"},weights:{normal:400,medium:600,bold:700,black:800}},animations:{easing:{default:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",bounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",enter:"cubic-bezier(0, 0.55, 0.45, 1)",exit:"cubic-bezier(0.55, 0, 1, 0.45)"},duration:{fast:150,normal:300,slow:500,voteUpdate:400},keyframes:{voteSelect:"sbp-splash",voteIncrement:"sbp-bob",progressUpdate:"sbp-wave",idle:"sbp-float",victory:"sbp-treasure",buttonHover:"sbp-shine"}},sounds:{votecast:"/sounds/sbp/cannon-shot.mp3",timerTick:"/sounds/sbp/ship-bell.mp3",timerEnd:"/sounds/sbp/anchor-drop.mp3",victory:"/sounds/sbp/treasure-found.mp3",uiClick:"/sounds/sbp/wood-creak.mp3",error:"/sounds/sbp/splash.mp3",ambient:"/sounds/sbp/ocean-waves.mp3"},effects:{borderRadius:{small:"4px",medium:"8px",large:"16px",button:"8px",card:"12px"},shadows:{small:"0 2px 4px rgba(0, 0, 0, 0.3)",medium:"0 4px 12px rgba(0, 0, 0, 0.4)",large:"0 8px 24px rgba(0, 0, 0, 0.5)",glow:"0 0 20px rgba(228, 161, 27, 0.4)"},backgroundEffects:{main:`
        radial-gradient(ellipse at 50% 100%, rgba(30, 96, 145, 0.3) 0%, transparent 50%),
        linear-gradient(180deg, #0A1628 0%, #132238 100%)
      `,overlay:"url(/images/sbp/wave-pattern.svg)"}}},ZV={id:"neon-nightmares",name:"Neon Nightmares",description:"Be Kind, Rewind... if you dare.",system:"kids-on-bikes",colors:{primary:"#FF2D95",secondary:"#00F5FF",tertiary:"#39FF14",background:{main:"#0A0A0F",card:"#12121A",elevated:"#1A1A2E"},text:{primary:"#EAEAEA",secondary:"#A0A0B0",onPrimary:"#0A0A0F"},voting:{optionA:"#FF2D95",optionB:"#00F5FF",optionC:"#39FF14",progressTrack:"#1A1A2E"},status:{success:"#39FF14",warning:"#FFD700",error:"#FF3366",info:"#00F5FF"}},typography:{fonts:{display:'"VT323", "Courier New", monospace',body:'"Inter", "Segoe UI", sans-serif',accent:'"Orbitron", sans-serif'},googleFontsUrl:"https://fonts.googleapis.com/css2?family=VT323&family=Inter:wght@400;500;600;700&family=Orbitron:wght@500;700&display=swap",sizes:{hero:"4rem",h1:"2.5rem",h2:"2rem",h3:"1.5rem",body:"1rem",small:"0.875rem"},weights:{normal:400,medium:500,bold:600,black:700}},animations:{easing:{default:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",bounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",enter:"cubic-bezier(0, 0.55, 0.45, 1)",exit:"cubic-bezier(0.55, 0, 1, 0.45)"},duration:{fast:100,normal:250,slow:400,voteUpdate:350},keyframes:{voteSelect:"nn-glitch",voteIncrement:"nn-flicker",progressUpdate:"nn-scan",idle:"nn-static",victory:"nn-strobe",buttonHover:"nn-glow-pulse"}},sounds:{votecast:"/sounds/nn/synth-hit.mp3",timerTick:"/sounds/nn/tick-digital.mp3",timerEnd:"/sounds/nn/vhs-stop.mp3",victory:"/sounds/nn/synth-victory.mp3",uiClick:"/sounds/nn/button-click.mp3",error:"/sounds/nn/static-burst.mp3",ambient:"/sounds/nn/synth-ambient.mp3"},effects:{borderRadius:{small:"2px",medium:"4px",large:"8px",button:"4px",card:"6px"},shadows:{small:"0 0 5px rgba(255, 45, 149, 0.3)",medium:"0 0 15px rgba(255, 45, 149, 0.4)",large:"0 0 30px rgba(255, 45, 149, 0.5)",glow:`
        0 0 10px rgba(255, 45, 149, 0.8),
        0 0 20px rgba(255, 45, 149, 0.6),
        0 0 40px rgba(255, 45, 149, 0.4)
      `},backgroundEffects:{main:`
        repeating-linear-gradient(
          0deg,
          rgba(0, 0, 0, 0.1) 0px,
          rgba(0, 0, 0, 0.1) 1px,
          transparent 1px,
          transparent 2px
        ),
        linear-gradient(180deg, #0A0A0F 0%, #1A1A2E 100%)
      `,overlay:"url(/images/nn/scanlines.svg)"}}};var Ar={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var u=this||n;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var h=this||n;if(u=parseFloat(u),h.ctx||f(),typeof u<"u"&&u>=0&&u<=1){if(h._volume=u,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u,n.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),g=0;g<m.length;g++){var v=h._howls[p]._soundById(m[g]);v&&v._node&&(v._node.volume=v._volume*u)}return h}return h._volume},mute:function(u){var h=this||n;h.ctx||f(),h._muted=u,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u?0:h._volume,n.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),g=0;g<m.length;g++){var v=h._howls[p]._soundById(m[g]);v&&v._node&&(v._node.muted=u?!0:v._muted)}return h},stop:function(){for(var u=this||n,h=0;h<u._howls.length;h++)u._howls[h].stop();return u},unload:function(){for(var u=this||n,h=u._howls.length-1;h>=0;h--)u._howls[h].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,f()),u},codecs:function(u){return(this||n)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||n;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var h=new Audio;h.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||n,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return u}if(!h||typeof h.canPlayType!="function")return u;var p=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=u._navigator?u._navigator.userAgent:"",g=m.match(/OPR\/(\d+)/g),v=g&&parseInt(g[0].split("/")[1],10)<33,_=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,w=m.match(/Version\/(.*?) /),x=_&&w&&parseInt(w[1],10)<15;return u._codecs={mp3:!!(!v&&(p||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!x&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!x&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||n;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var h=function(p){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,u._releaseHtml5Audio(m)}catch{u.noAudio=!0;break}for(var g=0;g<u._howls.length;g++)if(!u._howls[g]._webAudio)for(var v=u._howls[g]._getSoundIds(),_=0;_<v.length;_++){var w=u._howls[g]._soundById(v[_]);w&&w._node&&!w._node._unlocked&&(w._node._unlocked=!0,w._node.load())}u._autoResume();var x=u.ctx.createBufferSource();x.buffer=u._scratchBuffer,x.connect(u.ctx.destination),typeof x.start>"u"?x.noteOn(0):x.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),x.onended=function(){x.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var C=0;C<u._howls.length;C++)u._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),u}},_obtainHtml5Audio:function(){var u=this||n;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var h=this||n;return u._unlocked&&h._html5AudioPool.push(u),h},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!n.usingWebAudio)){for(var h=0;h<u._howls.length;h++)if(u._howls[h]._webAudio){for(var p=0;p<u._howls[h]._sounds.length;p++)if(!u._howls[h]._sounds[p]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var m=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(m,m)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!n.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var h=0;h<u._howls.length;h++)u._howls[h]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var n=new e,i=function(u){var h=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(u)};i.prototype={init:function(u){var h=this;return n.ctx||f(),h._autoplay=u.autoplay||!1,h._format=typeof u.format!="string"?u.format:[u.format],h._html5=u.html5||!1,h._muted=u.mute||!1,h._loop=u.loop||!1,h._pool=u.pool||5,h._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,h._rate=u.rate||1,h._sprite=u.sprite||{},h._src=typeof u.src!="string"?u.src:[u.src],h._volume=u.volume!==void 0?u.volume:1,h._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=u.onend?[{fn:u.onend}]:[],h._onfade=u.onfade?[{fn:u.onfade}]:[],h._onload=u.onload?[{fn:u.onload}]:[],h._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],h._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],h._onpause=u.onpause?[{fn:u.onpause}]:[],h._onplay=u.onplay?[{fn:u.onplay}]:[],h._onstop=u.onstop?[{fn:u.onstop}]:[],h._onmute=u.onmute?[{fn:u.onmute}]:[],h._onvolume=u.onvolume?[{fn:u.onvolume}]:[],h._onrate=u.onrate?[{fn:u.onrate}]:[],h._onseek=u.onseek?[{fn:u.onseek}]:[],h._onunlock=u.onunlock?[{fn:u.onunlock}]:[],h._onresume=[],h._webAudio=n.usingWebAudio&&!h._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var u=this,h=null;if(n.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var p=0;p<u._src.length;p++){var m,g;if(u._format&&u._format[p])m=u._format[p];else{if(g=u._src[p],typeof g!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(g),m||(m=/\.([^.]+)$/.exec(g.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&n.codecs(m)){h=u._src[p];break}}if(!h){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=h,u._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new r(u),u._webAudio&&o(u),u},play:function(u,h){var p=this,m=null;if(typeof u=="number")m=u,u=null;else{if(typeof u=="string"&&p._state==="loaded"&&!p._sprite[u])return null;if(typeof u>"u"&&(u="__default",!p._playLock)){for(var g=0,v=0;v<p._sounds.length;v++)p._sounds[v]._paused&&!p._sounds[v]._ended&&(g++,m=p._sounds[v]._id);g===1?u=null:m=null}}var _=m?p._soundById(m):p._inactiveSound();if(!_)return null;if(m&&!u&&(u=_._sprite||"__default"),p._state!=="loaded"){_._sprite=u,_._ended=!1;var w=_._id;return p._queue.push({event:"play",action:function(){p.play(w)}}),w}if(m&&!_._paused)return h||p._loadQueue("play"),_._id;p._webAudio&&n._autoResume();var x=Math.max(0,_._seek>0?_._seek:p._sprite[u][0]/1e3),C=Math.max(0,(p._sprite[u][0]+p._sprite[u][1])/1e3-x),I=C*1e3/Math.abs(_._rate),D=p._sprite[u][0]/1e3,k=(p._sprite[u][0]+p._sprite[u][1])/1e3;_._sprite=u,_._ended=!1;var b=function(){_._paused=!1,_._seek=x,_._start=D,_._stop=k,_._loop=!!(_._loop||p._sprite[u][2])};if(x>=k){p._ended(_);return}var E=_._node;if(p._webAudio){var P=function(){p._playLock=!1,b(),p._refreshBuffer(_);var z=_._muted||p._muted?0:_._volume;E.gain.setValueAtTime(z,n.ctx.currentTime),_._playStart=n.ctx.currentTime,typeof E.bufferSource.start>"u"?_._loop?E.bufferSource.noteGrainOn(0,x,86400):E.bufferSource.noteGrainOn(0,x,C):_._loop?E.bufferSource.start(0,x,86400):E.bufferSource.start(0,x,C),I!==1/0&&(p._endTimers[_._id]=setTimeout(p._ended.bind(p,_),I)),h||setTimeout(function(){p._emit("play",_._id),p._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?P():(p._playLock=!0,p.once("resume",P),p._clearTimer(_._id))}else{var M=function(){E.currentTime=x,E.muted=_._muted||p._muted||n._muted||E.muted,E.volume=_._volume*n.volume(),E.playbackRate=_._rate;try{var z=E.play();if(z&&typeof Promise<"u"&&(z instanceof Promise||typeof z.then=="function")?(p._playLock=!0,b(),z.then(function(){p._playLock=!1,E._unlocked=!0,h?p._loadQueue():p._emit("play",_._id)}).catch(function(){p._playLock=!1,p._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):h||(p._playLock=!1,b(),p._emit("play",_._id)),E.playbackRate=_._rate,E.paused){p._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||_._loop?p._endTimers[_._id]=setTimeout(p._ended.bind(p,_),I):(p._endTimers[_._id]=function(){p._ended(_),E.removeEventListener("ended",p._endTimers[_._id],!1)},E.addEventListener("ended",p._endTimers[_._id],!1))}catch(Z){p._emit("playerror",_._id,Z)}};E.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(E.src=p._src,E.load());var V=window&&window.ejecta||!E.readyState&&n._navigator.isCocoonJS;if(E.readyState>=3||V)M();else{p._playLock=!0,p._state="loading";var A=function(){p._state="loaded",M(),E.removeEventListener(n._canPlayEvent,A,!1)};E.addEventListener(n._canPlayEvent,A,!1),p._clearTimer(_._id)}}return _._id},pause:function(u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(u)}}),h;for(var p=h._getSoundIds(u),m=0;m<p.length;m++){h._clearTimer(p[m]);var g=h._soundById(p[m]);if(g&&!g._paused&&(g._seek=h.seek(p[m]),g._rateSeek=0,g._paused=!0,h._stopFade(p[m]),g._node))if(h._webAudio){if(!g._node.bufferSource)continue;typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),h._cleanBuffer(g._node)}else(!isNaN(g._node.duration)||g._node.duration===1/0)&&g._node.pause();arguments[1]||h._emit("pause",g?g._id:null)}return h},stop:function(u,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(u)}}),p;for(var m=p._getSoundIds(u),g=0;g<m.length;g++){p._clearTimer(m[g]);var v=p._soundById(m[g]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,p._stopFade(m[g]),v._node&&(p._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),p._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&p._clearSound(v._node))),h||p._emit("stop",v._id))}return p},mute:function(u,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(u,h)}}),p;if(typeof h>"u")if(typeof u=="boolean")p._muted=u;else return p._muted;for(var m=p._getSoundIds(h),g=0;g<m.length;g++){var v=p._soundById(m[g]);v&&(v._muted=u,v._interval&&p._stopFade(v._id),p._webAudio&&v._node?v._node.gain.setValueAtTime(u?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:u),p._emit("mute",v._id))}return p},volume:function(){var u=this,h=arguments,p,m;if(h.length===0)return u._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var g=u._getSoundIds(),v=g.indexOf(h[0]);v>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length>=2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var _;if(typeof p<"u"&&p>=0&&p<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,h)}}),u;typeof m>"u"&&(u._volume=p),m=u._getSoundIds(m);for(var w=0;w<m.length;w++)_=u._soundById(m[w]),_&&(_._volume=p,h[2]||u._stopFade(m[w]),u._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(p,n.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=p*n.volume()),u._emit("volume",_._id))}else return _=m?u._soundById(m):u._sounds[0],_?_._volume:0;return u},fade:function(u,h,p,m){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"fade",action:function(){g.fade(u,h,p,m)}}),g;u=Math.min(Math.max(0,parseFloat(u)),1),h=Math.min(Math.max(0,parseFloat(h)),1),p=parseFloat(p),g.volume(u,m);for(var v=g._getSoundIds(m),_=0;_<v.length;_++){var w=g._soundById(v[_]);if(w){if(m||g._stopFade(v[_]),g._webAudio&&!w._muted){var x=n.ctx.currentTime,C=x+p/1e3;w._volume=u,w._node.gain.setValueAtTime(u,x),w._node.gain.linearRampToValueAtTime(h,C)}g._startFadeInterval(w,u,h,p,v[_],typeof m>"u")}}return g},_startFadeInterval:function(u,h,p,m,g,v){var _=this,w=h,x=p-h,C=Math.abs(x/.01),I=Math.max(4,C>0?m/C:m),D=Date.now();u._fadeTo=p,u._interval=setInterval(function(){var k=(Date.now()-D)/m;D=Date.now(),w+=x*k,w=Math.round(w*100)/100,x<0?w=Math.max(p,w):w=Math.min(p,w),_._webAudio?u._volume=w:_.volume(w,u._id,!0),v&&(_._volume=w),(p<h&&w<=p||p>h&&w>=p)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,_.volume(p,u._id),_._emit("fade",u._id))},I)},_stopFade:function(u){var h=this,p=h._soundById(u);return p&&p._interval&&(h._webAudio&&p._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(p._interval),p._interval=null,h.volume(p._fadeTo,u),p._fadeTo=null,h._emit("fade",u)),h},loop:function(){var u=this,h=arguments,p,m,g;if(h.length===0)return u._loop;if(h.length===1)if(typeof h[0]=="boolean")p=h[0],u._loop=p;else return g=u._soundById(parseInt(h[0],10)),g?g._loop:!1;else h.length===2&&(p=h[0],m=parseInt(h[1],10));for(var v=u._getSoundIds(m),_=0;_<v.length;_++)g=u._soundById(v[_]),g&&(g._loop=p,u._webAudio&&g._node&&g._node.bufferSource&&(g._node.bufferSource.loop=p,p&&(g._node.bufferSource.loopStart=g._start||0,g._node.bufferSource.loopEnd=g._stop,u.playing(v[_])&&(u.pause(v[_],!0),u.play(v[_],!0)))));return u},rate:function(){var u=this,h=arguments,p,m;if(h.length===0)m=u._sounds[0]._id;else if(h.length===1){var g=u._getSoundIds(),v=g.indexOf(h[0]);v>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var _;if(typeof p=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,h)}}),u;typeof m>"u"&&(u._rate=p),m=u._getSoundIds(m);for(var w=0;w<m.length;w++)if(_=u._soundById(m[w]),_){u.playing(m[w])&&(_._rateSeek=u.seek(m[w]),_._playStart=u._webAudio?n.ctx.currentTime:_._playStart),_._rate=p,u._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(p,n.ctx.currentTime):_._node&&(_._node.playbackRate=p);var x=u.seek(m[w]),C=(u._sprite[_._sprite][0]+u._sprite[_._sprite][1])/1e3-x,I=C*1e3/Math.abs(_._rate);(u._endTimers[m[w]]||!_._paused)&&(u._clearTimer(m[w]),u._endTimers[m[w]]=setTimeout(u._ended.bind(u,_),I)),u._emit("rate",_._id)}}else return _=u._soundById(m),_?_._rate:u._rate;return u},seek:function(){var u=this,h=arguments,p,m;if(h.length===0)u._sounds.length&&(m=u._sounds[0]._id);else if(h.length===1){var g=u._getSoundIds(),v=g.indexOf(h[0]);v>=0?m=parseInt(h[0],10):u._sounds.length&&(m=u._sounds[0]._id,p=parseFloat(h[0]))}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));if(typeof m>"u")return 0;if(typeof p=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,h)}}),u;var _=u._soundById(m);if(_)if(typeof p=="number"&&p>=0){var w=u.playing(m);w&&u.pause(m,!0),_._seek=p,_._ended=!1,u._clearTimer(m),!u._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=p);var x=function(){w&&u.play(m,!0),u._emit("seek",m)};if(w&&!u._webAudio){var C=function(){u._playLock?setTimeout(C,0):x()};setTimeout(C,0)}else x()}else if(u._webAudio){var I=u.playing(m)?n.ctx.currentTime-_._playStart:0,D=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(D+I*Math.abs(_._rate))}else return _._node.currentTime;return u},playing:function(u){var h=this;if(typeof u=="number"){var p=h._soundById(u);return p?!p._paused:!1}for(var m=0;m<h._sounds.length;m++)if(!h._sounds[m]._paused)return!0;return!1},duration:function(u){var h=this,p=h._duration,m=h._soundById(u);return m&&(p=h._sprite[m._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var u=this,h=u._sounds,p=0;p<h.length;p++)h[p]._paused||u.stop(h[p]._id),u._webAudio||(u._clearSound(h[p]._node),h[p]._node.removeEventListener("error",h[p]._errorFn,!1),h[p]._node.removeEventListener(n._canPlayEvent,h[p]._loadFn,!1),h[p]._node.removeEventListener("ended",h[p]._endFn,!1),n._releaseHtml5Audio(h[p]._node)),delete h[p]._node,u._clearTimer(h[p]._id);var m=n._howls.indexOf(u);m>=0&&n._howls.splice(m,1);var g=!0;for(p=0;p<n._howls.length;p++)if(n._howls[p]._src===u._src||u._src.indexOf(n._howls[p]._src)>=0){g=!1;break}return s&&g&&delete s[u._src],n.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,h,p,m){var g=this,v=g["_on"+u];return typeof h=="function"&&v.push(m?{id:p,fn:h,once:m}:{id:p,fn:h}),g},off:function(u,h,p){var m=this,g=m["_on"+u],v=0;if(typeof h=="number"&&(p=h,h=null),h||p)for(v=0;v<g.length;v++){var _=p===g[v].id;if(h===g[v].fn&&_||!h&&_){g.splice(v,1);break}}else if(u)m["_on"+u]=[];else{var w=Object.keys(m);for(v=0;v<w.length;v++)w[v].indexOf("_on")===0&&Array.isArray(m[w[v]])&&(m[w[v]]=[])}return m},once:function(u,h,p){var m=this;return m.on(u,h,p,1),m},_emit:function(u,h,p){for(var m=this,g=m["_on"+u],v=g.length-1;v>=0;v--)(!g[v].id||g[v].id===h||u==="load")&&(setTimeout((function(_){_.call(this,h,p)}).bind(m,g[v].fn),0),g[v].once&&m.off(u,g[v].fn,g[v].id));return m._loadQueue(u),m},_loadQueue:function(u){var h=this;if(h._queue.length>0){var p=h._queue[0];p.event===u&&(h._queue.shift(),h._loadQueue()),u||p.action()}return h},_ended:function(u){var h=this,p=u._sprite;if(!h._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(h._ended.bind(h,u),100),h;var m=!!(u._loop||h._sprite[p][2]);if(h._emit("end",u._id),!h._webAudio&&m&&h.stop(u._id,!0).play(u._id),h._webAudio&&m){h._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=n.ctx.currentTime;var g=(u._stop-u._start)*1e3/Math.abs(u._rate);h._endTimers[u._id]=setTimeout(h._ended.bind(h,u),g)}return h._webAudio&&!m&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,h._clearTimer(u._id),h._cleanBuffer(u._node),n._autoSuspend()),!h._webAudio&&!m&&h.stop(u._id,!0),h},_clearTimer:function(u){var h=this;if(h._endTimers[u]){if(typeof h._endTimers[u]!="function")clearTimeout(h._endTimers[u]);else{var p=h._soundById(u);p&&p._node&&p._node.removeEventListener("ended",h._endTimers[u],!1)}delete h._endTimers[u]}return h},_soundById:function(u){for(var h=this,p=0;p<h._sounds.length;p++)if(u===h._sounds[p]._id)return h._sounds[p];return null},_inactiveSound:function(){var u=this;u._drain();for(var h=0;h<u._sounds.length;h++)if(u._sounds[h]._ended)return u._sounds[h].reset();return new r(u)},_drain:function(){var u=this,h=u._pool,p=0,m=0;if(!(u._sounds.length<h)){for(m=0;m<u._sounds.length;m++)u._sounds[m]._ended&&p++;for(m=u._sounds.length-1;m>=0;m--){if(p<=h)return;u._sounds[m]._ended&&(u._webAudio&&u._sounds[m]._node&&u._sounds[m]._node.disconnect(0),u._sounds.splice(m,1),p--)}}},_getSoundIds:function(u){var h=this;if(typeof u>"u"){for(var p=[],m=0;m<h._sounds.length;m++)p.push(h._sounds[m]._id);return p}else return[u]},_refreshBuffer:function(u){var h=this;return u._node.bufferSource=n.ctx.createBufferSource(),u._node.bufferSource.buffer=s[h._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,n.ctx.currentTime),h},_cleanBuffer:function(u){var h=this,p=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!u.bufferSource)return h;if(n._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),p))try{u.bufferSource.buffer=n._scratchBuffer}catch{}return u.bufferSource=null,h},_clearSound:function(u){var h=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);h||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(u){this._parent=u,this.init()};r.prototype={init:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++n._counter,h._sounds.push(u),u.create(),u},create:function(){var u=this,h=u._parent,p=n._muted||u._muted||u._parent._muted?0:u._volume;return h._webAudio?(u._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),u._node.gain.setValueAtTime(p,n.ctx.currentTime),u._node.paused=!0,u._node.connect(n.masterGain)):n.noAudio||(u._node=n._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(n._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=h._src,u._node.preload=h._preload===!0?"auto":h._preload,u._node.volume=p*n.volume(),u._node.load()),u},reset:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++n._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,h=u._parent;h._duration=Math.ceil(u._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),u._node.removeEventListener(n._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,h=u._parent;h._duration===1/0&&(h._duration=Math.ceil(u._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var s={},o=function(u){var h=u._src;if(s[h]){u._duration=s[h].duration,c(u);return}if(/^data:[^;]+;base64,/.test(h)){for(var p=atob(h.split(",")[1]),m=new Uint8Array(p.length),g=0;g<p.length;++g)m[g]=p.charCodeAt(g);l(m.buffer,u)}else{var v=new XMLHttpRequest;v.open(u._xhr.method,h,!0),v.withCredentials=u._xhr.withCredentials,v.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(_){v.setRequestHeader(_,u._xhr.headers[_])}),v.onload=function(){var _=(v.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}l(v.response,u)},v.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete s[h],u.load())},a(v)}},a=function(u){try{u.send()}catch{u.onerror()}},l=function(u,h){var p=function(){h._emit("loaderror",null,"Decoding audio data failed.")},m=function(g){g&&h._sounds.length>0?(s[h._src]=g,c(h,g)):p()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(u).then(m).catch(p):n.ctx.decodeAudioData(u,m,p)},c=function(u,h){h&&!u._duration&&(u._duration=h.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},f=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),h=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=h?parseInt(h[1],10):null;if(u&&p&&p<9){var m=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!m&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=i,typeof Dl<"u"?(Dl.HowlerGlobal=e,Dl.Howler=n,Dl.Howl=i,Dl.Sound=r):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=i,window.Sound=r)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var r=i._howls.length-1;r>=0;r--)i._howls[r].stereo(n);return i},HowlerGlobal.prototype.pos=function(n,i,r){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(i=typeof i!="number"?s._pos[1]:i,r=typeof r!="number"?s._pos[2]:r,typeof n=="number")s._pos=[n,i,r],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,i,r,s,o,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;if(i=typeof i!="number"?c[1]:i,r=typeof r!="number"?c[2]:r,s=typeof s!="number"?c[3]:s,o=typeof o!="number"?c[4]:o,a=typeof a!="number"?c[5]:a,typeof n=="number")l._orientation=[n,i,r,s,o,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,i,r,s,o,a);else return c;return l},Howl.prototype.init=function(n){return function(i){var r=this;return r._orientation=i.orientation||[1,0,0],r._stereo=i.stereo||null,r._pos=i.pos||null,r._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},r._onstereo=i.onstereo?[{fn:i.onstereo}]:[],r._onpos=i.onpos?[{fn:i.onpos}]:[],r._onorientation=i.onorientation?[{fn:i.onorientation}]:[],n.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,i){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(n,i)}}),r;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof n=="number")r._stereo=n,r._pos=[n,0,0];else return r._stereo;for(var o=r._getSoundIds(i),a=0;a<o.length;a++){var l=r._soundById(o[a]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),r._emit("stereo",l._id);else return l._stereo}return r},Howl.prototype.pos=function(n,i,r,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,i,r,s)}}),o;if(i=typeof i!="number"?0:i,r=typeof r!="number"?-.5:r,typeof s>"u")if(typeof n=="number")o._pos=[n,i,r];else return o._pos;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var c=o._soundById(a[l]);if(c)if(typeof n=="number")c._pos=[n,i,r],c._node&&((!c._panner||c._panner.pan)&&e(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(n,i,r)),o._emit("pos",c._id);else return c._pos}return o},Howl.prototype.orientation=function(n,i,r,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,i,r,s)}}),o;if(i=typeof i!="number"?o._orientation[1]:i,r=typeof r!="number"?o._orientation[2]:r,typeof s>"u")if(typeof n=="number")o._orientation=[n,i,r];else return o._orientation;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var c=o._soundById(a[l]);if(c)if(typeof n=="number")c._orientation=[n,i,r],c._node&&(c._panner||(c._pos||(c._pos=o._pos||[0,0,-.5]),e(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(n,i,r)),o._emit("orientation",c._id);else return c._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,i=arguments,r,s,o;if(!n._webAudio)return n;if(i.length===0)return n._pannerAttr;if(i.length===1)if(typeof i[0]=="object")r=i[0],typeof s>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),n._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(i[0],10)),o?o._pannerAttr:n._pannerAttr;else i.length===2&&(r=i[0],s=parseInt(i[1],10));for(var a=n._getSoundIds(s),l=0;l<a.length;l++)if(o=n._soundById(a[l]),o){var c=o._pannerAttr;c={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:c.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:c.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:c.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:c.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:c.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:c.panningModel};var f=o._panner;f||(o._pos||(o._pos=n._pos||[0,0,-.5]),e(o,"spatial"),f=o._panner),f.coneInnerAngle=c.coneInnerAngle,f.coneOuterAngle=c.coneOuterAngle,f.coneOuterGain=c.coneOuterGain,f.distanceModel=c.distanceModel,f.maxDistance=c.maxDistance,f.refDistance=c.refDistance,f.rolloffFactor=c.rolloffFactor,f.panningModel=c.panningModel}return n},Sound.prototype.init=function(n){return function(){var i=this,r=i._parent;i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,n.call(this),i._stereo?r.stereo(i._stereo):i._pos&&r.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var i=this,r=i._parent;return i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,i._stereo?r.stereo(i._stereo):i._pos?r.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,r._refreshBuffer(i)),n.call(this)}}(Sound.prototype.reset);var e=function(n,i){i=i||"spatial",i==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Ar);let em=null;function ti(){return em||(em=new AudioContext),em}const Zn={votecast:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination);const i=e.createOscillator();i.type="sine",i.frequency.setValueAtTime(600,e.currentTime),i.frequency.exponentialRampToValueAtTime(1400,e.currentTime+.05),i.frequency.exponentialRampToValueAtTime(800,e.currentTime+.12);const r=e.createOscillator();r.type="triangle",r.frequency.setValueAtTime(1200,e.currentTime),r.frequency.exponentialRampToValueAtTime(400,e.currentTime+.1),n.gain.setValueAtTime(t*.5,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.15),i.connect(n),r.connect(n),i.start(e.currentTime),r.start(e.currentTime),i.stop(e.currentTime+.15),r.stop(e.currentTime+.15)},timerTick:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination);const i=e.createOscillator();i.type="square",i.frequency.value=880,n.gain.setValueAtTime(t*.2,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.04),i.connect(n),i.start(e.currentTime),i.stop(e.currentTime+.04)},timerEnd:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination);const i=e.createOscillator();i.type="sawtooth",i.frequency.value=220;const r=e.createOscillator();r.frequency.value=15;const s=e.createGain();s.gain.value=40,r.connect(s),s.connect(i.frequency),n.gain.setValueAtTime(t*.4,e.currentTime),n.gain.setValueAtTime(t*.4,e.currentTime+.4),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.6),i.connect(n),r.start(e.currentTime),i.start(e.currentTime),i.stop(e.currentTime+.6),r.stop(e.currentTime+.6)},victory:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination),[523.25,659.25,783.99,1046.5,1318.51].forEach((r,s)=>{const o=e.createOscillator();o.type="triangle",o.frequency.value=r;const a=e.createGain();a.connect(n),a.gain.setValueAtTime(0,e.currentTime+s*.1),a.gain.linearRampToValueAtTime(t*.35,e.currentTime+s*.1+.02),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+s*.1+.4),o.connect(a),o.start(e.currentTime+s*.1),o.stop(e.currentTime+s*.1+.4)})},error:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination);const i=e.createOscillator();i.type="sawtooth",i.frequency.value=120,n.gain.setValueAtTime(t*.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.25),i.connect(n),i.start(e.currentTime),i.stop(e.currentTime+.25)},uiClick:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination);const i=e.createOscillator();i.type="sine",i.frequency.value=1200,n.gain.setValueAtTime(t*.15,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.03),i.connect(n),i.start(e.currentTime),i.stop(e.currentTime+.03)},whoosh:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination);const i=e.createBufferSource(),r=e.sampleRate*.35,s=e.createBuffer(1,r,e.sampleRate),o=s.getChannelData(0);for(let l=0;l<r;l++)o[l]=Math.random()*2-1;i.buffer=s;const a=e.createBiquadFilter();a.type="bandpass",a.frequency.setValueAtTime(400,e.currentTime),a.frequency.exponentialRampToValueAtTime(2500,e.currentTime+.15),a.frequency.exponentialRampToValueAtTime(600,e.currentTime+.35),a.Q.value=.7,n.gain.setValueAtTime(.01,e.currentTime),n.gain.linearRampToValueAtTime(t*.2,e.currentTime+.1),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.35),i.connect(a),a.connect(n),i.start(e.currentTime),i.stop(e.currentTime+.35)},diceRoll:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination);for(let i=0;i<8;i++){const r=i*.05+Math.random()*.03,s=e.createGain();s.connect(n);const o=e.createOscillator();o.type="square",o.frequency.value=800+Math.random()*600,s.gain.setValueAtTime(t*.15,e.currentTime+r),s.gain.exponentialRampToValueAtTime(.01,e.currentTime+r+.02),o.connect(s),o.start(e.currentTime+r),o.stop(e.currentTime+r+.02)}},diceImpact:t=>{const e=ti();if(e.state==="suspended")return;const n=e.createGain();n.connect(e.destination);const i=e.createOscillator();i.type="sine",i.frequency.setValueAtTime(200,e.currentTime),i.frequency.exponentialRampToValueAtTime(50,e.currentTime+.1);const r=e.createBufferSource(),s=e.sampleRate*.05,o=e.createBuffer(1,s,e.sampleRate),a=o.getChannelData(0);for(let c=0;c<s;c++)a[c]=Math.random()*2-1;r.buffer=o;const l=e.createGain();l.connect(n),l.gain.setValueAtTime(t*.2,e.currentTime),l.gain.exponentialRampToValueAtTime(.01,e.currentTime+.05),n.gain.setValueAtTime(t*.5,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.15),i.connect(n),r.connect(l),i.start(e.currentTime),r.start(e.currentTime),i.stop(e.currentTime+.15),r.stop(e.currentTime+.05)},countdown:(t,e="low")=>{const n=ti();if(n.state==="suspended")return;const i=n.createGain();i.connect(n.destination);const r=e==="high"?880:440,s=n.createOscillator();s.type="triangle",s.frequency.value=r,i.gain.setValueAtTime(t*.3,n.currentTime),i.gain.exponentialRampToValueAtTime(.01,n.currentTime+.15),s.connect(i),s.start(n.currentTime),s.stop(n.currentTime+.15)}},Vx={"tmp-base":{spriteUrl:null,sprites:{votecast:[0,200],timerTick:[200,100],timerEnd:[300,600],victory:[900,800],error:[1700,300],uiClick:[2e3,100],whoosh:[2100,350],diceRoll:[2450,500],diceImpact:[2950,200]},ambientUrl:null,battleMusicUrl:null},"soggy-bottom-pirates":{spriteUrl:null,sprites:{votecast:[0,300],timerTick:[300,150],timerEnd:[450,800],victory:[1250,1200],error:[2450,400],uiClick:[2850,100],whoosh:[2950,400],diceRoll:[3350,600],diceImpact:[3950,300]},ambientUrl:null,battleMusicUrl:null},"neon-nightmares":{spriteUrl:null,sprites:{votecast:[0,250],timerTick:[250,100],timerEnd:[350,700],victory:[1050,1e3],error:[2050,400],uiClick:[2450,80],whoosh:[2530,350],diceRoll:[2880,500],diceImpact:[3380,250]},ambientUrl:null,battleMusicUrl:null}};class JV{constructor(){kr(this,"config",{masterVolume:.8,sfxVolume:.7,musicVolume:.5,ambientVolume:.3});kr(this,"currentTheme","tmp-base");kr(this,"sfxSprite",null);kr(this,"ambientLoop",null);kr(this,"battleMusic",null);kr(this,"isInitialized",!1);kr(this,"isMuted",!1)}async init(){if(this.isInitialized)return;const e=ti();e.state==="suspended"&&await e.resume(),Ar.Howler.volume(this.config.masterVolume),this.isInitialized=!0,console.log(" Awesome Mix Audio System initialized")}async loadTheme(e){if(this.currentTheme===e&&this.sfxSprite)return;this.unloadCurrentTheme(),this.currentTheme=e;const n=Vx[e];n.spriteUrl&&(this.sfxSprite=new Ar.Howl({src:[n.spriteUrl],sprite:n.sprites,preload:!0,onloaderror:(i,r)=>{console.warn(`Failed to load SFX sprite for ${e}:`,r),this.sfxSprite=null}})),n.ambientUrl&&(this.ambientLoop=new Ar.Howl({src:[n.ambientUrl],loop:!0,volume:this.config.ambientVolume*this.config.masterVolume,preload:!0})),n.battleMusicUrl&&(this.battleMusic=new Ar.Howl({src:[n.battleMusicUrl],loop:!0,volume:0,preload:!0})),console.log(` Loaded audio pack for theme: ${e}`)}unloadCurrentTheme(){this.sfxSprite&&(this.sfxSprite.unload(),this.sfxSprite=null),this.ambientLoop&&(this.ambientLoop.stop(),this.ambientLoop.unload(),this.ambientLoop=null),this.battleMusic&&(this.battleMusic.stop(),this.battleMusic.unload(),this.battleMusic=null)}play(e,n){if(!this.isInitialized||this.isMuted)return;const i=((n==null?void 0:n.volume)??1)*this.config.sfxVolume*this.config.masterVolume;if(this.sfxSprite){const r=Vx[this.currentTheme];if(e in r.sprites){const s=this.sfxSprite.play(e);this.sfxSprite.volume(i,s),n!=null&&n.rate&&this.sfxSprite.rate(n.rate,s);return}}this.playSynth(e,i)}playSynth(e,n){switch(e){case"votecast":Zn.votecast(n);break;case"timerTick":Zn.timerTick(n);break;case"timerEnd":Zn.timerEnd(n);break;case"victory":Zn.victory(n);break;case"error":Zn.error(n);break;case"uiClick":Zn.uiClick(n);break;case"whoosh":Zn.whoosh(n);break;case"diceRoll":Zn.diceRoll(n);break;case"diceImpact":Zn.diceImpact(n);break;case"countdown":Zn.countdown(n);break;case"ambient":break;case"battleMusic":break;default:console.debug(`Unknown sound: ${e}`)}}startAmbient(e=2e3){if(!this.ambientLoop){console.debug("No ambient audio loaded for current theme");return}this.ambientLoop.play(),this.ambientLoop.fade(0,this.config.ambientVolume*this.config.masterVolume,e)}stopAmbient(e=1e3){this.ambientLoop&&(this.ambientLoop.fade(this.ambientLoop.volume(),0,e),setTimeout(()=>{var n;(n=this.ambientLoop)==null||n.stop()},e))}startBattleMusic(e=500){if(!this.battleMusic){console.debug("No battle music loaded for current theme"),this.playBattleMusicSynth();return}this.ambientLoop&&this.ambientLoop.fade(this.ambientLoop.volume(),this.config.ambientVolume*.3*this.config.masterVolume,e),this.battleMusic.play(),this.battleMusic.fade(0,this.config.musicVolume*this.config.masterVolume,e)}stopBattleMusic(e=2e3){this.battleMusic&&(this.battleMusic.fade(this.battleMusic.volume(),0,e),setTimeout(()=>{var n;(n=this.battleMusic)==null||n.stop()},e)),this.ambientLoop&&this.ambientLoop.fade(this.ambientLoop.volume(),this.config.ambientVolume*this.config.masterVolume,e)}playBattleMusicSynth(){const e=ti();if(e.state==="suspended")return;const n=this.config.musicVolume*this.config.masterVolume,i=e.createGain();i.connect(e.destination),[164.81,246.94,329.63].forEach((s,o)=>{const a=e.createOscillator();a.type="sawtooth",a.frequency.value=s;const l=e.createGain();l.connect(i),l.gain.setValueAtTime(n*.25,e.currentTime),l.gain.exponentialRampToValueAtTime(.01,e.currentTime+2),a.connect(l),a.start(e.currentTime),a.stop(e.currentTime+2)})}setMasterVolume(e){this.config.masterVolume=Math.max(0,Math.min(1,e)),Ar.Howler.volume(this.config.masterVolume)}setSfxVolume(e){this.config.sfxVolume=Math.max(0,Math.min(1,e))}setMusicVolume(e){this.config.musicVolume=Math.max(0,Math.min(1,e)),this.battleMusic&&this.battleMusic.playing()&&this.battleMusic.volume(this.config.musicVolume*this.config.masterVolume)}setAmbientVolume(e){this.config.ambientVolume=Math.max(0,Math.min(1,e)),this.ambientLoop&&this.ambientLoop.playing()&&this.ambientLoop.volume(this.config.ambientVolume*this.config.masterVolume)}mute(){this.isMuted=!0,Ar.Howler.mute(!0)}unmute(){this.isMuted=!1,Ar.Howler.mute(!1)}toggleMute(){return this.isMuted?this.unmute():this.mute(),this.isMuted}playCountdownTick(e){e<=3?Zn.countdown(this.config.sfxVolume*this.config.masterVolume,"high"):e<=10&&Zn.countdown(this.config.sfxVolume*this.config.masterVolume,"low")}playVictoryFanfare(){this.play("victory",{volume:1.2})}async playDiceSequence(e=1500){return this.play("diceRoll"),new Promise(n=>{setTimeout(()=>{this.play("diceImpact",{volume:1.3}),n()},e)})}get initialized(){return this.isInitialized}get muted(){return this.isMuted}get currentThemeId(){return this.currentTheme}getConfig(){return{...this.config}}}const yt=new JV;function eD(){yt.init()}const _C=N.createContext(null);function tD(t){const e=[],n=QV;return e.push(`${n}-color-primary: ${t.colors.primary}`),e.push(`${n}-color-secondary: ${t.colors.secondary}`),e.push(`${n}-color-tertiary: ${t.colors.tertiary}`),e.push(`${n}-bg-main: ${t.colors.background.main}`),e.push(`${n}-bg-card: ${t.colors.background.card}`),e.push(`${n}-bg-elevated: ${t.colors.background.elevated}`),e.push(`${n}-text-primary: ${t.colors.text.primary}`),e.push(`${n}-text-secondary: ${t.colors.text.secondary}`),e.push(`${n}-text-on-primary: ${t.colors.text.onPrimary}`),e.push(`${n}-vote-option-a: ${t.colors.voting.optionA}`),e.push(`${n}-vote-option-b: ${t.colors.voting.optionB}`),t.colors.voting.optionC&&e.push(`${n}-vote-option-c: ${t.colors.voting.optionC}`),e.push(`${n}-vote-track: ${t.colors.voting.progressTrack}`),e.push(`${n}-status-success: ${t.colors.status.success}`),e.push(`${n}-status-warning: ${t.colors.status.warning}`),e.push(`${n}-status-error: ${t.colors.status.error}`),e.push(`${n}-status-info: ${t.colors.status.info}`),e.push(`--tmp-icon-primary: ${t.colors.primary}`),e.push(`--tmp-icon-secondary: ${t.colors.secondary}`),e.push(`${n}-font-display: ${t.typography.fonts.display}`),e.push(`${n}-font-body: ${t.typography.fonts.body}`),e.push(`${n}-font-accent: ${t.typography.fonts.accent}`),e.push(`${n}-size-hero: ${t.typography.sizes.hero}`),e.push(`${n}-size-h1: ${t.typography.sizes.h1}`),e.push(`${n}-size-h2: ${t.typography.sizes.h2}`),e.push(`${n}-size-h3: ${t.typography.sizes.h3}`),e.push(`${n}-size-body: ${t.typography.sizes.body}`),e.push(`${n}-size-small: ${t.typography.sizes.small}`),e.push(`${n}-ease-default: ${t.animations.easing.default}`),e.push(`${n}-ease-bounce: ${t.animations.easing.bounce}`),e.push(`${n}-ease-enter: ${t.animations.easing.enter}`),e.push(`${n}-ease-exit: ${t.animations.easing.exit}`),e.push(`${n}-duration-fast: ${t.animations.duration.fast}ms`),e.push(`${n}-duration-normal: ${t.animations.duration.normal}ms`),e.push(`${n}-duration-slow: ${t.animations.duration.slow}ms`),e.push(`${n}-duration-vote: ${t.animations.duration.voteUpdate}ms`),e.push(`${n}-radius-small: ${t.effects.borderRadius.small}`),e.push(`${n}-radius-medium: ${t.effects.borderRadius.medium}`),e.push(`${n}-radius-large: ${t.effects.borderRadius.large}`),e.push(`${n}-radius-button: ${t.effects.borderRadius.button}`),e.push(`${n}-radius-card: ${t.effects.borderRadius.card}`),e.push(`${n}-shadow-small: ${t.effects.shadows.small}`),e.push(`${n}-shadow-medium: ${t.effects.shadows.medium}`),e.push(`${n}-shadow-large: ${t.effects.shadows.large}`),e.push(`${n}-shadow-glow: ${t.effects.shadows.glow}`),e.join(`;
  `)}function nD(t){if(!t||document.querySelector(`link[href="${t}"]`))return;const n=document.createElement("link");n.rel="stylesheet",n.href=t,document.head.appendChild(n)}function iD({children:t,initialThemeId:e=wC}){const[n,i]=N.useState(()=>{if(typeof window<"u"){const f=localStorage.getItem("tmp-theme-id");if(f&&f in $u)return f}return e}),[r,s]=N.useState(()=>typeof window<"u"?localStorage.getItem("tmp-sound-enabled")!=="false":!0),o=N.useMemo(()=>rD(n),[n]),a=N.useMemo(()=>sD(),[]);N.useEffect(()=>{const f=tD(o),u="tmp-theme-variables";let h=document.getElementById(u);h||(h=document.createElement("style"),h.id=u,document.head.appendChild(h)),h.textContent=`:root {
  ${f};
}`,document.documentElement.setAttribute("data-theme",o.id)},[o]),N.useEffect(()=>{nD(o.typography.googleFontsUrl)},[o.typography.googleFontsUrl]),N.useEffect(()=>{localStorage.setItem("tmp-theme-id",n)},[n]),N.useEffect(()=>{localStorage.setItem("tmp-sound-enabled",String(r))},[r]),N.useEffect(()=>{yt.init(),yt.loadTheme(n)},[n]);const l=N.useCallback(f=>{if(!r)return;const h={votecast:"votecast",timerTick:"timerTick",timerEnd:"timerEnd",victory:"victory",uiClick:"uiClick",error:"error",ambient:"ambient"}[f];h&&yt.play(h)},[r]),c=N.useMemo(()=>({theme:o,themeId:n,setThemeId:i,availableThemes:a,playSound:l,soundEnabled:r,setSoundEnabled:s}),[o,n,a,l,r]);return S.jsx(_C.Provider,{value:c,children:t})}function Tc(){const t=N.useContext(_C);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}const $u={"tmp-base":XV,"soggy-bottom-pirates":YV,"neon-nightmares":ZV},wC="tmp-base",rD=t=>$u[t]??$u[wC],sD=()=>Object.keys($u);var Dx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},oD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},TC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,f=s>>2,u=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),i.push(n[f],n[u],n[h],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const u=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||u==null)throw new aD;const h=s<<2|a>>4;if(i.push(h),c!==64){const p=a<<4&240|c>>2;if(i.push(p),u!==64){const m=c<<6&192|u;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lD=function(t){const e=xC(t);return TC.encodeByteArray(e,!0)},Ff=function(t){return lD(t).replace(/\./g,"")},uD=function(t){try{return TC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=()=>cD().__FIREBASE_DEFAULTS__,fD=()=>{if(typeof process>"u"||typeof Dx>"u")return;const t=Dx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uD(t[1]);return e&&JSON.parse(e)},qv=()=>{try{return hD()||fD()||dD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pD=t=>{var e,n;return(n=(e=qv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mD=t=>{const e=pD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},bC=()=>{var t;return(t=qv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ff(JSON.stringify(n)),Ff(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _D(){var t;const e=(t=qv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wD(){return!_D()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xD(){try{return typeof indexedDB=="object"}catch{return!1}}function TD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="FirebaseError";class dl extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=bD,Object.setPrototypeOf(this,dl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,EC.prototype.create)}}class EC{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?ED(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new dl(r,a,i)}}function ED(t,e){return t.replace(SD,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const SD=/\{\$([^}]+)}/g;function jf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Ox(s)&&Ox(o)){if(!jf(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Ox(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){return t&&t._delegate?t._delegate:t}class qu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new gD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PD(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kD(t){return t===Us?void 0:t}function PD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const ID={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},RD=Ee.INFO,MD={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},VD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=MD[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class SC{constructor(e){this.name=e,this._logLevel=RD,this._logHandler=VD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ID[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const DD=(t,e)=>e.some(n=>t instanceof n);let Nx,Lx;function OD(){return Nx||(Nx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ND(){return Lx||(Lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CC=new WeakMap,Wg=new WeakMap,kC=new WeakMap,tm=new WeakMap,Wv=new WeakMap;function LD(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ts(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CC.set(n,t)}).catch(()=>{}),Wv.set(e,t),e}function FD(t){if(Wg.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wg.set(t,e)}let Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){Hg=t(Hg)}function zD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(nm(this),e,...n);return kC.set(i,e.sort?e.sort():[e]),ts(i)}:ND().includes(t)?function(...e){return t.apply(nm(this),e),ts(CC.get(this))}:function(...e){return ts(t.apply(nm(this),e))}}function BD(t){return typeof t=="function"?zD(t):(t instanceof IDBTransaction&&FD(t),DD(t,OD())?new Proxy(t,Hg):t)}function ts(t){if(t instanceof IDBRequest)return LD(t);if(tm.has(t))return tm.get(t);const e=BD(t);return e!==t&&(tm.set(t,e),Wv.set(e,t)),e}const nm=t=>Wv.get(t);function UD(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ts(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ts(o.result),l.oldVersion,l.newVersion,ts(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const $D=["get","getKey","getAll","getAllKeys","count"],qD=["put","add","delete","clear"],im=new Map;function Fx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=qD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||$D.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return im.set(e,s),s}jD(t=>({...t,get:(e,n,i)=>Fx(e,n)||t.get(e,n,i),has:(e,n)=>!!Fx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function HD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gg="@firebase/app",jx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new SC("@firebase/app"),GD="@firebase/app-compat",KD="@firebase/analytics-compat",QD="@firebase/analytics",XD="@firebase/app-check-compat",YD="@firebase/app-check",ZD="@firebase/auth",JD="@firebase/auth-compat",eO="@firebase/database",tO="@firebase/data-connect",nO="@firebase/database-compat",iO="@firebase/functions",rO="@firebase/functions-compat",sO="@firebase/installations",oO="@firebase/installations-compat",aO="@firebase/messaging",lO="@firebase/messaging-compat",uO="@firebase/performance",cO="@firebase/performance-compat",hO="@firebase/remote-config",fO="@firebase/remote-config-compat",dO="@firebase/storage",pO="@firebase/storage-compat",mO="@firebase/firestore",gO="@firebase/vertexai-preview",yO="@firebase/firestore-compat",vO="firebase",_O="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="[DEFAULT]",wO={[Gg]:"fire-core",[GD]:"fire-core-compat",[QD]:"fire-analytics",[KD]:"fire-analytics-compat",[YD]:"fire-app-check",[XD]:"fire-app-check-compat",[ZD]:"fire-auth",[JD]:"fire-auth-compat",[eO]:"fire-rtdb",[tO]:"fire-data-connect",[nO]:"fire-rtdb-compat",[iO]:"fire-fn",[rO]:"fire-fn-compat",[sO]:"fire-iid",[oO]:"fire-iid-compat",[aO]:"fire-fcm",[lO]:"fire-fcm-compat",[uO]:"fire-perf",[cO]:"fire-perf-compat",[hO]:"fire-rc",[fO]:"fire-rc-compat",[dO]:"fire-gcs",[pO]:"fire-gcs-compat",[mO]:"fire-fst",[yO]:"fire-fst-compat",[gO]:"fire-vertex","fire-js":"fire-js",[vO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,xO=new Map,Qg=new Map;function zx(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zf(t){const e=t.name;if(Qg.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(const n of Wu.values())zx(n,t);for(const n of xO.values())zx(n,t);return!0}function TO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new EC("app","Firebase",bO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=_O;function PC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Kg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ns.create("bad-app-name",{appName:String(r)});if(n||(n=bC()),!n)throw ns.create("no-options");const s=Wu.get(r);if(s){if(jf(n,s.options)&&jf(i,s.config))return s;throw ns.create("duplicate-app",{appName:r})}const o=new AD(r);for(const l of Qg.values())o.addComponent(l);const a=new EO(n,i,o);return Wu.set(r,a),a}function AC(t=Kg){const e=Wu.get(t);if(!e&&t===Kg&&bC())return PC();if(!e)throw ns.create("no-app",{appName:t});return e}function CO(){return Array.from(Wu.values())}function Sa(t,e,n){var i;let r=(i=wO[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}zf(new qu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="firebase-heartbeat-database",PO=1,Hu="firebase-heartbeat-store";let rm=null;function IC(){return rm||(rm=UD(kO,PO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ns.create("idb-open",{originalErrorMessage:t.message})})),rm}async function AO(t){try{const n=(await IC()).transaction(Hu),i=await n.objectStore(Hu).get(RC(t));return await n.done,i}catch(e){if(e instanceof dl)yr.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function Bx(t,e){try{const i=(await IC()).transaction(Hu,"readwrite");await i.objectStore(Hu).put(e,RC(t)),await i.done}catch(n){if(n instanceof dl)yr.warn(n.message);else{const i=ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(i.message)}}}function RC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=1024,RO=30*24*60*60*1e3;class MO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ux();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=RO}),this._storage.overwrite(this._heartbeatsCache))}catch(i){yr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ux(),{heartbeatsToSend:i,unsentEntries:r}=VO(this._heartbeatsCache.heartbeats),s=Ff(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yr.warn(n),""}}}function Ux(){return new Date().toISOString().substring(0,10)}function VO(t,e=IO){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),$x(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$x(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class DO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xD()?TD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Bx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Bx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $x(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){zf(new qu("platform-logger",e=>new WD(e),"PRIVATE")),zf(new qu("heartbeat",e=>new MO(e),"PRIVATE")),Sa(Gg,jx,t),Sa(Gg,jx,"esm2017"),Sa("fire-js","")}OO("");var qx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,MC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,b){function E(){}E.prototype=b.prototype,k.D=b.prototype,k.prototype=new E,k.prototype.constructor=k,k.C=function(P,M,V){for(var A=Array(arguments.length-2),z=2;z<arguments.length;z++)A[z-2]=arguments[z];return b.prototype[M].apply(P,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,b,E){E||(E=0);var P=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)P[M]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(M=0;16>M;++M)P[M]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=k.g[0],E=k.g[1],M=k.g[2];var V=k.g[3],A=b+(V^E&(M^V))+P[0]+3614090360&4294967295;b=E+(A<<7&4294967295|A>>>25),A=V+(M^b&(E^M))+P[1]+3905402710&4294967295,V=b+(A<<12&4294967295|A>>>20),A=M+(E^V&(b^E))+P[2]+606105819&4294967295,M=V+(A<<17&4294967295|A>>>15),A=E+(b^M&(V^b))+P[3]+3250441966&4294967295,E=M+(A<<22&4294967295|A>>>10),A=b+(V^E&(M^V))+P[4]+4118548399&4294967295,b=E+(A<<7&4294967295|A>>>25),A=V+(M^b&(E^M))+P[5]+1200080426&4294967295,V=b+(A<<12&4294967295|A>>>20),A=M+(E^V&(b^E))+P[6]+2821735955&4294967295,M=V+(A<<17&4294967295|A>>>15),A=E+(b^M&(V^b))+P[7]+4249261313&4294967295,E=M+(A<<22&4294967295|A>>>10),A=b+(V^E&(M^V))+P[8]+1770035416&4294967295,b=E+(A<<7&4294967295|A>>>25),A=V+(M^b&(E^M))+P[9]+2336552879&4294967295,V=b+(A<<12&4294967295|A>>>20),A=M+(E^V&(b^E))+P[10]+4294925233&4294967295,M=V+(A<<17&4294967295|A>>>15),A=E+(b^M&(V^b))+P[11]+2304563134&4294967295,E=M+(A<<22&4294967295|A>>>10),A=b+(V^E&(M^V))+P[12]+1804603682&4294967295,b=E+(A<<7&4294967295|A>>>25),A=V+(M^b&(E^M))+P[13]+4254626195&4294967295,V=b+(A<<12&4294967295|A>>>20),A=M+(E^V&(b^E))+P[14]+2792965006&4294967295,M=V+(A<<17&4294967295|A>>>15),A=E+(b^M&(V^b))+P[15]+1236535329&4294967295,E=M+(A<<22&4294967295|A>>>10),A=b+(M^V&(E^M))+P[1]+4129170786&4294967295,b=E+(A<<5&4294967295|A>>>27),A=V+(E^M&(b^E))+P[6]+3225465664&4294967295,V=b+(A<<9&4294967295|A>>>23),A=M+(b^E&(V^b))+P[11]+643717713&4294967295,M=V+(A<<14&4294967295|A>>>18),A=E+(V^b&(M^V))+P[0]+3921069994&4294967295,E=M+(A<<20&4294967295|A>>>12),A=b+(M^V&(E^M))+P[5]+3593408605&4294967295,b=E+(A<<5&4294967295|A>>>27),A=V+(E^M&(b^E))+P[10]+38016083&4294967295,V=b+(A<<9&4294967295|A>>>23),A=M+(b^E&(V^b))+P[15]+3634488961&4294967295,M=V+(A<<14&4294967295|A>>>18),A=E+(V^b&(M^V))+P[4]+3889429448&4294967295,E=M+(A<<20&4294967295|A>>>12),A=b+(M^V&(E^M))+P[9]+568446438&4294967295,b=E+(A<<5&4294967295|A>>>27),A=V+(E^M&(b^E))+P[14]+3275163606&4294967295,V=b+(A<<9&4294967295|A>>>23),A=M+(b^E&(V^b))+P[3]+4107603335&4294967295,M=V+(A<<14&4294967295|A>>>18),A=E+(V^b&(M^V))+P[8]+1163531501&4294967295,E=M+(A<<20&4294967295|A>>>12),A=b+(M^V&(E^M))+P[13]+2850285829&4294967295,b=E+(A<<5&4294967295|A>>>27),A=V+(E^M&(b^E))+P[2]+4243563512&4294967295,V=b+(A<<9&4294967295|A>>>23),A=M+(b^E&(V^b))+P[7]+1735328473&4294967295,M=V+(A<<14&4294967295|A>>>18),A=E+(V^b&(M^V))+P[12]+2368359562&4294967295,E=M+(A<<20&4294967295|A>>>12),A=b+(E^M^V)+P[5]+4294588738&4294967295,b=E+(A<<4&4294967295|A>>>28),A=V+(b^E^M)+P[8]+2272392833&4294967295,V=b+(A<<11&4294967295|A>>>21),A=M+(V^b^E)+P[11]+1839030562&4294967295,M=V+(A<<16&4294967295|A>>>16),A=E+(M^V^b)+P[14]+4259657740&4294967295,E=M+(A<<23&4294967295|A>>>9),A=b+(E^M^V)+P[1]+2763975236&4294967295,b=E+(A<<4&4294967295|A>>>28),A=V+(b^E^M)+P[4]+1272893353&4294967295,V=b+(A<<11&4294967295|A>>>21),A=M+(V^b^E)+P[7]+4139469664&4294967295,M=V+(A<<16&4294967295|A>>>16),A=E+(M^V^b)+P[10]+3200236656&4294967295,E=M+(A<<23&4294967295|A>>>9),A=b+(E^M^V)+P[13]+681279174&4294967295,b=E+(A<<4&4294967295|A>>>28),A=V+(b^E^M)+P[0]+3936430074&4294967295,V=b+(A<<11&4294967295|A>>>21),A=M+(V^b^E)+P[3]+3572445317&4294967295,M=V+(A<<16&4294967295|A>>>16),A=E+(M^V^b)+P[6]+76029189&4294967295,E=M+(A<<23&4294967295|A>>>9),A=b+(E^M^V)+P[9]+3654602809&4294967295,b=E+(A<<4&4294967295|A>>>28),A=V+(b^E^M)+P[12]+3873151461&4294967295,V=b+(A<<11&4294967295|A>>>21),A=M+(V^b^E)+P[15]+530742520&4294967295,M=V+(A<<16&4294967295|A>>>16),A=E+(M^V^b)+P[2]+3299628645&4294967295,E=M+(A<<23&4294967295|A>>>9),A=b+(M^(E|~V))+P[0]+4096336452&4294967295,b=E+(A<<6&4294967295|A>>>26),A=V+(E^(b|~M))+P[7]+1126891415&4294967295,V=b+(A<<10&4294967295|A>>>22),A=M+(b^(V|~E))+P[14]+2878612391&4294967295,M=V+(A<<15&4294967295|A>>>17),A=E+(V^(M|~b))+P[5]+4237533241&4294967295,E=M+(A<<21&4294967295|A>>>11),A=b+(M^(E|~V))+P[12]+1700485571&4294967295,b=E+(A<<6&4294967295|A>>>26),A=V+(E^(b|~M))+P[3]+2399980690&4294967295,V=b+(A<<10&4294967295|A>>>22),A=M+(b^(V|~E))+P[10]+4293915773&4294967295,M=V+(A<<15&4294967295|A>>>17),A=E+(V^(M|~b))+P[1]+2240044497&4294967295,E=M+(A<<21&4294967295|A>>>11),A=b+(M^(E|~V))+P[8]+1873313359&4294967295,b=E+(A<<6&4294967295|A>>>26),A=V+(E^(b|~M))+P[15]+4264355552&4294967295,V=b+(A<<10&4294967295|A>>>22),A=M+(b^(V|~E))+P[6]+2734768916&4294967295,M=V+(A<<15&4294967295|A>>>17),A=E+(V^(M|~b))+P[13]+1309151649&4294967295,E=M+(A<<21&4294967295|A>>>11),A=b+(M^(E|~V))+P[4]+4149444226&4294967295,b=E+(A<<6&4294967295|A>>>26),A=V+(E^(b|~M))+P[11]+3174756917&4294967295,V=b+(A<<10&4294967295|A>>>22),A=M+(b^(V|~E))+P[2]+718787259&4294967295,M=V+(A<<15&4294967295|A>>>17),A=E+(V^(M|~b))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+V&4294967295}i.prototype.u=function(k,b){b===void 0&&(b=k.length);for(var E=b-this.blockSize,P=this.B,M=this.h,V=0;V<b;){if(M==0)for(;V<=E;)r(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<b;)if(P[M++]=k.charCodeAt(V++),M==this.blockSize){r(this,P),M=0;break}}else for(;V<b;)if(P[M++]=k[V++],M==this.blockSize){r(this,P),M=0;break}}this.h=M,this.o+=b},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;var E=8*this.o;for(b=k.length-8;b<k.length;++b)k[b]=E&255,E/=256;for(this.u(k),k=Array(16),b=E=0;4>b;++b)for(var P=0;32>P;P+=8)k[E++]=this.g[b]>>>P&255;return k};function s(k,b){var E=a;return Object.prototype.hasOwnProperty.call(E,k)?E[k]:E[k]=b(k)}function o(k,b){this.h=b;for(var E=[],P=!0,M=k.length-1;0<=M;M--){var V=k[M]|0;P&&V==b||(E[M]=V,P=!1)}this.g=E}var a={};function l(k){return-128<=k&&128>k?s(k,function(b){return new o([b|0],0>b?-1:0)}):new o([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return u;if(0>k)return v(c(-k));for(var b=[],E=1,P=0;k>=E;P++)b[P]=k/E|0,E*=4294967296;return new o(b,0)}function f(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return v(f(k.substring(1),b));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(b,8)),P=u,M=0;M<k.length;M+=8){var V=Math.min(8,k.length-M),A=parseInt(k.substring(M,M+V),b);8>V?(V=c(Math.pow(b,V)),P=P.j(V).add(c(A))):(P=P.j(E),P=P.add(c(A)))}return P}var u=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-v(this).m();for(var k=0,b=1,E=0;E<this.g.length;E++){var P=this.i(E);k+=(0<=P?P:4294967296+P)*b,b*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(m(this))return"0";if(g(this))return"-"+v(this).toString(k);for(var b=c(Math.pow(k,6)),E=this,P="";;){var M=C(E,b).g;E=_(E,M.j(b));var V=((0<E.g.length?E.g[0]:E.h)>>>0).toString(k);if(E=M,m(E))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function m(k){if(k.h!=0)return!1;for(var b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function g(k){return k.h==-1}t.l=function(k){return k=_(this,k),g(k)?-1:m(k)?0:1};function v(k){for(var b=k.g.length,E=[],P=0;P<b;P++)E[P]=~k.g[P];return new o(E,~k.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(k){for(var b=Math.max(this.g.length,k.g.length),E=[],P=0,M=0;M<=b;M++){var V=P+(this.i(M)&65535)+(k.i(M)&65535),A=(V>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);P=A>>>16,V&=65535,A&=65535,E[M]=A<<16|V}return new o(E,E[E.length-1]&-2147483648?-1:0)};function _(k,b){return k.add(v(b))}t.j=function(k){if(m(this)||m(k))return u;if(g(this))return g(k)?v(this).j(v(k)):v(v(this).j(k));if(g(k))return v(this.j(v(k)));if(0>this.l(p)&&0>k.l(p))return c(this.m()*k.m());for(var b=this.g.length+k.g.length,E=[],P=0;P<2*b;P++)E[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<k.g.length;M++){var V=this.i(P)>>>16,A=this.i(P)&65535,z=k.i(M)>>>16,Z=k.i(M)&65535;E[2*P+2*M]+=A*Z,w(E,2*P+2*M),E[2*P+2*M+1]+=V*Z,w(E,2*P+2*M+1),E[2*P+2*M+1]+=A*z,w(E,2*P+2*M+1),E[2*P+2*M+2]+=V*z,w(E,2*P+2*M+2)}for(P=0;P<b;P++)E[P]=E[2*P+1]<<16|E[2*P];for(P=b;P<2*b;P++)E[P]=0;return new o(E,0)};function w(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function x(k,b){this.g=k,this.h=b}function C(k,b){if(m(b))throw Error("division by zero");if(m(k))return new x(u,u);if(g(k))return b=C(v(k),b),new x(v(b.g),v(b.h));if(g(b))return b=C(k,v(b)),new x(v(b.g),b.h);if(30<k.g.length){if(g(k)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var E=h,P=b;0>=P.l(k);)E=I(E),P=I(P);var M=D(E,1),V=D(P,1);for(P=D(P,2),E=D(E,2);!m(P);){var A=V.add(P);0>=A.l(k)&&(M=M.add(E),V=A),P=D(P,1),E=D(E,1)}return b=_(k,M.j(b)),new x(M,b)}for(M=u;0<=k.l(b);){for(E=Math.max(1,Math.floor(k.m()/b.m())),P=Math.ceil(Math.log(E)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=c(E),A=V.j(b);g(A)||0<A.l(k);)E-=P,V=c(E),A=V.j(b);m(V)&&(V=h),M=M.add(V),k=_(k,A)}return new x(M,k)}t.A=function(k){return C(this,k).h},t.and=function(k){for(var b=Math.max(this.g.length,k.g.length),E=[],P=0;P<b;P++)E[P]=this.i(P)&k.i(P);return new o(E,this.h&k.h)},t.or=function(k){for(var b=Math.max(this.g.length,k.g.length),E=[],P=0;P<b;P++)E[P]=this.i(P)|k.i(P);return new o(E,this.h|k.h)},t.xor=function(k){for(var b=Math.max(this.g.length,k.g.length),E=[],P=0;P<b;P++)E[P]=this.i(P)^k.i(P);return new o(E,this.h^k.h)};function I(k){for(var b=k.g.length+1,E=[],P=0;P<b;P++)E[P]=k.i(P)<<1|k.i(P-1)>>>31;return new o(E,k.h)}function D(k,b){var E=b>>5;b%=32;for(var P=k.g.length-E,M=[],V=0;V<P;V++)M[V]=0<b?k.i(V+E)>>>b|k.i(V+E+1)<<32-b:k.i(V+E);return new o(M,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,MC=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,oo=o}).apply(typeof qx<"u"?qx:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VC,Zl,DC,Yh,Xg,OC,NC,LC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function r(d,y){if(y)e:{var T=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var F=d[R];if(!(F in T))break e;T=T[F]}d=d[d.length-1],R=T[d],y=y(R),y!=R&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var T=0,R=!1,F={next:function(){if(!R&&T<d.length){var j=T++;return{value:y(j,d[j]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}r("Array.prototype.values",function(d){return d||function(){return s(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function f(d,y,T){return d.call.apply(d.bind,arguments)}function u(d,y,T){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),d.apply(y,F)}}return function(){return d.apply(y,arguments)}}function h(d,y,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:u,h.apply(null,arguments)}function p(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function m(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(R,F,j){for(var K=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)K[Oe-2]=arguments[Oe];return y.prototype[F].apply(R,K)}}function g(d){const y=d.length;if(0<y){const T=Array(y);for(let R=0;R<y;R++)T[R]=d[R];return T}return[]}function v(d,y){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const F=d.length||0,j=R.length||0;d.length=F+j;for(let K=0;K<j;K++)d[F+K]=R[K]}else d.push(R)}}class _{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var I=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function D(d,y,T){for(const R in d)y.call(T,d[R],R,d)}function k(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function b(d){const y={};for(const T in d)y[T]=d[T];return y}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,y){let T,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(T in R)d[T]=R[T];for(let j=0;j<E.length;j++)T=E[j],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function M(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function V(d){a.setTimeout(()=>{throw d},0)}function A(){var d=Y;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class z{constructor(){this.h=this.g=null}add(y,T){const R=Z.get();R.set(y,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Z=new _(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let te,q=!1,Y=new z,L=()=>{const d=a.Promise.resolve(void 0);te=()=>{d.then(O)}};var O=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(T){V(T)}var y=Z;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}q=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return d}();function re(d,y){if(X.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(I){e:{try{C(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&re.aa.h.call(this)}}m(re,X);var ae={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),me=0;function xe(d,y,T,R,F){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!R,this.ha=F,this.key=++me,this.da=this.fa=!1}function Te(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d){this.src=d,this.g={},this.h=0}ge.prototype.add=function(d,y,T,R,F){var j=d.toString();d=this.g[j],d||(d=this.g[j]=[],this.h++);var K=fe(d,y,R,F);return-1<K?(y=d[K],T||(y.fa=!1)):(y=new xe(y,this.src,j,!!R,F),y.fa=T,d.push(y)),y};function B(d,y){var T=y.type;if(T in d.g){var R=d.g[T],F=Array.prototype.indexOf.call(R,y,void 0),j;(j=0<=F)&&Array.prototype.splice.call(R,F,1),j&&(Te(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function fe(d,y,T,R){for(var F=0;F<d.length;++F){var j=d[F];if(!j.da&&j.listener==y&&j.capture==!!T&&j.ha==R)return F}return-1}var se="closure_lm_"+(1e6*Math.random()|0),Fe={};function pn(d,y,T,R,F){if(Array.isArray(y)){for(var j=0;j<y.length;j++)pn(d,y[j],T,R,F);return null}return T=Fc(T),d&&d[ne]?d.K(y,T,c(R)?!!R.capture:!1,F):In(d,y,T,!1,R,F)}function In(d,y,T,R,F,j){if(!y)throw Error("Invalid event type");var K=c(F)?!!F.capture:!!F,Oe=vl(d);if(Oe||(d[se]=Oe=new ge(d)),T=Oe.add(y,T,R,K,j),T.proxy)return T;if(R=gi(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)ee||(F=K),F===void 0&&(F=!1),d.addEventListener(y.toString(),R,F);else if(d.attachEvent)d.attachEvent(Lc(y.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function gi(){function d(T){return y.call(d.src,d.listener,T)}const y=hp;return d}function Mi(d,y,T,R,F){if(Array.isArray(y))for(var j=0;j<y.length;j++)Mi(d,y[j],T,R,F);else R=c(R)?!!R.capture:!!R,T=Fc(T),d&&d[ne]?(d=d.i,y=String(y).toString(),y in d.g&&(j=d.g[y],T=fe(j,T,R,F),-1<T&&(Te(j[T]),Array.prototype.splice.call(j,T,1),j.length==0&&(delete d.g[y],d.h--)))):d&&(d=vl(d))&&(y=d.g[y.toString()],d=-1,y&&(d=fe(y,T,R,F)),(T=-1<d?y[d]:null)&&mn(T))}function mn(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ne])B(y.i,d);else{var T=d.type,R=d.proxy;y.removeEventListener?y.removeEventListener(T,R,d.capture):y.detachEvent?y.detachEvent(Lc(T),R):y.addListener&&y.removeListener&&y.removeListener(R),(T=vl(y))?(B(T,d),T.h==0&&(T.src=null,y[se]=null)):Te(d)}}}function Lc(d){return d in Fe?Fe[d]:Fe[d]="on"+d}function hp(d,y){if(d.da)d=!0;else{y=new re(y,this);var T=d.listener,R=d.ha||d.src;d.fa&&mn(d),d=T.call(R,y)}return d}function vl(d){return d=d[se],d instanceof ge?d:null}var No="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fc(d){return typeof d=="function"?d:(d[No]||(d[No]=function(y){return d.handleEvent(y)}),d[No])}function gt(){$.call(this),this.i=new ge(this),this.M=this,this.F=null}m(gt,$),gt.prototype[ne]=!0,gt.prototype.removeEventListener=function(d,y,T,R){Mi(this,d,y,T,R)};function Pt(d,y){var T,R=d.F;if(R)for(T=[];R;R=R.F)T.push(R);if(d=d.M,R=y.type||y,typeof y=="string")y=new X(y,d);else if(y instanceof X)y.target=y.target||d;else{var F=y;y=new X(R,d),P(y,F)}if(F=!0,T)for(var j=T.length-1;0<=j;j--){var K=y.g=T[j];F=Lo(K,R,!0,y)&&F}if(K=y.g=d,F=Lo(K,R,!0,y)&&F,F=Lo(K,R,!1,y)&&F,T)for(j=0;j<T.length;j++)K=y.g=T[j],F=Lo(K,R,!1,y)&&F}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],R=0;R<T.length;R++)Te(T[R]);delete d.g[y],d.h--}}this.F=null},gt.prototype.K=function(d,y,T,R){return this.i.add(String(d),y,!1,T,R)},gt.prototype.L=function(d,y,T,R){return this.i.add(String(d),y,!0,T,R)};function Lo(d,y,T,R){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,j=0;j<y.length;++j){var K=y[j];if(K&&!K.da&&K.capture==T){var Oe=K.listener,At=K.ha||K.src;K.fa&&B(d.i,K),F=Oe.call(At,R)!==!1&&F}}return F&&!R.defaultPrevented}function _l(d,y,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function wl(d){d.g=_l(()=>{d.g=null,d.i&&(d.i=!1,wl(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class xl extends ${constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(d){$.call(this),this.h=d,this.g={}}m(ks,$);var jc=[];function E0(d){D(d.g,function(y,T){this.g.hasOwnProperty(T)&&mn(y)},d),d.g={}}ks.prototype.N=function(){ks.aa.N.call(this),E0(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fp=a.JSON.stringify,sR=a.JSON.parse,oR=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function dp(){}dp.prototype.h=null;function S0(d){return d.h||(d.h=d.i())}function C0(){}var Tl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pp(){X.call(this,"d")}m(pp,X);function mp(){X.call(this,"c")}m(mp,X);var Ps={},k0=null;function zc(){return k0=k0||new gt}Ps.La="serverreachability";function P0(d){X.call(this,Ps.La,d)}m(P0,X);function bl(d){const y=zc();Pt(y,new P0(y))}Ps.STAT_EVENT="statevent";function A0(d,y){X.call(this,Ps.STAT_EVENT,d),this.stat=y}m(A0,X);function sn(d){const y=zc();Pt(y,new A0(y,d))}Ps.Ma="timingevent";function I0(d,y){X.call(this,Ps.Ma,d),this.size=y}m(I0,X);function El(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function Sl(){this.g=!0}Sl.prototype.xa=function(){this.g=!1};function aR(d,y,T,R,F,j){d.info(function(){if(d.g)if(j)for(var K="",Oe=j.split("&"),At=0;At<Oe.length;At++){var Ce=Oe[At].split("=");if(1<Ce.length){var jt=Ce[0];Ce=Ce[1];var zt=jt.split("_");K=2<=zt.length&&zt[1]=="type"?K+(jt+"="+Ce+"&"):K+(jt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+T+`
`+K})}function lR(d,y,T,R,F,j,K){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+T+`
`+j+" "+K})}function Fo(d,y,T,R){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+cR(d,T)+(R?" "+R:"")})}function uR(d,y){d.info(function(){return"TIMEOUT: "+y})}Sl.prototype.info=function(){};function cR(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var R=T[d];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var j=F[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<F.length;K++)F[K]=""}}}}return fp(T)}catch{return y}}var Bc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},R0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gp;function Uc(){}m(Uc,dp),Uc.prototype.g=function(){return new XMLHttpRequest},Uc.prototype.i=function(){return{}},gp=new Uc;function Er(d,y,T,R){this.j=d,this.i=y,this.l=T,this.R=R||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new M0}function M0(){this.i=null,this.g="",this.h=!1}var V0={},yp={};function vp(d,y,T){d.L=1,d.v=Hc(Zi(y)),d.m=T,d.P=!0,D0(d,null)}function D0(d,y){d.F=Date.now(),$c(d),d.A=Zi(d.v);var T=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),K0(T.i,"t",R),d.C=0,T=d.j.J,d.h=new M0,d.g=fw(d.j,T?y:null,!d.m),0<d.O&&(d.M=new xl(h(d.Y,d,d.g),d.O)),y=d.U,T=d.g,R=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(jc[0]=F.toString()),F=jc);for(var j=0;j<F.length;j++){var K=pn(T,F[j],R||y.handleEvent,!1,y.h||y);if(!K)break;y.g[K.key]=K}y=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),bl(),aR(d.i,d.u,d.A,d.l,d.R,d.m)}Er.prototype.ca=function(d){d=d.target;const y=this.M;y&&Ji(d)==3?y.j():this.Y(d)},Er.prototype.Y=function(d){try{if(d==this.g)e:{const zt=Ji(this.g);var y=this.g.Ba();const Bo=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||tw(this.g)))){this.J||zt!=4||y==7||(y==8||0>=Bo?bl(3):bl(2)),_p(this);var T=this.g.Z();this.X=T;t:if(O0(this)){var R=tw(this.g);d="";var F=R.length,j=Ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){As(this),Cl(this);var K="";break t}this.h.i=new a.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,d+=this.h.i.decode(R[y],{stream:!(j&&y==F-1)});R.length=0,this.h.g+=d,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=T==200,lR(this.i,this.u,this.A,this.l,this.R,zt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,At=this.g;if((Oe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Oe)){var Ce=Oe;break t}}Ce=null}if(T=Ce)Fo(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wp(this,T);else{this.o=!1,this.s=3,sn(12),As(this),Cl(this);break e}}if(this.P){T=!0;let yi;for(;!this.J&&this.C<K.length;)if(yi=hR(this,K),yi==yp){zt==4&&(this.s=4,sn(14),T=!1),Fo(this.i,this.l,null,"[Incomplete Response]");break}else if(yi==V0){this.s=4,sn(15),Fo(this.i,this.l,K,"[Invalid Chunk]"),T=!1;break}else Fo(this.i,this.l,yi,null),wp(this,yi);if(O0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||K.length!=0||this.h.h||(this.s=1,sn(16),T=!1),this.o=this.o&&T,!T)Fo(this.i,this.l,K,"[Invalid Chunked Response]"),As(this),Cl(this);else if(0<K.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Cp(jt),jt.M=!0,sn(11))}}else Fo(this.i,this.l,K,null),wp(this,K);zt==4&&As(this),this.o&&!this.J&&(zt==4?lw(this.j,this):(this.o=!1,$c(this)))}else PR(this.g),T==400&&0<K.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),As(this),Cl(this)}}}catch{}finally{}};function O0(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function hR(d,y){var T=d.C,R=y.indexOf(`
`,T);return R==-1?yp:(T=Number(y.substring(T,R)),isNaN(T)?V0:(R+=1,R+T>y.length?yp:(y=y.slice(R,R+T),d.C=R+T,y)))}Er.prototype.cancel=function(){this.J=!0,As(this)};function $c(d){d.S=Date.now()+d.I,N0(d,d.I)}function N0(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=El(h(d.ba,d),y)}function _p(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Er.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(uR(this.i,this.A),this.L!=2&&(bl(),sn(17)),As(this),this.s=2,Cl(this)):N0(this,this.S-d)};function Cl(d){d.j.G==0||d.J||lw(d.j,d)}function As(d){_p(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,E0(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function wp(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||xp(T.h,d))){if(!d.K&&xp(T.h,d)&&T.G==3){try{var R=T.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Zc(T),Xc(T);else break e;Sp(T),sn(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=El(h(T.Za,T),6e3));if(1>=j0(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Rs(T,11)}else if((d.K||T.g==d)&&Zc(T),!w(y))for(F=T.Da.g.parse(y),y=0;y<F.length;y++){let Ce=F[y];if(T.T=Ce[0],Ce=Ce[1],T.G==2)if(Ce[0]=="c"){T.K=Ce[1],T.ia=Ce[2];const jt=Ce[3];jt!=null&&(T.la=jt,T.j.info("VER="+T.la));const zt=Ce[4];zt!=null&&(T.Aa=zt,T.j.info("SVER="+T.Aa));const Bo=Ce[5];Bo!=null&&typeof Bo=="number"&&0<Bo&&(R=1.5*Bo,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const yi=d.g;if(yi){const eh=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eh){var j=R.h;j.g||eh.indexOf("spdy")==-1&&eh.indexOf("quic")==-1&&eh.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Tp(j,j.h),j.h=null))}if(R.D){const kp=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;kp&&(R.ya=kp,Be(R.I,R.D,kp))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var K=d;if(R.qa=hw(R,R.J?R.ia:null,R.W),K.K){z0(R.h,K);var Oe=K,At=R.L;At&&(Oe.I=At),Oe.B&&(_p(Oe),$c(Oe)),R.g=K}else ow(R);0<T.i.length&&Yc(T)}else Ce[0]!="stop"&&Ce[0]!="close"||Rs(T,7);else T.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Rs(T,7):Ep(T):Ce[0]!="noop"&&T.l&&T.l.ta(Ce),T.v=0)}}bl(4)}catch{}}var fR=class{constructor(d,y){this.g=d,this.map=y}};function L0(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function F0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function j0(d){return d.h?1:d.g?d.g.size:0}function xp(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Tp(d,y){d.g?d.g.add(y):d.h=y}function z0(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}L0.prototype.cancel=function(){if(this.i=B0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function B0(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return g(d.i)}function dR(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],T=d.length,R=0;R<T;R++)y.push(d[R]);return y}y=[],T=0;for(R in d)y[T++]=d[R];return y}function pR(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const R in d)y[T++]=R;return y}}}function U0(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=pR(d),R=dR(d),F=R.length,j=0;j<F;j++)y.call(void 0,R[j],T&&T[j],d)}var $0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mR(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var R=d[T].indexOf("="),F=null;if(0<=R){var j=d[T].substring(0,R);F=d[T].substring(R+1)}else j=d[T];y(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Is(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Is){this.h=d.h,qc(this,d.j),this.o=d.o,this.g=d.g,Wc(this,d.s),this.l=d.l;var y=d.i,T=new Al;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),q0(this,T),this.m=d.m}else d&&(y=String(d).match($0))?(this.h=!1,qc(this,y[1]||"",!0),this.o=kl(y[2]||""),this.g=kl(y[3]||"",!0),Wc(this,y[4]),this.l=kl(y[5]||"",!0),q0(this,y[6]||"",!0),this.m=kl(y[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}Is.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Pl(y,W0,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Pl(y,W0,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Pl(T,T.charAt(0)=="/"?vR:yR,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Pl(T,wR)),d.join("")};function Zi(d){return new Is(d)}function qc(d,y,T){d.j=T?kl(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Wc(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function q0(d,y,T){y instanceof Al?(d.i=y,xR(d.i,d.h)):(T||(y=Pl(y,_R)),d.i=new Al(y,d.h))}function Be(d,y,T){d.i.set(y,T)}function Hc(d){return Be(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function kl(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Pl(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,gR),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function gR(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var W0=/[#\/\?@]/g,yR=/[#\?:]/g,vR=/[#\?]/g,_R=/[#\?@]/g,wR=/#/g;function Al(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Sr(d){d.g||(d.g=new Map,d.h=0,d.i&&mR(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=Al.prototype,t.add=function(d,y){Sr(this),this.i=null,d=jo(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function H0(d,y){Sr(d),y=jo(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function G0(d,y){return Sr(d),y=jo(d,y),d.g.has(y)}t.forEach=function(d,y){Sr(this),this.g.forEach(function(T,R){T.forEach(function(F){d.call(y,F,R,this)},this)},this)},t.na=function(){Sr(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let R=0;R<y.length;R++){const F=d[R];for(let j=0;j<F.length;j++)T.push(y[R])}return T},t.V=function(d){Sr(this);let y=[];if(typeof d=="string")G0(this,d)&&(y=y.concat(this.g.get(jo(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},t.set=function(d,y){return Sr(this),this.i=null,d=jo(this,d),G0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function K0(d,y,T){H0(d,y),0<T.length&&(d.i=null,d.g.set(jo(d,y),g(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var R=y[T];const j=encodeURIComponent(String(R)),K=this.V(R);for(R=0;R<K.length;R++){var F=j;K[R]!==""&&(F+="="+encodeURIComponent(String(K[R]))),d.push(F)}}return this.i=d.join("&")};function jo(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function xR(d,y){y&&!d.j&&(Sr(d),d.i=null,d.g.forEach(function(T,R){var F=R.toLowerCase();R!=F&&(H0(this,R),K0(this,F,T))},d)),d.j=y}function TR(d,y){const T=new Sl;if(a.Image){const R=new Image;R.onload=p(Cr,T,"TestLoadImage: loaded",!0,y,R),R.onerror=p(Cr,T,"TestLoadImage: error",!1,y,R),R.onabort=p(Cr,T,"TestLoadImage: abort",!1,y,R),R.ontimeout=p(Cr,T,"TestLoadImage: timeout",!1,y,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else y(!1)}function bR(d,y){const T=new Sl,R=new AbortController,F=setTimeout(()=>{R.abort(),Cr(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:R.signal}).then(j=>{clearTimeout(F),j.ok?Cr(T,"TestPingServer: ok",!0,y):Cr(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Cr(T,"TestPingServer: error",!1,y)})}function Cr(d,y,T,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(T)}catch{}}function ER(){this.g=new oR}function SR(d,y,T){const R=T||"";try{U0(d,function(F,j){let K=F;c(F)&&(K=fp(F)),y.push(R+j+"="+encodeURIComponent(K))})}catch(F){throw y.push(R+"type="+encodeURIComponent("_badmap")),F}}function Gc(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Gc,dp),Gc.prototype.g=function(){return new Kc(this.l,this.j)},Gc.prototype.i=function(d){return function(){return d}}({});function Kc(d,y){gt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Kc,gt),t=Kc.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Rl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Il(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q0(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q0(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Il(this):Rl(this),this.readyState==3&&Q0(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Il(this))},t.Qa=function(d){this.g&&(this.response=d,Il(this))},t.ga=function(){this.g&&Il(this)};function Il(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Rl(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Rl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function X0(d){let y="";return D(d,function(T,R){y+=R,y+=":",y+=T,y+=`\r
`}),y}function bp(d,y,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=X0(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Be(d,y,T))}function et(d){gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(et,gt);var CR=/^https?$/i,kR=["POST","PUT"];t=et.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gp.g(),this.v=this.o?S0(this.o):S0(gp),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(j){Y0(this,j);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)T.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const j of R.keys())T.set(j,R.get(j));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(j=>j.toLowerCase()=="content-type"),F=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kR,y,void 0))||R||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of T)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ew(this),this.u=!0,this.g.send(d),this.u=!1}catch(j){Y0(this,j)}};function Y0(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Z0(d),Qc(d)}function Z0(d){d.A||(d.A=!0,Pt(d,"complete"),Pt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Pt(this,"complete"),Pt(this,"abort"),Qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qc(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?J0(this):this.bb())},t.bb=function(){J0(this)};function J0(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ji(d)!=4||d.Z()!=2)){if(d.u&&Ji(d)==4)_l(d.Ea,0,d);else if(Pt(d,"readystatechange"),Ji(d)==4){d.h=!1;try{const K=d.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var R;if(R=K===0){var F=String(d.D).match($0)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),R=!CR.test(F?F.toLowerCase():"")}T=R}if(T)Pt(d,"complete"),Pt(d,"success");else{d.m=6;try{var j=2<Ji(d)?d.g.statusText:""}catch{j=""}d.l=j+" ["+d.Z()+"]",Z0(d)}}finally{Qc(d)}}}}function Qc(d,y){if(d.g){ew(d);const T=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Pt(d,"ready");try{T.onreadystatechange=R}catch{}}}function ew(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Ji(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),sR(y)}};function tw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function PR(d){const y={};d=(d.g&&2<=Ji(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(w(d[R]))continue;var T=M(d[R]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const j=y[F]||[];y[F]=j,j.push(T)}k(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function nw(d){this.Aa=0,this.i=[],this.j=new Sl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ml("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ml("baseRetryDelayMs",5e3,d),this.cb=Ml("retryDelaySeedMs",1e4,d),this.Wa=Ml("forwardChannelMaxRetries",2,d),this.wa=Ml("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new L0(d&&d.concurrentRequestLimit),this.Da=new ER,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nw.prototype,t.la=8,t.G=1,t.connect=function(d,y,T,R){sn(0),this.W=d,this.H=y||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=hw(this,null,this.W),Yc(this)};function Ep(d){if(iw(d),d.G==3){var y=d.U++,T=Zi(d.I);if(Be(T,"SID",d.K),Be(T,"RID",y),Be(T,"TYPE","terminate"),Vl(d,T),y=new Er(d,d.j,y),y.L=2,y.v=Hc(Zi(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=y.v,T=!0),T||(y.g=fw(y.j,null),y.g.ea(y.v)),y.F=Date.now(),$c(y)}cw(d)}function Xc(d){d.g&&(Cp(d),d.g.cancel(),d.g=null)}function iw(d){Xc(d),d.u&&(a.clearTimeout(d.u),d.u=null),Zc(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Yc(d){if(!F0(d.h)&&!d.s){d.s=!0;var y=d.Ga;te||L(),q||(te(),q=!0),Y.add(y,d),d.B=0}}function AR(d,y){return j0(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=El(h(d.Ga,d,y),uw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new Er(this,this.j,d);let j=this.o;if(this.S&&(j?(j=b(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(F.H=j,j=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=sw(this,F,y),T=Zi(this.I),Be(T,"RID",d),Be(T,"CVER",22),this.D&&Be(T,"X-HTTP-Session-Id",this.D),Vl(this,T),j&&(this.O?y="headers="+encodeURIComponent(String(X0(j)))+"&"+y:this.m&&bp(T,this.m,j)),Tp(this.h,F),this.Ua&&Be(T,"TYPE","init"),this.P?(Be(T,"$req",y),Be(T,"SID","null"),F.T=!0,vp(F,T,null)):vp(F,T,y),this.G=2}}else this.G==3&&(d?rw(this,d):this.i.length==0||F0(this.h)||rw(this))};function rw(d,y){var T;y?T=y.l:T=d.U++;const R=Zi(d.I);Be(R,"SID",d.K),Be(R,"RID",T),Be(R,"AID",d.T),Vl(d,R),d.m&&d.o&&bp(R,d.m,d.o),T=new Er(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=sw(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Tp(d.h,T),vp(T,R,y)}function Vl(d,y){d.H&&D(d.H,function(T,R){Be(y,R,T)}),d.l&&U0({},function(T,R){Be(y,R,T)})}function sw(d,y,T){T=Math.min(d.i.length,T);var R=d.l?h(d.l.Na,d.l,d):null;e:{var F=d.i;let j=-1;for(;;){const K=["count="+T];j==-1?0<T?(j=F[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Oe=!0;for(let At=0;At<T;At++){let Ce=F[At].g;const jt=F[At].map;if(Ce-=j,0>Ce)j=Math.max(0,F[At].g-100),Oe=!1;else try{SR(jt,K,"req"+Ce+"_")}catch{R&&R(jt)}}if(Oe){R=K.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,R}function ow(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;te||L(),q||(te(),q=!0),Y.add(y,d),d.v=0}}function Sp(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=El(h(d.Fa,d),uw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,aw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=El(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Xc(this),aw(this))};function Cp(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function aw(d){d.g=new Er(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Zi(d.qa);Be(y,"RID","rpc"),Be(y,"SID",d.K),Be(y,"AID",d.T),Be(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Be(y,"TO",d.ja),Be(y,"TYPE","xmlhttp"),Vl(d,y),d.m&&d.o&&bp(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Hc(Zi(y)),T.m=null,T.P=!0,D0(T,d)}t.Za=function(){this.C!=null&&(this.C=null,Xc(this),Sp(this),sn(19))};function Zc(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function lw(d,y){var T=null;if(d.g==y){Zc(d),Cp(d),d.g=null;var R=2}else if(xp(d.h,y))T=y.D,z0(d.h,y),R=1;else return;if(d.G!=0){if(y.o)if(R==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var F=d.B;R=zc(),Pt(R,new I0(R,T)),Yc(d)}else ow(d);else if(F=y.s,F==3||F==0&&0<y.X||!(R==1&&AR(d,y)||R==2&&Sp(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),F){case 1:Rs(d,5);break;case 4:Rs(d,10);break;case 3:Rs(d,6);break;default:Rs(d,2)}}}function uw(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function Rs(d,y){if(d.j.info("Error code "+y),y==2){var T=h(d.fb,d),R=d.Xa;const F=!R;R=new Is(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qc(R,"https"),Hc(R),F?TR(R.toString(),T):bR(R.toString(),T)}else sn(2);d.G=0,d.l&&d.l.sa(y),cw(d),iw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function cw(d){if(d.G=0,d.ka=[],d.l){const y=B0(d.h);(y.length!=0||d.i.length!=0)&&(v(d.ka,y),v(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function hw(d,y,T){var R=T instanceof Is?Zi(T):new Is(T);if(R.g!="")y&&(R.g=y+"."+R.g),Wc(R,R.s);else{var F=a.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var j=new Is(null);R&&qc(j,R),y&&(j.g=y),F&&Wc(j,F),T&&(j.l=T),R=j}return T=d.D,y=d.ya,T&&y&&Be(R,T,y),Be(R,"VER",d.la),Vl(d,R),R}function fw(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new et(new Gc({eb:T})):new et(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dw(){}t=dw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jc(){}Jc.prototype.g=function(d,y){return new Rn(d,y)};function Rn(d,y){gt.call(this),this.g=new nw(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!w(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new zo(this)}m(Rn,gt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Ep(this.g)},Rn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=fp(d),d=T);y.i.push(new fR(y.Ya++,d)),y.G==3&&Yc(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Ep(this.g),delete this.g,Rn.aa.N.call(this)};function pw(d){pp.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}m(pw,pp);function mw(){mp.call(this),this.status=1}m(mw,mp);function zo(d){this.g=d}m(zo,dw),zo.prototype.ua=function(){Pt(this.g,"a")},zo.prototype.ta=function(d){Pt(this.g,new pw(d))},zo.prototype.sa=function(d){Pt(this.g,new mw)},zo.prototype.ra=function(){Pt(this.g,"b")},Jc.prototype.createWebChannel=Jc.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,LC=function(){return new Jc},NC=function(){return zc()},OC=Ps,Xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bc.NO_ERROR=0,Bc.TIMEOUT=8,Bc.HTTP_ERROR=6,Yh=Bc,R0.COMPLETE="complete",DC=R0,C0.EventType=Tl,Tl.OPEN="a",Tl.CLOSE="b",Tl.ERROR="c",Tl.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Zl=C0,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,VC=et}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const Wx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new SC("@firebase/firestore");function $l(){return wo.logLevel}function ie(t,...e){if(wo.logLevel<=Ee.DEBUG){const n=e.map(Hv);wo.debug(`Firestore (${pl}): ${t}`,...n)}}function vr(t,...e){if(wo.logLevel<=Ee.ERROR){const n=e.map(Hv);wo.error(`Firestore (${pl}): ${t}`,...n)}}function Ua(t,...e){if(wo.logLevel<=Ee.WARN){const n=e.map(Hv);wo.warn(`Firestore (${pl}): ${t}`,...n)}}function Hv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function Ve(t,e){t||he()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends dl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class LO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FO{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ao,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ao)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ve(typeof i.accessToken=="string"),new FC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Ht(e)}}class jO{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zO{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new jO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const i=s=>{s.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new BO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=$O(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function Ie(t,e){return t<e?-1:t>e?1:0}function $a(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Tt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new Tt(0,0))}static max(){return new de(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,i){n===void 0?n=0:n>e.length&&he(),i===void 0?i=e.length-n:i>e.length-n&&he(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Gu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gu?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends Gu{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new it(n)}static emptyPath(){return new it([])}}const qO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Gu{construct(e,n,i){return new Vt(e,n,i)}static isValidIdentifier(e){return qO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(it.fromString(e))}static fromName(e){return new ue(it.fromString(e).popFirst(5))}static empty(){return new ue(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new it(e.slice()))}}function WO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=de.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new hs(r,ue.empty(),e)}function HO(t){return new hs(t.readTime,t.key,-1)}class hs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new hs(de.min(),ue.empty(),-1)}static max(){return new hs(de.max(),ue.empty(),-1)}}function GO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==KO)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new U((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===s&&i(o)},f=>r(f))}})}static doWhile(e,n){return new U((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function XO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gv.oe=-1;function Nd(t){return t==null}function Bf(t){return t===0&&1/t==-1/0}function YO(t){return typeof t=="number"&&Number.isInteger(t)&&!Bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Mt.RED,this.left=r??Mt.EMPTY,this.right=s??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Mt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Mt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gx(this.data.getIterator())}getIteratorFrom(e){return new Gx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Gx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Ot(Vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BC("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const ZO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=ZO.exec(t);if(Ve(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qv(t){const e=t.mapValue.fields.__previous_value__;return Kv(e)?Qv(e):e}function Ku(t){const e=fs(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Qu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh={mapValue:{}};function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:tN(t)?9007199254740991:eN(t)?10:11:he()}function Gi(t,e){if(t===e)return!0;const n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ku(t).isEqual(Ku(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=fs(r.timestampValue),a=fs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return xo(r.bytesValue).isEqual(xo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return st(r.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return st(r.integerValue)===st(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=st(r.doubleValue),a=st(s.doubleValue);return o===a?Bf(o)===Bf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Hx(o)!==Hx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gi(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Xu(t,e){return(t.values||[]).find(n=>Gi(n,e))!==void 0}function qa(t,e){if(t===e)return 0;const n=To(t),i=To(e);if(n!==i)return Ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Kx(t.timestampValue,e.timestampValue);case 4:return Kx(Ku(t),Ku(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=xo(s),l=xo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=Ie(a[c],l[c]);if(f!==0)return f}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ie(st(s.latitude),st(o.latitude));return a!==0?a:Ie(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,f;const u=s.fields||{},h=o.fields||{},p=(a=u.value)===null||a===void 0?void 0:a.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=Ie(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((f=m==null?void 0:m.values)===null||f===void 0?void 0:f.length)||0);return g!==0?g:Qx(p,m)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===wh.mapValue&&o===wh.mapValue)return 0;if(s===wh.mapValue)return 1;if(o===wh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let u=0;u<l.length&&u<f.length;++u){const h=Ie(l[u],f[u]);if(h!==0)return h;const p=qa(a[l[u]],c[f[u]]);if(p!==0)return p}return Ie(l.length,f.length)}(t.mapValue,e.mapValue);default:throw he()}}function Kx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=fs(t),i=fs(e),r=Ie(n.seconds,i.seconds);return r!==0?r:Ie(n.nanos,i.nanos)}function Qx(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=qa(n[r],i[r]);if(s)return s}return Ie(n.length,i.length)}function Wa(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=fs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Yg(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Yg(n.fields[o])}`;return r+"}"}(t.mapValue):he()}function Zg(t){return!!t&&"integerValue"in t}function Xv(t){return!!t&&"arrayValue"in t}function Xx(t){return!!t&&"nullValue"in t}function Yx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zh(t){return!!t&&"mapValue"in t}function eN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=pu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=Vt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=pu(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Zh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ao(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new vn(pu(this.value))}}function UC(t){const e=[];return Ao(t.fields,(n,i)=>{const r=new Vt([n]);if(Zh(i)){const s=UC(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,de.min(),de.min(),de.min(),vn.empty(),0)}static newFoundDocument(e,n,i,r){return new Qt(e,1,n,de.min(),i,r,0)}static newNoDocument(e,n){return new Qt(e,2,n,de.min(),de.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,de.min(),de.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.position=e,this.inclusive=n}}function Zx(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ue.comparator(ue.fromName(o.referenceValue),n.key):i=qa(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Jx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n="asc"){this.field=e,this.dir=n}}function nN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{}class _t extends $C{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new rN(e,n,i):n==="array-contains"?new aN(e,i):n==="in"?new lN(e,i):n==="not-in"?new uN(e,i):n==="array-contains-any"?new cN(e,i):new _t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new sN(e,i):new oN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qa(n,this.value)):n!==null&&To(this.value)===To(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends $C{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ki(e,n)}matches(e){return qC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qC(t){return t.op==="and"}function WC(t){return iN(t)&&qC(t)}function iN(t){for(const e of t.filters)if(e instanceof Ki)return!1;return!0}function Jg(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(WC(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function HC(t,e){return t instanceof _t?function(i,r){return r instanceof _t&&i.op===r.op&&i.field.isEqual(r.field)&&Gi(i.value,r.value)}(t,e):t instanceof Ki?function(i,r){return r instanceof Ki&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&HC(o,r.filters[a]),!0):!1}(t,e):void he()}function GC(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(t):t instanceof Ki?function(n){return n.op.toString()+" {"+n.getFilters().map(GC).join(" ,")+"}"}(t):"Filter"}class rN extends _t{constructor(e,n,i){super(e,n,i),this.key=ue.fromName(i.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class sN extends _t{constructor(e,n){super(e,"in",n),this.keys=KC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oN extends _t{constructor(e,n){super(e,"not-in",n),this.keys=KC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ue.fromName(i.referenceValue))}class aN extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xv(n)&&Xu(n.arrayValue,this.value)}}class lN extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xu(this.value.arrayValue,n)}}class uN extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xu(this.value.arrayValue,n)}}class cN extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function eT(t,e=null,n=[],i=[],r=null,s=null,o=null){return new hN(t,e,n,i,r,s,o)}function Yv(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Jg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Wa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Wa(i)).join(",")),e.ue=n}return e.ue}function Zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jx(t.startAt,e.startAt)&&Jx(t.endAt,e.endAt)}function ey(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fN(t,e,n,i,r,s,o,a){return new Ld(t,e,n,i,r,s,o,a)}function Jv(t){return new Ld(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dN(t){return t.collectionGroup!==null}function mu(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(Vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $f(s,i))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new $f(Vt.keyField(),i))}return e.ce}function $i(t){const e=pe(t);return e.le||(e.le=pN(e,mu(t))),e.le}function pN(t,e){if(t.limitType==="F")return eT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new $f(r.field,s)});const n=t.endAt?new Uf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Uf(t.startAt.position,t.startAt.inclusive):null;return eT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ty(t,e,n){return new Ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return Zv($i(t),$i(e))&&t.limitType===e.limitType}function QC(t){return`${Yv($i(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>GC(r)).join(", ")}]`),Nd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Wa(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Wa(r)).join(",")),`Target(${i})`}($i(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ue.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of mu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=Zx(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,mu(i),r)||i.endAt&&!function(o,a,l){const c=Zx(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,mu(i),r))}(t,e)}function mN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XC(t){return(e,n)=>{let i=!1;for(const r of mu(t)){const s=gN(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function gN(t,e,n){const i=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?qa(l,c):he()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Je(ue.comparator);function _r(){return yN}const YC=new Je(ue.comparator);function Jl(...t){let e=YC;for(const n of t)e=e.insert(n.key,n);return e}function ZC(t){let e=YC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ys(){return gu()}function JC(){return gu()}function gu(){return new ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const vN=new Je(ue.comparator),_N=new Ot(ue.comparator);function _e(...t){let e=_N;for(const n of t)e=e.add(n);return e}const wN=new Ot(Ie);function xN(){return wN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function ek(t){return{integerValue:""+t}}function tk(t,e){return YO(e)?ek(e):e_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function TN(t,e,n){return t instanceof Yu?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Kv(s)&&(s=Qv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ha?ik(t,e):t instanceof Zu?rk(t,e):function(r,s){const o=nk(r,s),a=nT(o)+nT(r.Pe);return Zg(o)&&Zg(r.Pe)?ek(a):e_(r.serializer,a)}(t,e)}function bN(t,e,n){return t instanceof Ha?ik(t,e):t instanceof Zu?rk(t,e):n}function nk(t,e){return t instanceof Ju?function(i){return Zg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Yu extends zd{}class Ha extends zd{constructor(e){super(),this.elements=e}}function ik(t,e){const n=sk(e);for(const i of t.elements)n.some(r=>Gi(r,i))||n.push(i);return{arrayValue:{values:n}}}class Zu extends zd{constructor(e){super(),this.elements=e}}function rk(t,e){let n=sk(e);for(const i of t.elements)n=n.filter(r=>!Gi(r,i));return{arrayValue:{values:n}}}class Ju extends zd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nT(t){return st(t.integerValue||t.doubleValue)}function sk(t){return Xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.field=e,this.transform=n}}function EN(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ha&&r instanceof Ha||i instanceof Zu&&r instanceof Zu?$a(i.elements,r.elements,Gi):i instanceof Ju&&r instanceof Ju?Gi(i.Pe,r.Pe):i instanceof Yu&&r instanceof Yu}(t.transform,e.transform)}class SN{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function ok(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lk(t.key,qi.none()):new Sc(t.key,t.data,qi.none());{const n=t.data,i=vn.empty();let r=new Ot(Vt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Es(t.key,i,new Ln(r.toArray()),qi.none())}}function CN(t,e,n){t instanceof Sc?function(r,s,o){const a=r.value.clone(),l=rT(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Es?function(r,s,o){if(!Jh(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=rT(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ak(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yu(t,e,n,i){return t instanceof Sc?function(s,o,a,l){if(!Jh(s.precondition,o))return a;const c=s.value.clone(),f=sT(s.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Es?function(s,o,a,l){if(!Jh(s.precondition,o))return a;const c=sT(s.fieldTransforms,l,o),f=o.data;return f.setAll(ak(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(t,e,n,i):function(s,o,a){return Jh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function kN(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=nk(i.transform,r||null);s!=null&&(n===null&&(n=vn.empty()),n.set(i.field,s))}return n||null}function iT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&$a(i,r,(s,o)=>EN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sc extends Bd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Es extends Bd{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ak(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function rT(t,e,n){const i=new Map;Ve(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,bN(o,a,n[r]))}return i}function sT(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,TN(s,o,e))}return i}class lk extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PN extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&CN(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=yu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=yu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=JC();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=ok(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,i)=>iT(n,i))&&$a(this.baseMutations,e.baseMutations,(n,i)=>iT(n,i))}}class n_{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ve(e.mutations.length===i.length);let r=function(){return vN}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n_(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,be;function MN(t){switch(t){default:return he();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function uk(t){if(t===void 0)return vr("GRPC error has no .code"),W.UNKNOWN;switch(t){case ct.OK:return W.OK;case ct.CANCELLED:return W.CANCELLED;case ct.UNKNOWN:return W.UNKNOWN;case ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ct.INTERNAL:return W.INTERNAL;case ct.UNAVAILABLE:return W.UNAVAILABLE;case ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ct.NOT_FOUND:return W.NOT_FOUND;case ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ct.ABORTED:return W.ABORTED;case ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ct.DATA_LOSS:return W.DATA_LOSS;default:return he()}}(be=ct||(ct={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new oo([4294967295,4294967295],0);function oT(t){const e=VN().encode(t),n=new MC;return n.update(e),new Uint8Array(n.digest())}function aT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new oo([n,i],0),new oo([r,s],0)]}class i_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(i<0)throw new eu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=oo.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(oo.fromNumber(i)));return r.compare(DN)===1&&(r=new oo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=oT(e),[i,r]=aT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new i_(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=oT(e),[i,r]=aT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ud(de.min(),r,new Je(Ie),_r(),_e())}}class Cc{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Cc(i,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class ck{constructor(e,n){this.targetId=e,this.me=n}}class hk{constructor(e,n,i=Ft.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class lT{constructor(){this.fe=0,this.ge=cT(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),i=_e();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:he()}}),new Cc(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=cT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ON{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=uT(),this.Qe=new Je(Ie)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(ey(s))if(i===0){const o=new ue(s.path);this.Ue(n,o,Qt.newNoDocument(o,de.min()))}else Ve(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=xo(i).toUint8Array()}catch(l){if(l instanceof BC)return Ua("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new i_(o,r,s)}catch(l){return Ua(l instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&ey(a.target)){const l=new ue(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Qt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new Ud(e,n,this.Qe,this.ke,i);return this.ke=_r(),this.qe=uT(),this.Qe=new Je(Ie),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Ie),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function uT(){return new Je(ue.comparator)}function cT(){return new Je(ue.comparator)}const NN={asc:"ASCENDING",desc:"DESCENDING"},LN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class jN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ny(t,e){return t.useProto3Json||Nd(e)?e:{value:e}}function qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zN(t,e){return qf(t,e.toTimestamp())}function Wi(t){return Ve(!!t),de.fromTimestamp(function(n){const i=fs(n);return new Tt(i.seconds,i.nanos)}(t))}function r_(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=function(r){return new it(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dk(t){const e=it.fromString(t);return Ve(vk(e)),e}function ry(t,e){return r_(t.databaseId,e.path)}function sm(t,e){const n=dk(e);if(n.get(1)!==t.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(mk(n))}function pk(t,e){return r_(t.databaseId,e)}function BN(t){const e=dk(t);return e.length===4?it.emptyPath():mk(e)}function sy(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mk(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hT(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function UN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Ve(f===void 0||typeof f=="string"),Ft.fromBase64String(f||"")):(Ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ft.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?W.UNKNOWN:uk(c.code);return new le(f,c.message||"")}(o);n=new hk(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=sm(t,i.document.name),s=Wi(i.document.updateTime),o=i.document.createTime?Wi(i.document.createTime):de.min(),a=new vn({mapValue:{fields:i.document.fields}}),l=Qt.newFoundDocument(r,s,o,a),c=i.targetIds||[],f=i.removedTargetIds||[];n=new ef(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=sm(t,i.document),s=i.readTime?Wi(i.readTime):de.min(),o=Qt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new ef([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=sm(t,i.document),s=i.removedTargetIds||[];n=new ef([],s,r,null)}else{if(!("filter"in e))return he();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new RN(r,s),a=i.targetId;n=new ck(a,o)}}return n}function $N(t,e){let n;if(e instanceof Sc)n={update:hT(t,e.key,e.value)};else if(e instanceof lk)n={delete:ry(t,e.key)};else if(e instanceof Es)n={update:hT(t,e.key,e.data),updateMask:ZN(e.fieldMask)};else{if(!(e instanceof PN))return he();n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Yu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ju)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:zN(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function qN(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Wi(r.updateTime):Wi(s);return o.isEqual(de.min())&&(o=Wi(s)),new SN(o,r.transformResults||[])}(n,e))):[]}function WN(t,e){return{documents:[pk(t,e.path)]}}function HN(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=pk(t,r);const s=function(c){if(c.length!==0)return yk(Ki.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(h){return{field:Ko(h.field),direction:QN(h.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ny(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:r}}function GN(t){let e=BN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ve(i===1);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(u){const h=gk(u);return h instanceof Ki&&WC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(u){return u.map(h=>function(m){return new $f(Qo(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Nd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,p=u.values||[];return new Uf(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,p=u.values||[];return new Uf(p,h)}(n.endAt)),fN(e,r,o,s,a,"F",l,c)}function KN(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Qo(n.unaryFilter.field);return _t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Qo(n.unaryFilter.field);return _t.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qo(n.unaryFilter.field);return _t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qo(n.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(Qo(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ki.create(n.compositeFilter.filters.map(i=>gk(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function QN(t){return NN[t]}function XN(t){return LN[t]}function YN(t){return FN[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Qo(t){return Vt.fromServerFormat(t.fieldPath)}function yk(t){return t instanceof _t?function(n){if(n.op==="=="){if(Yx(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(Xx(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yx(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(Xx(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:XN(n.op),value:n.value}}}(t):t instanceof Ki?function(n){const i=n.getFilters().map(r=>yk(r));return i.length===1?i[0]:{compositeFilter:{op:YN(n.op),filters:i}}}(t):he()}function ZN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,i,r,s=de.min(),o=de.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.ct=e}}function eL(t){const e=GN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ty(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.un=new nL}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(hs.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class nL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ot(it.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ga(0)}static kn(){return new Ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.changes=new ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&yu(i.mutation,r,Ln.empty(),Tt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,_e()).next(()=>i))}getLocalViewOfDocuments(e,n,i=_e()){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Jl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,_e()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=_r();const o=gu(),a=function(){return gu()}();return n.forEach((l,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof Es)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),yu(f.mutation,c,f.mutation.getFieldMask(),Tt.now())):o.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var u;return a.set(c,new rL(f,(u=o.get(c))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(e,n){const i=gu();let r=new Je((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=i.get(l)||Ln.empty();f=a.applyToLocalView(c,f),i.set(l,f);const u=(r.get(a.batchId)||_e()).add(l);r=r.insert(a.batchId,u)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,u=JC();f.forEach(h=>{if(!s.has(h)){const p=ok(n.get(h),i.get(h));p!==null&&u.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,u))}return U.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):U.resolve(Ys());let a=-1,l=s;return o.next(c=>U.forEach(c,(f,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),s.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(h=>{l=l.insert(f,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,_e())).next(f=>({batchId:a,changes:ZC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(i=>{let r=Jl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Jl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(u,h){return new Ld(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((u,h)=>{o=o.insert(u,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Qt.newInvalidDocument(f)))});let a=Jl();return o.forEach((l,c)=>{const f=s.get(l);f!==void 0&&yu(f.mutation,c,Ln.empty(),Tt.now()),jd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Wi(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:eL(r.bundledQuery),readTime:Wi(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.overlays=new Je(ue.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ys();return U.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const r=Ys(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Je((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=Ys(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Ys(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=r)););return U.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new IN(n,i));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.Tr=new Ot(bt.Er),this.dr=new Ot(bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new bt(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new bt(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new ue(new it([])),i=new bt(n,e),r=new bt(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ue(new it([])),i=new bt(n,e),r=new bt(n,e+1);let s=_e();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||Ie(e.wr,n.wr)}static Ar(e,n){return Ie(e.wr,n.wr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(bt.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AN(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new bt(n,0),r=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ot(Ie);return n.forEach(r=>{const s=new bt(r,0),o=new bt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),U.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ue.isDocumentKey(s)||(s=s.child(""));const o=new bt(new ue(s),0);let a=new Ot(Ie);return this.br.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return U.forEach(n.mutations,r=>{const s=new bt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new bt(n,0),r=this.br.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.Mr=e,this.docs=function(){return new Je(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let i=_r();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Qt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=_r();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||GO(HO(f),i)<=0||(r.has(f.key)||jd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,i,r){he()}Or(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new hL(this)}getSize(e){return U.resolve(this.size)}}class hL extends iL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.persistence=e,this.Nr=new ml(n=>Yv(n),Zv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new s_,this.targetCount=0,this.kr=Ga.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ga(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Gv(0),this.Kr=!1,this.Kr=!0,this.$r=new lL,this.referenceDelegate=e(this),this.Ur=new fL(this),this.indexManager=new tL,this.remoteDocumentCache=function(r){return new cL(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new JN(n),this.Gr=new oL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new uL(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){ie("MemoryPersistence","Starting transaction:",e);const r=new pL(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class pL extends QO{constructor(e){super(),this.currentSequenceNumber=e}}class o_{constructor(e){this.persistence=e,this.Jr=new s_,this.Yr=null}static Zr(e){return new o_(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,i=>{const r=ue.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=_e(),r=_e();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new a_(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wD()?8:XO(vD())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new mL;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?($l()<=Ee.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):($l()<=Ee.DEBUG&&ie("QueryEngine","Query:",Go(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?($l()<=Ee.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):U.resolve())}Yi(e,n){if(tT(n))return U.resolve(null);let i=$i(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ty(n,null,"F"),i=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,ty(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,i,r){return tT(n)||r.isEqual(de.min())?U.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?U.resolve(null):($l()<=Ee.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Go(n)),this.rs(e,o,n,WO(r,-1)).next(a=>a))})}ts(e,n){let i=new Ot(XC(e));return n.forEach((r,s)=>{jd(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return $l()<=Ee.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Go(n)),this.Ji.getDocumentsMatchingQuery(e,n,hs.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new Je(Ie),this._s=new ml(s=>Yv(s),Zv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function vL(t,e,n,i){return new yL(t,e,n,i)}async function _k(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=_e();for(const c of r){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function _L(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const u=c.batch,h=u.keys();let p=U.resolve();return h.forEach(m=>{p=p.next(()=>f.getEntry(l,m)).next(g=>{const v=c.docVersions.get(m);Ve(v!==null),g.version.compareTo(v)<0&&(u.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),f.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,u))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function wk(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function wL(t,e){const n=pe(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];e.targetChanges.forEach((f,u)=>{const h=r.get(u);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,u).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,u)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(u)!==null?p=p.withResumeToken(Ft.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,i)),r=r.insert(u,p),function(g,v,_){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,f)&&a.push(n.Ur.updateTargetData(s,p))});let l=_r(),c=_e();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(xL(s,o,e.documentUpdates).next(f=>{l=f.Ps,c=f.Is})),!i.isEqual(de.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(u=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(f)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=r,s))}function xL(t,e,n){let i=_e(),r=_e();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=_r();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function TL(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function bL(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Br(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function oy(t,e,n){const i=pe(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Ec(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function fT(t,e,n){const i=pe(t);let r=de.min(),s=_e();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,f){const u=pe(l),h=u._s.get(f);return h!==void 0?U.resolve(u.os.get(h)):u.Ur.getTargetData(c,f)}(i,o,$i(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:de.min(),n?s:_e())).next(a=>(EL(i,mN(e),a),{documents:a,Ts:s})))}function EL(t,e,n){let i=t.us.get(e)||de.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}class dT{constructor(){this.activeTargetIds=xN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SL{constructor(){this.so=new dT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new dT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh=null;function om(){return xh===null?xh=function(){return 268435456+Math.round(2147483648*Math.random())}():xh++,"0x"+xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class AL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=om(),l=this.xo(n,i.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,r).then(f=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ua("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=kL[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=om();return new Promise((o,a)=>{const l=new VC;l.setWithCredentials(!0),l.listenOnce(DC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yh.NO_ERROR:const f=l.getResponseJson();ie($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Yh.TIMEOUT:ie($t,`RPC '${e}' ${s} timed out`),a(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const u=l.getStatus();if(ie($t,`RPC '${e}' ${s} failed with status:`,u,"response text:",l.getResponseText()),u>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(_)>=0?_:W.UNKNOWN}(p.status);a(new le(m,p.message))}else a(new le(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new le(W.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ie($t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);ie($t,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Bo(e,n,i){const r=om(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LC(),a=NC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const f=s.join("");ie($t,`Creating RPC '${e}' stream ${r}: ${f}`,l);const u=o.createWebChannel(f,l);let h=!1,p=!1;const m=new PL({Io:v=>{p?ie($t,`Not sending because RPC '${e}' stream ${r} is closed:`,v):(h||(ie($t,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),ie($t,`RPC '${e}' stream ${r} sending:`,v),u.send(v))},To:()=>u.close()}),g=(v,_,w)=>{v.listen(_,x=>{try{w(x)}catch(C){setTimeout(()=>{throw C},0)}})};return g(u,Zl.EventType.OPEN,()=>{p||(ie($t,`RPC '${e}' stream ${r} transport opened.`),m.yo())}),g(u,Zl.EventType.CLOSE,()=>{p||(p=!0,ie($t,`RPC '${e}' stream ${r} transport closed`),m.So())}),g(u,Zl.EventType.ERROR,v=>{p||(p=!0,Ua($t,`RPC '${e}' stream ${r} transport errored:`,v),m.So(new le(W.UNAVAILABLE,"The operation could not be completed")))}),g(u,Zl.EventType.MESSAGE,v=>{var _;if(!p){const w=v.data[0];Ve(!!w);const x=w,C=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(C){ie($t,`RPC '${e}' stream ${r} received error:`,C);const I=C.status;let D=function(E){const P=ct[E];if(P!==void 0)return uk(P)}(I),k=C.message;D===void 0&&(D=W.INTERNAL,k="Unknown error status: "+I+" with message "+C.message),p=!0,m.So(new le(D,k)),u.close()}else ie($t,`RPC '${e}' stream ${r} received:`,w),m.bo(w)}}),g(a,OC.STAT_EVENT,v=>{v.stat===Xg.PROXY?ie($t,`RPC '${e}' stream ${r} detected buffering proxy`):v.stat===Xg.NOPROXY&&ie($t,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return new jN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&ie("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new le(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IL extends Tk{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=UN(this.serializer,e),i=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Wi(o.readTime):de.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=sy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ey(l)?{documents:WN(s,l)}:{query:HN(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fk(s,o.resumeToken);const c=ny(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=qf(s,o.snapshotVersion.toTimestamp());const c=ny(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=KN(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.a_(n)}}class RL extends Tk{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=qN(e.writeResults,e.commitTime),i=Wi(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=sy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>$N(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,iy(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(W.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,iy(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class VL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vr(n),this.D_=!1):ie("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{Io(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=pe(l);c.L_.add(4),await kc(c),c.q_.set("Unknown"),c.L_.delete(4),await qd(c)}(this))})}),this.q_=new VL(i,r)}}async function qd(t){if(Io(t))for(const e of t.B_)await e(!0)}async function kc(t){for(const e of t.B_)await e(!1)}function bk(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),h_(n)?c_(n):gl(n).r_()&&u_(n,e))}function l_(t,e){const n=pe(t),i=gl(n);n.N_.delete(e),i.r_()&&Ek(n,e),n.N_.size===0&&(i.r_()?i.o_():Io(n)&&n.q_.set("Unknown"))}function u_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).A_(e)}function Ek(t,e){t.Q_.xe(e),gl(t).R_(e)}function c_(t){t.Q_=new ON({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.q_.v_()}function h_(t){return Io(t)&&!gl(t).n_()&&t.N_.size>0}function Io(t){return pe(t).L_.size===0}function Sk(t){t.Q_=void 0}async function OL(t){t.q_.set("Online")}async function NL(t){t.N_.forEach((e,n)=>{u_(t,e)})}async function LL(t,e){Sk(t),h_(t)?(t.q_.M_(e),c_(t)):t.q_.set("Unknown")}async function FL(t,e,n){if(t.q_.set("Online"),e instanceof hk&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(t,e)}catch(i){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Wf(t,i)}else if(e instanceof ef?t.Q_.Ke(e):e instanceof ck?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{const i=await wk(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(Ft.EMPTY_BYTE_STRING,f.snapshotVersion)),Ek(s,l);const u=new Br(f.target,l,c,f.sequenceNumber);u_(s,u)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){ie("RemoteStore","Failed to raise snapshot:",i),await Wf(t,i)}}async function Wf(t,e,n){if(!Ec(e))throw e;t.L_.add(1),await kc(t),t.q_.set("Offline"),n||(n=()=>wk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await qd(t)})}function Ck(t,e){return e().catch(n=>Wf(t,n,e))}async function Wd(t){const e=pe(t),n=ds(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jL(e);)try{const r=await TL(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,zL(e,r)}catch(r){await Wf(e,r)}kk(e)&&Pk(e)}function jL(t){return Io(t)&&t.O_.length<10}function zL(t,e){t.O_.push(e);const n=ds(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kk(t){return Io(t)&&!ds(t).n_()&&t.O_.length>0}function Pk(t){ds(t).start()}async function BL(t){ds(t).p_()}async function UL(t){const e=ds(t);for(const n of t.O_)e.m_(n.mutations)}async function $L(t,e,n){const i=t.O_.shift(),r=n_.from(i,e,n);await Ck(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Wd(t)}async function qL(t,e){e&&ds(t).V_&&await async function(i,r){if(function(o){return MN(o)&&o!==W.ABORTED}(r.code)){const s=i.O_.shift();ds(i).s_(),await Ck(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Wd(i)}}(t,e),kk(t)&&Pk(t)}async function mT(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const i=Io(n);n.L_.add(3),await kc(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await qd(n)}async function WL(t,e){const n=pe(t);e?(n.L_.delete(2),await qd(n)):e||(n.L_.add(2),await kc(n),n.q_.set("Unknown"))}function gl(t){return t.K_||(t.K_=function(n,i,r){const s=pe(n);return s.w_(),new IL(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:OL.bind(null,t),Ro:NL.bind(null,t),mo:LL.bind(null,t),d_:FL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),h_(t)?c_(t):t.q_.set("Unknown")):(await t.K_.stop(),Sk(t))})),t.K_}function ds(t){return t.U_||(t.U_=function(n,i,r){const s=pe(n);return s.w_(),new RL(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:BL.bind(null,t),mo:qL.bind(null,t),f_:UL.bind(null,t),g_:$L.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Wd(t)):(await t.U_.stop(),t.O_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new f_(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(vr("AsyncQueue",`${e}: ${t}`),Ec(t))return new le(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ue.comparator(n.key,i.key):(n,i)=>ue.comparator(n.key,i.key),this.keyedMap=Jl(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Ca(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ca;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.W_=new Je(ue.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ka{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ka(e,n,Ca.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class GL{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=pe(n),s=r.queries;r.queries=yT(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new le(W.ABORTED,"Firestore shutting down"))}}function yT(){return new ml(t=>QC(t),Fd)}async function KL(t,e){const n=pe(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new HL,i=e.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=d_(o,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&p_(n)}async function QL(t,e){const n=pe(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function XL(t,e){const n=pe(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&p_(n)}function YL(t,e,n){const i=pe(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function p_(t){t.Y_.forEach(e=>{e.next()})}var ay,vT;(vT=ay||(ay={})).ea="default",vT.Cache="cache";class ZL{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ka(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.key=e}}class Ik{constructor(e){this.key=e}}class JL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=XC(e),this.Ra=new Ca(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new gT,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,u)=>{const h=r.get(f),p=jd(this.query,u)?u:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(i.track({type:3,doc:p}),v=!0):this.ga(h,p)||(i.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!h&&p?(i.track({type:0,doc:p}),v=!0):h&&!p&&(i.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),s=g?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,u)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return g(p)-g(m)}(f.type,u.type)||this.Aa(f.doc,u.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ka(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new Ik(i))}),this.da.forEach(i=>{e.has(i)||n.push(new Ak(i))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ka.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class eF{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class tF{constructor(e){this.key=e,this.va=!1}}class nF{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ml(a=>QC(a),Fd),this.Ma=new Map,this.xa=new Set,this.Oa=new Je(ue.comparator),this.Na=new Map,this.La=new s_,this.Ba={},this.ka=new Map,this.qa=Ga.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function iF(t,e,n=!0){const i=Nk(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await Rk(i,e,n,!0),r}async function rF(t,e){const n=Nk(t);await Rk(n,e,!0,!1)}async function Rk(t,e,n,i){const r=await bL(t.localStore,$i(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await sF(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&bk(t.remoteStore,r),a}async function sF(t,e,n,i,r){t.Ka=(u,h,p)=>async function(g,v,_,w){let x=v.view.ma(_);x.ns&&(x=await fT(g.localStore,v.query,!1).then(({documents:k})=>v.view.ma(k,x)));const C=w&&w.targetChanges.get(v.targetId),I=w&&w.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(x,g.isPrimaryClient,C,I);return wT(g,v.targetId,D.wa),D.snapshot}(t,u,h,p);const s=await fT(t.localStore,e,!0),o=new JL(e,s.Ts),a=o.ma(s.documents),l=Cc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);wT(t,n,c.wa);const f=new eF(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function oF(t,e,n){const i=pe(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Fd(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await oy(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&l_(i.remoteStore,r.targetId),ly(i,r.targetId)}).catch(bc)):(ly(i,r.targetId),await oy(i.localStore,r.targetId,!0))}async function aF(t,e){const n=pe(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),l_(n.remoteStore,i.targetId))}async function lF(t,e,n){const i=mF(t);try{const r=await function(o,a){const l=pe(o),c=Tt.now(),f=a.reduce((p,m)=>p.add(m.key),_e());let u,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=_r(),g=_e();return l.cs.getEntries(p,f).next(v=>{m=v,m.forEach((_,w)=>{w.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{u=v;const _=[];for(const w of a){const x=kN(w,u.get(w.key).overlayedDocument);x!=null&&_.push(new Es(w.key,x,UC(x.value.mapValue),qi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(u,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:ZC(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Je(Ie)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(i,r.batchId,n),await Pc(i,r.changes),await Wd(i.remoteStore)}catch(r){const s=d_(r,"Failed to persist write");n.reject(s)}}async function Mk(t,e){const n=pe(t);try{const i=await wL(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Ve(o.va):r.removedDocuments.size>0&&(Ve(o.va),o.va=!1))}),await Pc(n,i,e)}catch(i){await bc(i)}}function _T(t,e,n){const i=pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let c=!1;l.queries.forEach((f,u)=>{for(const h of u.j_)h.Z_(a)&&(c=!0)}),c&&p_(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uF(t,e,n){const i=pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new Je(ue.comparator);o=o.insert(s,Qt.newNoDocument(s,de.min()));const a=_e().add(s),l=new Ud(de.min(),new Map,new Je(Ie),o,a);await Mk(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),m_(i)}else await oy(i.localStore,e,!1).then(()=>ly(i,e,n)).catch(bc)}async function cF(t,e){const n=pe(t),i=e.batch.batchId;try{const r=await _L(n.localStore,e);Dk(n,i,null),Vk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pc(n,r)}catch(r){await bc(r)}}async function hF(t,e,n){const i=pe(t);try{const r=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(u=>(Ve(u!==null),f=u.keys(),l.mutationQueue.removeMutationBatch(c,u))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(i.localStore,e);Dk(i,e,n),Vk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pc(i,r)}catch(r){await bc(r)}}function Vk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Dk(t,e,n){const i=pe(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||Ok(t,i)})}function Ok(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(l_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),m_(t))}function wT(t,e,n){for(const i of n)i instanceof Ak?(t.La.addReference(i.key,e),fF(t,i)):i instanceof Ik?(ie("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||Ok(t,i.key)):he()}function fF(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(ie("SyncEngine","New document in limbo: "+n),t.xa.add(i),m_(t))}function m_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ue(it.fromString(e)),i=t.qa.next();t.Na.set(i,new tF(n)),t.Oa=t.Oa.insert(n,i),bk(t.remoteStore,new Br($i(Jv(n.path)),i,"TargetPurposeLimboResolution",Gv.oe))}}async function Pc(t,e,n){const i=pe(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const u=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(c){r.push(c);const u=a_.Wi(l.targetId,c);s.push(u)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,c){const f=pe(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>U.forEach(c,h=>U.forEach(h.$i,p=>f.persistence.referenceDelegate.addReference(u,h.targetId,p)).next(()=>U.forEach(h.Ui,p=>f.persistence.referenceDelegate.removeReference(u,h.targetId,p)))))}catch(u){if(!Ec(u))throw u;ie("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const p=f.os.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);f.os=f.os.insert(h,g)}}}(i.localStore,s))}async function dF(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const i=await _k(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new le(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pc(n,i.hs)}}function pF(t,e){const n=pe(t),i=n.Na.get(e);if(i&&i.va)return _e().add(i.key);{let r=_e();const s=n.Ma.get(e);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function Nk(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uF.bind(null,e),e.Ca.d_=XL.bind(null,e.eventManager),e.Ca.$a=YL.bind(null,e.eventManager),e}function mF(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hF.bind(null,e),e}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return vL(this.persistence,new gL,e.initialUser,this.serializer)}Ga(e){return new dL(o_.Zr,this.serializer)}Wa(e){return new SL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_T(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dF.bind(null,this.syncEngine),await WL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GL}()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),i=function(s){return new AL(s)}(e.databaseInfo);return function(s,o,a,l){return new ML(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new DL(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_T(this.syncEngine,n,0),function(){return pT.D()?new pT:new CL}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,f){const u=new nF(r,s,o,a,l,c);return f&&(u.Qa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=pe(r);ie("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await kc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}uy.provider={build:()=>new uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ht.UNAUTHENTICATED,this.clientId=jC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=d_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function lm(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await _k(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vF(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>mT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>mT(e.remoteStore,r)),t._onlineComponents=e}async function vF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===W.FAILED_PRECONDITION||r.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await lm(t,new Hf)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await lm(t,new Hf);return t._offlineComponents}async function Lk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await xT(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await xT(t,new uy))),t._onlineComponents}function _F(t){return Lk(t).then(e=>e.syncEngine)}async function TT(t){const e=await Lk(t),n=e.eventManager;return n.onListen=iF.bind(null,e.syncEngine),n.onUnlisten=oF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aF.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xF(t,e,n,i){if(e===!0&&i===!0)throw new le(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ET(t){if(!ue.isDocumentKey(t))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function is(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g_(t);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y_{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NO;switch(i.type){case"firstParty":return new zO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=bT.get(n);i&&(ie("ComponentProvider","Removing Datastore"),bT.delete(n),i.terminate())}(this),Promise.resolve()}}function TF(t,e,n,i={}){var r;const s=(t=is(t,y_))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ht.MOCK_USER;else{a=yD(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(c)}t._authCredentials=new LO(new FC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hd(this.firestore,e,this._query)}}class Un{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class ec extends Hd{constructor(e,n,i){super(e,n,Jv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new ue(e))}withConverter(e){return new ec(this.firestore,e,this._path)}}function ke(t,e,...n){if(t=cs(t),arguments.length===1&&(e=jC.newId()),wF("doc","path",e),t instanceof y_){const i=it.fromString(e,...n);return ET(i),new Un(t,null,new ue(i))}{if(!(t instanceof Un||t instanceof ec))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return ET(i),new Un(t.firestore,t instanceof ec?t.converter:null,new ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xk(this,"async_queue_retry"),this.Vu=()=>{const i=am();i&&ie("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ao;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ec(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw vr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=f_.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function kT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class tc extends y_{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new CT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CT(e),this._firestoreClient=void 0,await e}}}function bF(t,e){const n=typeof t=="object"?t:AC(),i=typeof t=="string"?t:"(default)",r=TO(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=mD("firestore");s&&TF(r,...s)}return r}function jk(t){if(t._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EF(t),t._firestoreClient}function EF(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,f){return new JO(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Fk(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new yF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qa(Ft.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qa(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=/^__.*__$/;class CF{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class zk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Bk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Kd{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Bk(this.Cu)&&SF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class kF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||$d(e)}Qu(e,n,i,r=!1){return new Kd({Cu:e,methodName:n,qu:i,path:Vt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uk(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new kF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PF(t,e,n,i,r,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);b_("Data must be an object, but it was:",o,i);const a=$k(i,o);let l,c;if(s.merge)l=new Ln(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const u of s.mergeFields){const h=cy(e,u,n);if(!o.contains(h))throw new le(W.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Wk(f,h)||f.push(h)}l=new Ln(f),c=o.fieldTransforms.filter(u=>l.covers(u.field))}else l=null,c=o.fieldTransforms;return new CF(new vn(a),l,c)}class Qd extends yl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function AF(t,e,n){return new Kd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class w_ extends yl{_toFieldTransform(e){return new t_(e.path,new Yu)}isEqual(e){return e instanceof w_}}class x_ extends yl{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=AF(this,e,!0),i=this.Ku.map(s=>Ac(s,n)),r=new Ha(i);return new t_(e.path,r)}isEqual(e){return e instanceof x_&&jf(this.Ku,e.Ku)}}class T_ extends yl{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Ju(e.serializer,tk(e.serializer,this.$u));return new t_(e.path,n)}isEqual(e){return e instanceof T_&&this.$u===e.$u}}function IF(t,e,n,i){const r=t.Qu(1,e,n);b_("Data must be an object, but it was:",r,i);const s=[],o=vn.empty();Ao(i,(l,c)=>{const f=E_(e,l,n);c=cs(c);const u=r.Nu(f);if(c instanceof Qd)s.push(f);else{const h=Ac(c,u);h!=null&&(s.push(f),o.set(f,h))}});const a=new Ln(s);return new zk(o,a,r.fieldTransforms)}function RF(t,e,n,i,r,s){const o=t.Qu(1,e,n),a=[cy(e,i,n)],l=[r];if(s.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(cy(e,s[h])),l.push(s[h+1]);const c=[],f=vn.empty();for(let h=a.length-1;h>=0;--h)if(!Wk(c,a[h])){const p=a[h];let m=l[h];m=cs(m);const g=o.Nu(p);if(m instanceof Qd)c.push(p);else{const v=Ac(m,g);v!=null&&(c.push(p),f.set(p,v))}}const u=new Ln(c);return new zk(f,u,o.fieldTransforms)}function Ac(t,e){if(qk(t=cs(t)))return b_("Unsupported field value:",e,t),$k(t,e);if(t instanceof yl)return function(i,r){if(!Bk(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Ac(a,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=cs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Tt.fromDate(i);return{timestampValue:qf(r.serializer,s)}}if(i instanceof Tt){const s=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qf(r.serializer,s)}}if(i instanceof v_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qa)return{bytesValue:fk(r.serializer,i._byteString)};if(i instanceof Un){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:r_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof __)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return e_(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${g_(i)}`)}(t,e)}function $k(t,e){const n={};return zC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(i,r)=>{const s=Ac(r,e.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function qk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof v_||t instanceof Qa||t instanceof Un||t instanceof yl||t instanceof __)}function b_(t,e,n){if(!qk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=g_(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function cy(t,e,n){if((e=cs(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return E_(t,e);throw Gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const MF=new RegExp("[~\\*/\\[\\]]");function E_(t,e,n){if(e.search(MF)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gf(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new le(W.INVALID_ARGUMENT,a+t+l)}function Wk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VF extends Hk{data(){return super.data()}}function Gk(t,e){return typeof e=="string"?E_(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OF{convertValue(e,n="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ao(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>st(o.doubleValue));return new __(s)}convertGeoPoint(e){return new v_(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Qv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const n=fs(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);Ve(vk(i));const r=new Qu(i.get(1),i.get(3)),s=new ue(i.popFirst(5));return r.isEqual(n)||vr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kk extends Hk{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Gk("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class tf extends Kk{data(e={}){return super.data(e)}}class LF{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new tu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new tf(this._firestore,this._userDataWriter,i.key,i,new tu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new tf(r._firestore,r._userDataWriter,a.doc.key,a.doc,new tu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new tf(r._firestore,r._userDataWriter,a.doc.key,a.doc,new tu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:FF(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}class Qk extends OF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function qt(t,e,n){t=is(t,Un);const i=is(t.firestore,tc),r=NF(t.converter,e);return Xk(i,[PF(Uk(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,qi.none())])}function Xa(t,e,n,...i){t=is(t,Un);const r=is(t.firestore,tc),s=Uk(r);let o;return o=typeof(e=cs(e))=="string"||e instanceof Gd?RF(s,"updateDoc",t._key,e,n,i):IF(s,"updateDoc",t._key,e),Xk(r,[o.toMutation(t._key,qi.exists(!0))])}function Ii(t,...e){var n,i,r;t=cs(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||kT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(kT(e[o])){const u=e[o];e[o]=(n=u.next)===null||n===void 0?void 0:n.bind(u),e[o+1]=(i=u.error)===null||i===void 0?void 0:i.bind(u),e[o+2]=(r=u.complete)===null||r===void 0?void 0:r.bind(u)}let l,c,f;if(t instanceof Un)c=is(t.firestore,tc),f=Jv(t._key.path),l={next:u=>{e[o]&&e[o](jF(c,t,u))},error:e[o+1],complete:e[o+2]};else{const u=is(t,Hd);c=is(u.firestore,tc),f=u._query;const h=new Qk(c);l={next:p=>{e[o]&&e[o](new LF(c,h,u,p))},error:e[o+1],complete:e[o+2]},DF(t._query)}return function(h,p,m,g){const v=new gF(g),_=new ZL(p,v,m);return h.asyncQueue.enqueueAndForget(async()=>KL(await TT(h),_)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>QL(await TT(h),_))}}(jk(c),f,a,l)}function Xk(t,e){return function(i,r){const s=new ao;return i.asyncQueue.enqueueAndForget(async()=>lF(await _F(i),r,s)),s.promise}(jk(t),e)}function jF(t,e,n){const i=n.docs.get(e._key),r=new Qk(t);return new Kk(t,r,e._key,i,new tu(n.hasPendingWrites,n.fromCache),e.converter)}function zF(){return new w_("serverTimestamp")}function S_(...t){return new x_("arrayUnion",t)}function Th(t){return new T_("increment",t)}(function(e,n=!0){(function(r){pl=r})(SO),zf(new qu("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new tc(new FO(i.getProvider("auth-internal")),new UO(i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(c.options.projectId,f)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Sa(Wx,"4.7.3",e),Sa(Wx,"4.7.3","esm2017")})();var BF="firebase",UF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sa(BF,UF,"app");const Yk={apiKey:"AIzaSyCtoiu476Nd765FSsspVzIgl4hOqjwL-TU",authDomain:"misadventuring-live.firebaseapp.com",projectId:"misadventuring-live",storageBucket:"misadventuring-live.firebasestorage.app",messagingSenderId:"567713213764",appId:"1:567713213764:web:496b98cc82db211be77b11",measurementId:"G-4KLYEVJ184"},$F=CO().length===0?PC(Yk):AC(),Pe=bF($F);console.log(" Firebase ready - project:",Yk.projectId);window.__firebaseTestRan||(window.__firebaseTestRan=!0,setTimeout(async()=>{console.log(" Testing Firebase connection...");try{const t=ke(Pe,"test","connection-test");await qt(t,{timestamp:new Date().toISOString(),message:"Connection test from browser"}),console.log(" Firebase connection SUCCESS!")}catch(t){const e=t;console.error(" Firebase connection FAILED:",e.code,e.message),console.error("Full error:",t)}},2e3));const Zk=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Xd=N.createContext({}),Yd=N.createContext(null),Zd=typeof document<"u",C_=Zd?N.useLayoutEffect:N.useEffect,Jk=N.createContext({strict:!1}),k_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qF="framerAppearId",eP="data-"+k_(qF);function WF(t,e,n,i){const{visualElement:r}=N.useContext(Xd),s=N.useContext(Jk),o=N.useContext(Yd),a=N.useContext(Zk).reducedMotion,l=N.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;N.useInsertionEffect(()=>{c&&c.update(n,o)});const f=N.useRef(!!(n[eP]&&!window.HandoffComplete));return C_(()=>{c&&(c.render(),f.current&&c.animationState&&c.animationState.animateChanges())}),N.useEffect(()=>{c&&(c.updateFeatures(),!f.current&&c.animationState&&c.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),c}function la(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HF(t,e,n){return N.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):la(n)&&(n.current=i))},[e])}function nc(t){return typeof t=="string"||Array.isArray(t)}function Jd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const P_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A_=["initial",...P_];function ep(t){return Jd(t.animate)||A_.some(e=>nc(t[e]))}function tP(t){return!!(ep(t)||t.variants)}function GF(t,e){if(ep(t)){const{initial:n,animate:i}=t;return{initial:n===!1||nc(n)?n:void 0,animate:nc(i)?i:void 0}}return t.inherit!==!1?e:{}}function KF(t){const{initial:e,animate:n}=GF(t,N.useContext(Xd));return N.useMemo(()=>({initial:e,animate:n}),[PT(e),PT(n)])}function PT(t){return Array.isArray(t)?t.join(" "):t}const AT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ic={};for(const t in AT)ic[t]={isEnabled:e=>AT[t].some(n=>!!e[n])};function QF(t){for(const e in t)ic[e]={...ic[e],...t[e]}}const I_=N.createContext({}),nP=N.createContext({}),XF=Symbol.for("motionComponentSymbol");function YF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&QF(t);function s(a,l){let c;const f={...N.useContext(Zk),...a,layoutId:ZF(a)},{isStatic:u}=f,h=KF(a),p=i(a,u);if(!u&&Zd){h.visualElement=WF(r,p,f,e);const m=N.useContext(nP),g=N.useContext(Jk).strict;h.visualElement&&(c=h.visualElement.loadFeatures(f,g,t,m))}return N.createElement(Xd.Provider,{value:h},c&&h.visualElement?N.createElement(c,{visualElement:h.visualElement,...f}):null,n(r,a,HF(p,h.visualElement,l),p,u,h.visualElement))}const o=N.forwardRef(s);return o[XF]=r,o}function ZF({layoutId:t}){const e=N.useContext(I_).id;return e&&t!==void 0?e+"-"+t:t}function JF(t){function e(i,r={}){return YF(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const e5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R_(t){return typeof t!="string"||t.includes("-")?!1:!!(e5.indexOf(t)>-1||/[A-Z]/.test(t))}const Kf={};function t5(t){Object.assign(Kf,t)}const Ic=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ro=new Set(Ic);function iP(t,{layout:e,layoutId:n}){return Ro.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kf[t]||t==="opacity")}const Pn=t=>!!(t&&t.getVelocity),n5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},i5=Ic.length;function r5(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let s="";for(let o=0;o<i5;o++){const a=Ic[o];if(t[a]!==void 0){const l=n5[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(t,i?"":s):n&&i&&(s="none"),s}const rP=t=>e=>typeof e=="string"&&e.startsWith(t),sP=rP("--"),hy=rP("var(--"),s5=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,o5=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ps=(t,e,n)=>Math.min(Math.max(n,t),e),Mo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vu={...Mo,transform:t=>ps(0,1,t)},bh={...Mo,default:1},_u=t=>Math.round(t*1e5)/1e5,tp=/(-)?([\d]*\.?[\d])+/g,oP=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,a5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rc(t){return typeof t=="string"}const Mc=t=>({test:e=>Rc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ir=Mc("deg"),Hi=Mc("%"),ce=Mc("px"),l5=Mc("vh"),u5=Mc("vw"),IT={...Hi,parse:t=>Hi.parse(t)/100,transform:t=>Hi.transform(t*100)},RT={...Mo,transform:Math.round},aP={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,size:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:bh,scaleX:bh,scaleY:bh,scaleZ:bh,skew:Ir,skewX:Ir,skewY:Ir,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:vu,originX:IT,originY:IT,originZ:ce,zIndex:RT,fillOpacity:vu,strokeOpacity:vu,numOctaves:RT};function M_(t,e,n,i){const{style:r,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,f=!0;for(const u in e){const h=e[u];if(sP(u)){s[u]=h;continue}const p=aP[u],m=o5(h,p);if(Ro.has(u)){if(l=!0,o[u]=m,!f)continue;h!==(p.default||0)&&(f=!1)}else u.startsWith("origin")?(c=!0,a[u]=m):r[u]=m}if(e.transform||(l||i?r.transform=r5(t.transform,n,f,i):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:p=0}=a;r.transformOrigin=`${u} ${h} ${p}`}}const V_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lP(t,e,n){for(const i in e)!Pn(e[i])&&!iP(i,n)&&(t[i]=e[i])}function c5({transformTemplate:t},e,n){return N.useMemo(()=>{const i=V_();return M_(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function h5(t,e,n){const i=t.style||{},r={};return lP(r,i,t),Object.assign(r,c5(t,e,n)),t.transformValues?t.transformValues(r):r}function f5(t,e,n){const i={},r=h5(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const d5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||d5.has(t)}let uP=t=>!Qf(t);function p5(t){t&&(uP=e=>e.startsWith("on")?!Qf(e):t(e))}try{p5(require("@emotion/is-prop-valid").default)}catch{}function m5(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(uP(r)||n===!0&&Qf(r)||!e&&!Qf(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function MT(t,e,n){return typeof t=="string"?t:ce.transform(e+n*t)}function g5(t,e,n){const i=MT(e,t.x,t.width),r=MT(n,t.y,t.height);return`${i} ${r}`}const y5={offset:"stroke-dashoffset",array:"stroke-dasharray"},v5={offset:"strokeDashoffset",array:"strokeDasharray"};function _5(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?y5:v5;t[s.offset]=ce.transform(-i);const o=ce.transform(e),a=ce.transform(n);t[s.array]=`${o} ${a}`}function D_(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},f,u,h){if(M_(t,c,f,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=g5(g,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&_5(p,o,a,l,!1)}const cP=()=>({...V_(),attrs:{}}),O_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function w5(t,e,n,i){const r=N.useMemo(()=>{const s=cP();return D_(s,e,{enableHardwareAcceleration:!1},O_(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};lP(s,t.style,t),r.style={...s,...r.style}}return r}function x5(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(R_(n)?w5:f5)(i,s,o,n),f={...m5(i,typeof n=="string",t),...l,ref:r},{children:u}=i,h=N.useMemo(()=>Pn(u)?u.get():u,[u]);return N.createElement(n,{...f,children:h})}}function hP(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const fP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dP(t,e,n,i){hP(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(fP.has(r)?r:k_(r),e.attrs[r])}function N_(t,e){const{style:n}=t,i={};for(const r in n)(Pn(n[r])||e.style&&Pn(e.style[r])||iP(r,t))&&(i[r]=n[r]);return i}function pP(t,e){const n=N_(t,e);for(const i in t)if(Pn(t[i])||Pn(e[i])){const r=Ic.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}function L_(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}function mP(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xf=t=>Array.isArray(t),T5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),b5=t=>Xf(t)?t[t.length-1]||0:t;function nf(t){const e=Pn(t)?t.get():t;return T5(e)?e.toValue():e}function E5({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,s){const o={latestValues:S5(i,r,s,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const gP=t=>(e,n)=>{const i=N.useContext(Xd),r=N.useContext(Yd),s=()=>E5(t,e,i,r);return n?s():mP(s)};function S5(t,e,n,i){const r={},s=i(t,{});for(const h in s)r[h]=nf(s[h]);let{initial:o,animate:a}=t;const l=ep(t),c=tP(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const u=f?a:o;return u&&typeof u!="boolean"&&!Jd(u)&&(Array.isArray(u)?u:[u]).forEach(p=>{const m=L_(t,p);if(!m)return;const{transitionEnd:g,transition:v,..._}=m;for(const w in _){let x=_[w];if(Array.isArray(x)){const C=f?x.length-1:0;x=x[C]}x!==null&&(r[w]=x)}for(const w in g)r[w]=g[w]}),r}const lt=t=>t;class VT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function C5(t){let e=new VT,n=new VT,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,f=!1)=>{const u=f&&r,h=u?e:n;return c&&o.add(l),h.add(l)&&u&&r&&(i=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const f=e.order[c];f(l),o.has(f)&&(a.schedule(f),t())}r=!1,s&&(s=!1,a.process(l))}};return a}const Eh=["prepare","read","update","preRender","render","postRender"],k5=40;function P5(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=Eh.reduce((u,h)=>(u[h]=C5(()=>n=!0),u),{}),o=u=>s[u].process(r),a=()=>{const u=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(u-r.timestamp,k5),1),r.timestamp=u,r.isProcessing=!0,Eh.forEach(o),r.isProcessing=!1,n&&e&&(i=!1,t(a))},l=()=>{n=!0,i=!0,r.isProcessing||t(a)};return{schedule:Eh.reduce((u,h)=>{const p=s[h];return u[h]=(m,g=!1,v=!1)=>(n||l(),p.schedule(m,g,v)),u},{}),cancel:u=>Eh.forEach(h=>s[h].cancel(u)),state:r,steps:s}}const{schedule:ze,cancel:wr,state:Wt,steps:um}=P5(typeof requestAnimationFrame<"u"?requestAnimationFrame:lt,!0),A5={useVisualState:gP({scrapeMotionValuesFromProps:pP,createRenderState:cP,onMount:(t,e,{renderState:n,latestValues:i})=>{ze.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ze.render(()=>{D_(n,i,{enableHardwareAcceleration:!1},O_(e.tagName),t.transformTemplate),dP(e,n)})}})},I5={useVisualState:gP({scrapeMotionValuesFromProps:N_,createRenderState:V_})};function R5(t,{forwardMotionProps:e=!1},n,i){return{...R_(t)?A5:I5,preloadedFeatures:n,useRender:x5(e),createVisualElement:i,Component:t}}function ar(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const yP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function np(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const M5=t=>e=>yP(e)&&t(e,np(e));function cr(t,e,n,i){return ar(t,e,M5(n),i)}const V5=(t,e)=>n=>e(t(n)),rs=(...t)=>t.reduce(V5);function vP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const DT=vP("dragHorizontal"),OT=vP("dragVertical");function _P(t){let e=!1;if(t==="y")e=OT();else if(t==="x")e=DT();else{const n=DT(),i=OT();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function wP(){const t=_P(!0);return t?(t(),!1):!0}class Ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}function NT(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.pointerType==="touch"||wP())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[i]&&ze.update(()=>a[i](s,o))};return cr(t.current,n,r,{passive:!t.getProps()[i]})}class D5 extends Ss{mount(){this.unmount=rs(NT(this.node,!0),NT(this.node,!1))}unmount(){}}class O5 extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rs(ar(this.node.current,"focus",()=>this.onFocus()),ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const xP=(t,e)=>e?t===e?!0:xP(t,e.parentElement):!1;function cm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,np(n))}class N5 extends Ss{constructor(){super(...arguments),this.removeStartListeners=lt,this.removeEndListeners=lt,this.removeAccessibleListeners=lt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=cr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:f,globalTapTarget:u}=this.node.getProps();ze.update(()=>{!u&&!xP(this.node.current,a.target)?f&&f(a,l):c&&c(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=cr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=rs(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||cm("up",(l,c)=>{const{onTap:f}=this.node.getProps();f&&ze.update(()=>f(l,c))})};this.removeEndListeners(),this.removeEndListeners=ar(this.node.current,"keyup",o),cm("down",(a,l)=>{this.startPress(a,l)})},n=ar(this.node.current,"keydown",e),i=()=>{this.isPressing&&cm("cancel",(s,o)=>this.cancelPress(s,o))},r=ar(this.node.current,"blur",i);this.removeAccessibleListeners=rs(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&ze.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&ze.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=cr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=rs(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fy=new WeakMap,hm=new WeakMap,L5=t=>{const e=fy.get(t.target);e&&e(t)},F5=t=>{t.forEach(L5)};function j5({root:t,...e}){const n=t||document;hm.has(n)||hm.set(n,{});const i=hm.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(F5,{root:t,...e})),i[r]}function z5(t,e,n){const i=j5(e);return fy.set(t,n),i.observe(t),()=>{fy.delete(t),i.unobserve(t)}}const B5={some:0,all:1};class U5 extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:B5[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:u}=this.node.getProps(),h=c?f:u;h&&h(l)};return z5(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($5(e,n))&&this.startObserver()}unmount(){}}function $5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const q5={inView:{Feature:U5},tap:{Feature:N5},focus:{Feature:O5},hover:{Feature:D5}};function TP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function W5(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function H5(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function ip(t,e,n){const i=t.getProps();return L_(i,e,n!==void 0?n:i.custom,W5(t),H5(t))}let F_=lt;const lo=t=>t*1e3,hr=t=>t/1e3,G5={current:!1},bP=t=>Array.isArray(t)&&typeof t[0]=="number";function EP(t){return!!(!t||typeof t=="string"&&SP[t]||bP(t)||Array.isArray(t)&&t.every(EP))}const nu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,SP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nu([0,.65,.55,1]),circOut:nu([.55,0,1,.45]),backIn:nu([.31,.01,.66,-.59]),backOut:nu([.33,1.53,.69,.99])};function CP(t){if(t)return bP(t)?nu(t):Array.isArray(t)?t.map(CP):SP[t]}function K5(t,e,n,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const f=CP(a);return Array.isArray(f)&&(c.easing=f),t.animate(c,{delay:i,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Q5(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const kP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,X5=1e-7,Y5=12;function Z5(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=kP(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>X5&&++a<Y5);return o}function Vc(t,e,n,i){if(t===e&&n===i)return lt;const r=s=>Z5(s,0,1,t,n);return s=>s===0||s===1?s:kP(r(s),e,i)}const J5=Vc(.42,0,1,1),e4=Vc(0,0,.58,1),PP=Vc(.42,0,.58,1),t4=t=>Array.isArray(t)&&typeof t[0]!="number",AP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IP=t=>e=>1-t(1-e),j_=t=>1-Math.sin(Math.acos(t)),RP=IP(j_),n4=AP(j_),MP=Vc(.33,1.53,.69,.99),z_=IP(MP),i4=AP(z_),r4=t=>(t*=2)<1?.5*z_(t):.5*(2-Math.pow(2,-10*(t-1))),s4={linear:lt,easeIn:J5,easeInOut:PP,easeOut:e4,circIn:j_,circInOut:n4,circOut:RP,backIn:z_,backInOut:i4,backOut:MP,anticipate:r4},LT=t=>{if(Array.isArray(t)){F_(t.length===4);const[e,n,i,r]=t;return Vc(e,n,i,r)}else if(typeof t=="string")return s4[t];return t},B_=(t,e)=>n=>!!(Rc(n)&&a5.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),VP=(t,e,n)=>i=>{if(!Rc(i))return i;const[r,s,o,a]=i.match(tp);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},o4=t=>ps(0,255,t),fm={...Mo,transform:t=>Math.round(o4(t))},Zs={test:B_("rgb","red"),parse:VP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+fm.transform(t)+", "+fm.transform(e)+", "+fm.transform(n)+", "+_u(vu.transform(i))+")"};function a4(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const dy={test:B_("#"),parse:a4,transform:Zs.transform},ua={test:B_("hsl","hue"),parse:VP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Hi.transform(_u(e))+", "+Hi.transform(_u(n))+", "+_u(vu.transform(i))+")"},on={test:t=>Zs.test(t)||dy.test(t)||ua.test(t),parse:t=>Zs.test(t)?Zs.parse(t):ua.test(t)?ua.parse(t):dy.parse(t),transform:t=>Rc(t)?t:t.hasOwnProperty("red")?Zs.transform(t):ua.transform(t)},Qe=(t,e,n)=>-n*t+n*e+t;function dm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function l4({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=dm(l,a,t+1/3),s=dm(l,a,t),o=dm(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const pm=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},u4=[dy,Zs,ua],c4=t=>u4.find(e=>e.test(t));function FT(t){const e=c4(t);let n=e.parse(t);return e===ua&&(n=l4(n)),n}const DP=(t,e)=>{const n=FT(t),i=FT(e),r={...n};return s=>(r.red=pm(n.red,i.red,s),r.green=pm(n.green,i.green,s),r.blue=pm(n.blue,i.blue,s),r.alpha=Qe(n.alpha,i.alpha,s),Zs.transform(r))};function h4(t){var e,n;return isNaN(t)&&Rc(t)&&(((e=t.match(tp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oP))===null||n===void 0?void 0:n.length)||0)>0}const OP={regex:s5,countKey:"Vars",token:"${v}",parse:lt},NP={regex:oP,countKey:"Colors",token:"${c}",parse:on.parse},LP={regex:tp,countKey:"Numbers",token:"${n}",parse:Mo.parse};function mm(t,{regex:e,countKey:n,token:i,parse:r}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...s.map(r)))}function Yf(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&mm(n,OP),mm(n,NP),mm(n,LP),n}function FP(t){return Yf(t).values}function jP(t){const{values:e,numColors:n,numVars:i,tokenised:r}=Yf(t),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(OP.token,o[l]):l<i+n?a=a.replace(NP.token,on.transform(o[l])):a=a.replace(LP.token,_u(o[l]));return a}}const f4=t=>typeof t=="number"?0:t;function d4(t){const e=FP(t);return jP(t)(e.map(f4))}const ms={test:h4,parse:FP,createTransformer:jP,getAnimatableNone:d4},zP=(t,e)=>n=>`${n>0?e:t}`;function BP(t,e){return typeof t=="number"?n=>Qe(t,e,n):on.test(t)?DP(t,e):t.startsWith("var(")?zP(t,e):$P(t,e)}const UP=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,o)=>BP(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}},p4=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=BP(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}},$P=(t,e)=>{const n=ms.createTransformer(e),i=Yf(t),r=Yf(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?rs(UP(i.values,r.values),n):zP(t,e)},rc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},jT=(t,e)=>n=>Qe(t,e,n);function m4(t){return typeof t=="number"?jT:typeof t=="string"?on.test(t)?DP:$P:Array.isArray(t)?UP:typeof t=="object"?p4:jT}function g4(t,e,n){const i=[],r=n||m4(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||lt:e;a=rs(l,a)}i.push(a)}return i}function qP(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(F_(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=g4(e,i,r),a=o.length,l=c=>{let f=0;if(a>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const u=rc(t[f],t[f+1],c);return o[f](u)};return n?c=>l(ps(t[0],t[s-1],c)):l}function y4(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=rc(0,e,i);t.push(Qe(n,1,r))}}function v4(t){const e=[0];return y4(e,t.length-1),e}function _4(t,e){return t.map(n=>n*e)}function w4(t,e){return t.map(()=>e||PP).splice(0,t.length-1)}function Zf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=t4(i)?i.map(LT):LT(i),s={done:!1,value:e[0]},o=_4(n&&n.length===e.length?n:v4(e),t),a=qP(o,e,{ease:Array.isArray(r)?r:w4(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function WP(t,e){return e?t*(1e3/e):0}const x4=5;function HP(t,e,n){const i=Math.max(e-x4,0);return WP(n-t(i),e-i)}const gm=.001,T4=.01,b4=10,E4=.05,S4=1;function C4({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s,o=1-e;o=ps(E4,S4,o),t=ps(T4,b4,hr(t)),o<1?(r=c=>{const f=c*o,u=f*t,h=f-n,p=py(c,o),m=Math.exp(-u);return gm-h/p*m},s=c=>{const u=c*o*t,h=u*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-u),g=py(Math.pow(c,2),o);return(-r(c)+gm>0?-1:1)*((h-p)*m)/g}):(r=c=>{const f=Math.exp(-c*t),u=(c-n)*t+1;return-gm+f*u},s=c=>{const f=Math.exp(-c*t),u=(n-c)*(t*t);return f*u});const a=5/t,l=P4(r,s,a);if(t=lo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const k4=12;function P4(t,e,n){let i=n;for(let r=1;r<k4;r++)i=i-t(i)/e(i);return i}function py(t,e){return t*Math.sqrt(1-e*e)}const A4=["duration","bounce"],I4=["stiffness","damping","mass"];function zT(t,e){return e.some(n=>t[n]!==void 0)}function R4(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!zT(t,I4)&&zT(t,A4)){const n=C4(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function GP({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],s=t[t.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:f,velocity:u,isResolvedFromDuration:h}=R4({...i,velocity:-hr(i.velocity||0)}),p=u||0,m=l/(2*Math.sqrt(a*c)),g=s-r,v=hr(Math.sqrt(a/c)),_=Math.abs(g)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let w;if(m<1){const x=py(v,m);w=C=>{const I=Math.exp(-m*v*C);return s-I*((p+m*v*g)/x*Math.sin(x*C)+g*Math.cos(x*C))}}else if(m===1)w=x=>s-Math.exp(-v*x)*(g+(p+v*g)*x);else{const x=v*Math.sqrt(m*m-1);w=C=>{const I=Math.exp(-m*v*C),D=Math.min(x*C,300);return s-I*((p+m*v*g)*Math.sinh(D)+x*g*Math.cosh(D))/x}}return{calculatedDuration:h&&f||null,next:x=>{const C=w(x);if(h)o.done=x>=f;else{let I=p;x!==0&&(m<1?I=HP(w,x,C):I=0);const D=Math.abs(I)<=n,k=Math.abs(s-C)<=e;o.done=D&&k}return o.value=o.done?s:C,o}}}function BT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:f}){const u=t[0],h={done:!1,value:u},p=b=>a!==void 0&&b<a||l!==void 0&&b>l,m=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let g=n*e;const v=u+g,_=o===void 0?v:o(v);_!==v&&(g=_-u);const w=b=>-g*Math.exp(-b/i),x=b=>_+w(b),C=b=>{const E=w(b),P=x(b);h.done=Math.abs(E)<=c,h.value=h.done?_:P};let I,D;const k=b=>{p(h.value)&&(I=b,D=GP({keyframes:[h.value,m(h.value)],velocity:HP(x,b,h.value),damping:r,stiffness:s,restDelta:c,restSpeed:f}))};return k(0),{calculatedDuration:null,next:b=>{let E=!1;return!D&&I===void 0&&(E=!0,C(b),k(b)),I!==void 0&&b>I?D.next(b-I):(!E&&C(b),h)}}}const M4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ze.update(e,!0),stop:()=>wr(e),now:()=>Wt.isProcessing?Wt.timestamp:performance.now()}},UT=2e4;function $T(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<UT;)e+=n,i=t.next(e);return e>=UT?1/0:e}const V4={decay:BT,inertia:BT,tween:Zf,keyframes:Zf,spring:GP};function Jf({autoplay:t=!0,delay:e=0,driver:n=M4,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:f,onUpdate:u,...h}){let p=1,m=!1,g,v;const _=()=>{v=new Promise(O=>{g=O})};_();let w;const x=V4[r]||Zf;let C;x!==Zf&&typeof i[0]!="number"&&(C=qP([0,100],i,{clamp:!1}),i=[0,100]);const I=x({...h,keyframes:i});let D;a==="mirror"&&(D=x({...h,keyframes:[...i].reverse(),velocity:-(h.velocity||0)}));let k="idle",b=null,E=null,P=null;I.calculatedDuration===null&&s&&(I.calculatedDuration=$T(I));const{calculatedDuration:M}=I;let V=1/0,A=1/0;M!==null&&(V=M+o,A=V*(s+1)-o);let z=0;const Z=O=>{if(E===null)return;p>0&&(E=Math.min(E,O)),p<0&&(E=Math.min(O-A/p,E)),b!==null?z=b:z=Math.round(O-E)*p;const $=z-e*(p>=0?1:-1),X=p>=0?$<0:$>A;z=Math.max($,0),k==="finished"&&b===null&&(z=A);let ee=z,re=I;if(s){const xe=Math.min(z,A)/V;let Te=Math.floor(xe),ge=xe%1;!ge&&xe>=1&&(ge=1),ge===1&&Te--,Te=Math.min(Te,s+1),!!(Te%2)&&(a==="reverse"?(ge=1-ge,o&&(ge-=o/V)):a==="mirror"&&(re=D)),ee=ps(0,1,ge)*V}const ae=X?{done:!1,value:i[0]}:re.next(ee);C&&(ae.value=C(ae.value));let{done:ne}=ae;!X&&M!==null&&(ne=p>=0?z>=A:z<=0);const me=b===null&&(k==="finished"||k==="running"&&ne);return u&&u(ae.value),me&&q(),ae},Q=()=>{w&&w.stop(),w=void 0},te=()=>{k="idle",Q(),g(),_(),E=P=null},q=()=>{k="finished",f&&f(),Q(),g()},Y=()=>{if(m)return;w||(w=n(Z));const O=w.now();l&&l(),b!==null?E=O-b:(!E||k==="finished")&&(E=O),k==="finished"&&_(),P=E,b=null,k="running",w.start()};t&&Y();const L={then(O,$){return v.then(O,$)},get time(){return hr(z)},set time(O){O=lo(O),z=O,b!==null||!w||p===0?b=O:E=w.now()-O/p},get duration(){const O=I.calculatedDuration===null?$T(I):I.calculatedDuration;return hr(O)},get speed(){return p},set speed(O){O===p||!w||(p=O,L.time=hr(z))},get state(){return k},play:Y,pause:()=>{k="paused",b=z},stop:()=>{m=!0,k!=="idle"&&(k="idle",c&&c(),te())},cancel:()=>{P!==null&&Z(P),te()},complete:()=>{k="finished"},sample:O=>(E=0,Z(O))};return L}function D4(t){let e;return()=>(e===void 0&&(e=t()),e)}const O4=D4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),N4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sh=10,L4=2e4,F4=(t,e)=>e.type==="spring"||t==="backgroundColor"||!EP(e.ease);function j4(t,e,{onUpdate:n,onComplete:i,...r}){if(!(O4()&&N4.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const f=()=>{l=new Promise(x=>{a=x})};f();let{keyframes:u,duration:h=300,ease:p,times:m}=r;if(F4(e,r)){const x=Jf({...r,repeat:0,delay:0});let C={done:!1,value:u[0]};const I=[];let D=0;for(;!C.done&&D<L4;)C=x.sample(D),I.push(C.value),D+=Sh;m=void 0,u=I,h=D-Sh,p="linear"}const g=K5(t.owner.current,e,u,{...r,duration:h,ease:p,times:m}),v=()=>{c=!1,g.cancel()},_=()=>{c=!0,ze.update(v),a(),f()};return g.onfinish=()=>{c||(t.set(Q5(u,r)),i&&i(),_())},{then(x,C){return l.then(x,C)},attachTimeline(x){return g.timeline=x,g.onfinish=null,lt},get time(){return hr(g.currentTime||0)},set time(x){g.currentTime=lo(x)},get speed(){return g.playbackRate},set speed(x){g.playbackRate=x},get duration(){return hr(h)},play:()=>{o||(g.play(),wr(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:x}=g;if(x){const C=Jf({...r,autoplay:!1});t.setWithVelocity(C.sample(x-Sh).value,C.sample(x).value,Sh)}_()},complete:()=>{c||g.finish()},cancel:_}}function z4({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const r=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:lt,pause:lt,stop:lt,then:s=>(s(),Promise.resolve()),cancel:lt,complete:lt});return e?Jf({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const B4={type:"spring",stiffness:500,damping:25,restSpeed:10},U4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$4={type:"keyframes",duration:.8},q4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W4=(t,{keyframes:e})=>e.length>2?$4:Ro.has(t)?t.startsWith("scale")?U4(e[1]):B4:q4,my=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ms.test(e)||e==="0")&&!e.startsWith("url(")),H4=new Set(["brightness","contrast","saturate","opacity"]);function G4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(tp)||[];if(!i)return t;const r=n.replace(i,"");let s=H4.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const K4=/([a-z-]*)\(.*?\)/g,gy={...ms,getAnimatableNone:t=>{const e=t.match(K4);return e?e.map(G4).join(" "):t}},Q4={...aP,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:gy,WebkitFilter:gy},U_=t=>Q4[t];function KP(t,e){let n=U_(t);return n!==gy&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QP=t=>/^0[^.\s]+$/.test(t);function X4(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||QP(t)}function Y4(t,e,n,i){const r=my(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=i.from!==void 0?i.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),X4(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const f=l[c];s[f]=KP(e,a)}return s}function Z4({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...f}){return!!Object.keys(f).length}function $_(t,e){return t[e]||t.default||t}const J4={skipAnimations:!1},q_=(t,e,n,i={})=>r=>{const s=$_(i,t)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-lo(o);const l=Y4(e,t,n,s),c=l[0],f=l[l.length-1],u=my(t,c),h=my(t,f);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(Z4(s)||(p={...p,...W4(t,p)}),p.duration&&(p.duration=lo(p.duration)),p.repeatDelay&&(p.repeatDelay=lo(p.repeatDelay)),!u||!h||G5.current||s.type===!1||J4.skipAnimations)return z4(p);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=j4(e,t,p);if(m)return m}return Jf(p)};function ed(t){return!!(Pn(t)&&t.add)}const XP=t=>/^\-?\d*\.?\d+$/.test(t);function W_(t,e){t.indexOf(e)===-1&&t.push(e)}function H_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class G_{constructor(){this.subscriptions=[]}add(e){return W_(this.subscriptions,e),()=>H_(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ej=t=>!isNaN(parseFloat(t));class tj{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=Wt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ze.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ze.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=ej(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G_);const i=this.events[e].add(n);return e==="change"?()=>{i(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?WP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ya(t,e){return new tj(t,e)}const YP=t=>e=>e.test(t),nj={test:t=>t==="auto",parse:t=>t},ZP=[Mo,ce,Hi,Ir,u5,l5,nj],ql=t=>ZP.find(YP(t)),ij=[...ZP,on,ms],rj=t=>ij.find(YP(t));function sj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ya(n))}function oj(t,e){const n=ip(t,e);let{transitionEnd:i={},transition:r={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...i};for(const o in s){const a=b5(s[o]);sj(t,o,a)}}function aj(t,e,n){var i,r;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let f=null;Array.isArray(c)&&(f=c[0]),f===null&&(f=(r=(i=n[l])!==null&&i!==void 0?i:t.readValue(l))!==null&&r!==void 0?r:e[l]),f!=null&&(typeof f=="string"&&(XP(f)||QP(f))?f=parseFloat(f):!rj(f)&&ms.test(c)&&(f=KP(l,c)),t.addValue(l,Ya(f,{owner:t})),n[l]===void 0&&(n[l]=f),f!==null&&t.setBaseTarget(l,f))}}function lj(t,e){return e?(e[t]||e.default||e).from:void 0}function uj(t,e,n){const i={};for(const r in t){const s=lj(r,e);if(s!==void 0)i[r]=s;else{const o=n.getValue(r);o&&(i[r]=o.get())}}return i}function cj({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function hj(t,e){const n=t.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}else return n!==e}function JP(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");i&&(s=i);const c=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const u in a){const h=t.getValue(u),p=a[u];if(!h||p===void 0||f&&cj(f,u))continue;const m={delay:n,elapsed:0,...$_(s||{},u)};if(window.HandoffAppearAnimations){const _=t.getProps()[eP];if(_){const w=window.HandoffAppearAnimations(_,u,h,ze);w!==null&&(m.elapsed=w,m.isHandoff=!0)}}let g=!m.isHandoff&&!hj(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(q_(u,h,p,t.shouldReduceMotion&&Ro.has(u)?{type:!1}:m));const v=h.animation;ed(l)&&(l.add(u),v.then(()=>l.remove(u))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&oj(t,o)}),c}function yy(t,e,n={}){const i=ip(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(JP(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:u}=r;return fj(t,e,c+l,f,u,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function fj(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(dj).forEach((c,f)=>{c.notify("AnimationStart",e),o.push(yy(c,e,{...s,delay:n+l(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function dj(t,e){return t.sortNodePosition(e)}function pj(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>yy(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=yy(t,e,n);else{const r=typeof e=="function"?ip(t,e,n.custom):e;i=Promise.all(JP(t,r,n))}return i.then(()=>t.notify("AnimationComplete",e))}const mj=[...P_].reverse(),gj=P_.length;function yj(t){return e=>Promise.all(e.map(({animation:n,options:i})=>pj(t,n,i)))}function vj(t){let e=yj(t);const n=wj();let i=!0;const r=(l,c)=>{const f=ip(t,c);if(f){const{transition:u,transitionEnd:h,...p}=f;l={...l,...p,...h}}return l};function s(l){e=l(t)}function o(l,c){const f=t.getProps(),u=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},g=1/0;for(let _=0;_<gj;_++){const w=mj[_],x=n[w],C=f[w]!==void 0?f[w]:u[w],I=nc(C),D=w===c?x.isActive:null;D===!1&&(g=_);let k=C===u[w]&&C!==f[w]&&I;if(k&&i&&t.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...m},!x.isActive&&D===null||!C&&!x.prevProp||Jd(C)||typeof C=="boolean")continue;let E=_j(x.prevProp,C)||w===c&&x.isActive&&!k&&I||_>g&&I,P=!1;const M=Array.isArray(C)?C:[C];let V=M.reduce(r,{});D===!1&&(V={});const{prevResolvedValues:A={}}=x,z={...A,...V},Z=Q=>{E=!0,p.has(Q)&&(P=!0,p.delete(Q)),x.needsAnimating[Q]=!0};for(const Q in z){const te=V[Q],q=A[Q];if(m.hasOwnProperty(Q))continue;let Y=!1;Xf(te)&&Xf(q)?Y=!TP(te,q):Y=te!==q,Y?te!==void 0?Z(Q):p.add(Q):te!==void 0&&p.has(Q)?Z(Q):x.protectedKeys[Q]=!0}x.prevProp=C,x.prevResolvedValues=V,x.isActive&&(m={...m,...V}),i&&t.blockInitialAnimation&&(E=!1),E&&(!k||P)&&h.push(...M.map(Q=>({animation:Q,options:{type:w,...l}})))}if(p.size){const _={};p.forEach(w=>{const x=t.getBaseTarget(w);x!==void 0&&(_[w]=x)}),h.push({animation:_})}let v=!!h.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(h):Promise.resolve()}function a(l,c,f){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(f,l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function _j(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TP(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wj(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class xj extends Ss{constructor(e){super(e),e.animationState||(e.animationState=vj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Jd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Tj=0;class bj extends Ss{constructor(){super(...arguments),this.id=Tj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ej={animation:{Feature:xj},exit:{Feature:bj}},qT=(t,e)=>Math.abs(t-e);function Sj(t,e){const n=qT(t.x,e.x),i=qT(t.y,e.y);return Math.sqrt(n**2+i**2)}class eA{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=vm(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Sj(u.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=u,{timestamp:g}=Wt;this.history.push({...m,timestamp:g});const{onStart:v,onMove:_}=this.handlers;h||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=ym(h,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=vm(u.type==="pointercancel"?this.lastMoveEventInfo:ym(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(u,v),m&&m(u,v)},!yP(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=np(e),a=ym(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Wt;this.history=[{...l,timestamp:c}];const{onSessionStart:f}=n;f&&f(e,vm(a,this.history)),this.removeListeners=rs(cr(this.contextWindow,"pointermove",this.handlePointerMove),cr(this.contextWindow,"pointerup",this.handlePointerUp),cr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wr(this.updatePoint)}}function ym(t,e){return e?{point:e(t.point)}:t}function WT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vm({point:t},e){return{point:t,delta:WT(t,tA(e)),offset:WT(t,Cj(e)),velocity:kj(e,.1)}}function Cj(t){return t[0]}function tA(t){return t[t.length-1]}function kj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=tA(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>lo(e)));)n--;if(!i)return{x:0,y:0};const s=hr(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Hn(t){return t.max-t.min}function vy(t,e=0,n=.01){return Math.abs(t-e)<=n}function HT(t,e,n,i=.5){t.origin=i,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Hn(n)/Hn(e),(vy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(vy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function wu(t,e,n,i){HT(t.x,e.x,n.x,i?i.originX:void 0),HT(t.y,e.y,n.y,i?i.originY:void 0)}function GT(t,e,n){t.min=n.min+e.min,t.max=t.min+Hn(e)}function Pj(t,e,n){GT(t.x,e.x,n.x),GT(t.y,e.y,n.y)}function KT(t,e,n){t.min=e.min-n.min,t.max=t.min+Hn(e)}function xu(t,e,n){KT(t.x,e.x,n.x),KT(t.y,e.y,n.y)}function Aj(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Qe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Qe(n,t,i.max):Math.min(t,n)),t}function QT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ij(t,{top:e,left:n,bottom:i,right:r}){return{x:QT(t.x,n,r),y:QT(t.y,e,i)}}function XT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Rj(t,e){return{x:XT(t.x,e.x),y:XT(t.y,e.y)}}function Mj(t,e){let n=.5;const i=Hn(t),r=Hn(e);return r>i?n=rc(e.min,e.max-i,t.min):i>r&&(n=rc(t.min,t.max-r,e.min)),ps(0,1,n)}function Vj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _y=.35;function Dj(t=_y){return t===!1?t=0:t===!0&&(t=_y),{x:YT(t,"left","right"),y:YT(t,"top","bottom")}}function YT(t,e,n){return{min:ZT(t,e),max:ZT(t,n)}}function ZT(t,e){return typeof t=="number"?t:t[e]||0}const JT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:JT(),y:JT()}),e1=()=>({min:0,max:0}),ht=()=>({x:e1(),y:e1()});function ni(t){return[t("x"),t("y")]}function nA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Oj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Nj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function _m(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!_m(t)||!_m(e)||!_m(n)}function $s(t){return wy(t)||iA(t)||t.z||t.rotate||t.rotateX||t.rotateY}function iA(t){return t1(t.x)||t1(t.y)}function t1(t){return t&&t!=="0%"}function td(t,e,n){const i=t-n,r=e*i;return n+r}function n1(t,e,n,i,r){return r!==void 0&&(t=td(t,r,i)),td(t,n,i)+e}function xy(t,e=0,n=1,i,r){t.min=n1(t.min,e,n,i,r),t.max=n1(t.max,e,n,i,r)}function rA(t,{x:e,y:n}){xy(t.x,e.translate,e.scale,e.originPoint),xy(t.y,n.translate,n.scale,n.originPoint)}function Lj(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ha(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,rA(t,o)),i&&$s(s.latestValues)&&ha(t,s.latestValues))}e.x=i1(e.x),e.y=i1(e.y)}function i1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Vr(t,e){t.min=t.min+e,t.max=t.max+e}function r1(t,e,[n,i,r]){const s=e[r]!==void 0?e[r]:.5,o=Qe(t.min,t.max,s);xy(t,e[n],e[i],o,e.scale)}const Fj=["x","scaleX","originX"],jj=["y","scaleY","originY"];function ha(t,e){r1(t.x,e,Fj),r1(t.y,e,jj)}function sA(t,e){return nA(Nj(t.getBoundingClientRect(),e))}function zj(t,e,n){const i=sA(t,n),{scroll:r}=e;return r&&(Vr(i.x,r.offset.x),Vr(i.y,r.offset.y)),i}const oA=({current:t})=>t?t.ownerDocument.defaultView:null,Bj=new WeakMap;class Uj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(np(f,"page").point)},s=(f,u)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=_P(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(v=>{let _=this.getAxisMotionValue(v).get()||0;if(Hi.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[v];x&&(_=Hn(x)*(parseFloat(_)/100))}}this.originPoint[v]=_}),m&&ze.update(()=>m(f,u),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(f,u)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=u;if(p&&this.currentDirection===null){this.currentDirection=$j(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),g&&g(f,u)},a=(f,u)=>this.stop(f,u),l=()=>ni(f=>{var u;return this.getAnimationState(f)==="paused"&&((u=this.getAxisMotionValue(f).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new eA(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:oA(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ze.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Ch(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Aj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&la(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=Ij(r.layoutBox,n):this.constraints=!1,this.elastic=Dj(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ni(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Vj(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!la(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=zj(i,r.root,this.visualElement.getTransformPagePoint());let o=Rj(r.layout.layoutBox,s);if(n){const a=n(Oj(o));this.hasMutatedConstraints=!!a,a&&(o=nA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ni(f=>{if(!Ch(f,n,this.currentDirection))return;let u=l&&l[f]||{};o&&(u={min:0,max:0});const h=r?200:1e6,p=r?40:1e7,m={type:"inertia",velocity:i?e[f]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(f,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(q_(e,i,0,n))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:i}=this.getProps();if(!Ch(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!la(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ni(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=Mj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ni(o=>{if(!Ch(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qe(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Bj.set(this.visualElement,this);const e=this.visualElement.current,n=cr(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();la(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=ar(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ni(f=>{const u=this.getAxisMotionValue(f);u&&(this.originPoint[f]+=l[f].translate,u.set(u.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=_y,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $j(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qj extends Ss{constructor(e){super(e),this.removeGroupControls=lt,this.removeListeners=lt,this.controls=new Uj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const s1=t=>(e,n)=>{t&&ze.update(()=>t(e,n))};class Wj extends Ss{constructor(){super(...arguments),this.removePointerDownListener=lt}onPointerDown(e){this.session=new eA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:s1(e),onStart:s1(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ze.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=cr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Hj(){const t=N.useContext(Yd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=N.useId();return N.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const rf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=o1(t,e.target.x),i=o1(t,e.target.y);return`${n}% ${i}%`}},Gj={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=ms.parse(t);if(r.length>5)return i;const s=ms.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Qe(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class Kj extends yd.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;t5(Qj),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aA(t){const[e,n]=Hj(),i=N.useContext(I_);return yd.createElement(Kj,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(nP),isPresent:e,safeToRemove:n})}const Qj={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:Gj},lA=["TopLeft","TopRight","BottomLeft","BottomRight"],Xj=lA.length,a1=t=>typeof t=="string"?parseFloat(t):t,l1=t=>typeof t=="number"||ce.test(t);function Yj(t,e,n,i,r,s){r?(t.opacity=Qe(0,n.opacity!==void 0?n.opacity:1,Zj(i)),t.opacityExit=Qe(e.opacity!==void 0?e.opacity:1,0,Jj(i))):s&&(t.opacity=Qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<Xj;o++){const a=`border${lA[o]}Radius`;let l=u1(e,a),c=u1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||l1(l)===l1(c)?(t[a]=Math.max(Qe(a1(l),a1(c),i),0),(Hi.test(c)||Hi.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,i))}function u1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Zj=uA(0,.5,RP),Jj=uA(.5,.95,lt);function uA(t,e,n){return i=>i<t?0:i>e?1:n(rc(t,e,i))}function c1(t,e){t.min=e.min,t.max=e.max}function Jn(t,e){c1(t.x,e.x),c1(t.y,e.y)}function h1(t,e,n,i,r){return t-=e,t=td(t,1/n,i),r!==void 0&&(t=td(t,1/r,i)),t}function e3(t,e=0,n=1,i=.5,r,s=t,o=t){if(Hi.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(s.min,s.max,i);t===s&&(a-=e),t.min=h1(t.min,e,n,a,r),t.max=h1(t.max,e,n,a,r)}function f1(t,e,[n,i,r],s,o){e3(t,e[n],e[i],e[r],e.scale,s,o)}const t3=["x","scaleX","originX"],n3=["y","scaleY","originY"];function d1(t,e,n,i){f1(t.x,e,t3,n?n.x:void 0,i?i.x:void 0),f1(t.y,e,n3,n?n.y:void 0,i?i.y:void 0)}function p1(t){return t.translate===0&&t.scale===1}function cA(t){return p1(t.x)&&p1(t.y)}function i3(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function hA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function m1(t){return Hn(t.x)/Hn(t.y)}class r3{constructor(){this.members=[]}add(e){W_(this.members,e),e.scheduleRender()}remove(e){if(H_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function g1(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:f}=n;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),f&&(i+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const s3=(t,e)=>t.depth-e.depth;class o3{constructor(){this.children=[],this.isDirty=!1}add(e){W_(this.children,e),this.isDirty=!0}remove(e){H_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(s3),this.isDirty=!1,this.children.forEach(e)}}function a3(t,e){const n=performance.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(wr(i),t(s-e))};return ze.read(i,!0),()=>wr(i)}function l3(t){window.MotionDebug&&window.MotionDebug.record(t)}function u3(t){return t instanceof SVGElement&&t.tagName!=="svg"}function c3(t,e,n){const i=Pn(t)?t:Ya(t);return i.start(q_("",i,e,n)),i.animation}const y1=["","X","Y","Z"],h3={visibility:"hidden"},v1=1e3;let f3=0;const qs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function fA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=f3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qs.totalNodes=qs.resolvedTargetDeltas=qs.recalculatedProjection=0,this.nodes.forEach(m3),this.nodes.forEach(w3),this.nodes.forEach(x3),this.nodes.forEach(g3),l3(qs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new o3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new G_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=u3(o),this.instance=o;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=a3(h,250),rf.hasAnimatedSinceResize&&(rf.hasAnimatedSinceResize=!1,this.nodes.forEach(w1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||f.getDefaultTransition()||C3,{onLayoutAnimationStart:v,onLayoutAnimationComplete:_}=f.getProps(),w=!this.targetLayout||!hA(this.targetLayout,m)||p,x=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,x);const C={...$_(g,"layout"),onPlay:v,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||w1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(T3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const u=this.path[f];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_1);return}this.isUpdating||this.nodes.forEach(v3),this.isUpdating=!1,this.nodes.forEach(_3),this.nodes.forEach(d3),this.nodes.forEach(p3),this.clearAllSnapshots();const a=performance.now();Wt.delta=ps(0,1e3/60,a-Wt.timestamp),Wt.timestamp=a,Wt.isProcessing=!0,um.update.process(Wt),um.preRender.process(Wt),um.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(y3),this.sharedNodes.forEach(b3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!cA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;o&&(a||$s(this.latestValues)||f)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),k3(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ht();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Vr(a.x,l.offset.x),Vr(a.y,l.offset.y)),a}removeElementScroll(o){const a=ht();Jn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:f,options:u}=c;if(c!==this.root&&f&&u.layoutScroll){if(f.isRoot){Jn(a,o);const{scroll:h}=this.root;h&&(Vr(a.x,-h.offset.x),Vr(a.y,-h.offset.y))}Vr(a.x,f.offset.x),Vr(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=ht();Jn(l,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ha(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),$s(f.latestValues)&&ha(l,f.latestValues)}return $s(this.latestValues)&&ha(l,this.latestValues),l}removeTransform(o){const a=ht();Jn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$s(c.latestValues))continue;wy(c.latestValues)&&c.updateSnapshot();const f=ht(),u=c.measurePageBox();Jn(f,u),d1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return $s(this.latestValues)&&d1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),xu(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),rA(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),xu(this.relativeTargetOrigin,this.target,p.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||iA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(c=!1),c)return;const{layout:f,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||u))return;Jn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Lj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=ca(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca());const g=this.projectionTransform;wu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=g1(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),qs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},u=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ht(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,v=this.getStack(),_=!v||v.members.length<=1,w=!!(g&&!_&&this.options.crossfade===!0&&!this.path.some(S3));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const I=C/1e3;x1(u.x,o.x,I),x1(u.y,o.y,I),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E3(this.relativeTarget,this.relativeTargetOrigin,h,I),x&&i3(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ht()),Jn(x,this.relativeTarget)),g&&(this.animationValues=f,Yj(f,c,this.latestValues,I,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{rf.hasAnimatedSinceResize=!0,this.currentAnimation=c3(0,v1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:f}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&dA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ht();const u=Hn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+u;const h=Hn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Jn(a,l),ha(a,f),wu(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new r3),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let f=0;f<y1.length;f++){const u="rotate"+y1[f];l[u]&&(c[u]=l[u],o.setStaticValue(u,0))}o.render();for(const f in c)o.setStaticValue(f,c[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return h3;const c={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=nf(o==null?void 0:o.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=nf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(g.transform=f?f({},""):"none",this.hasProjected=!1),g}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=g1(this.projectionDeltaWithTransform,this.treeScale,h),f&&(c.transform=f(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Kf){if(h[g]===void 0)continue;const{correct:v,applyTo:_}=Kf[g],w=c.transform==="none"?h[g]:v(h[g],u);if(_){const x=_.length;for(let C=0;C<x;C++)c[_[C]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=u===this?nf(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(_1),this.root.sharedNodes.clear()}}}function d3(t){t.updateLayout()}function p3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ni(u=>{const h=o?n.measuredBox[u]:n.layoutBox[u],p=Hn(h);h.min=i[u].min,h.max=h.min+p}):dA(s,n.layoutBox,i)&&ni(u=>{const h=o?n.measuredBox[u]:n.layoutBox[u],p=Hn(i[u]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+p)});const a=ca();wu(a,i,n.layoutBox);const l=ca();o?wu(l,t.applyTransform(r,!0),n.measuredBox):wu(l,i,n.layoutBox);const c=!cA(a);let f=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:p}=u;if(h&&p){const m=ht();xu(m,n.layoutBox,h.layoutBox);const g=ht();xu(g,i,p.layoutBox),hA(m,g)||(f=!0),u.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function m3(t){qs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function g3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function y3(t){t.clearSnapshot()}function _1(t){t.clearMeasurements()}function v3(t){t.isLayoutDirty=!1}function _3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function w1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function w3(t){t.resolveTargetDelta()}function x3(t){t.calcProjection()}function T3(t){t.resetRotation()}function b3(t){t.removeLeadSnapshot()}function x1(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function T1(t,e,n,i){t.min=Qe(e.min,n.min,i),t.max=Qe(e.max,n.max,i)}function E3(t,e,n,i){T1(t.x,e.x,n.x,i),T1(t.y,e.y,n.y,i)}function S3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C3={duration:.45,ease:[.4,0,.1,1]},b1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),E1=b1("applewebkit/")&&!b1("chrome/")?Math.round:lt;function S1(t){t.min=E1(t.min),t.max=E1(t.max)}function k3(t){S1(t.x),S1(t.y)}function dA(t,e,n){return t==="position"||t==="preserve-aspect"&&!vy(m1(e),m1(n),.2)}const P3=fA({attachResizeListener:(t,e)=>ar(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wm={current:void 0},pA=fA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wm.current){const t=new P3({});t.mount(window),t.setOptions({layoutScroll:!0}),wm.current=t}return wm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),A3={pan:{Feature:Wj},drag:{Feature:qj,ProjectionNode:pA,MeasureLayout:aA}},I3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function R3(t){const e=I3.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function Ty(t,e,n=1){const[i,r]=R3(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return XP(o)?parseFloat(o):o}else return hy(r)?Ty(r,e,n+1):r}function M3(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const s=r.get();if(!hy(s))return;const o=Ty(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!hy(s))continue;const o=Ty(s,i);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=s))}return{target:e,transitionEnd:n}}const V3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mA=t=>V3.has(t),D3=t=>Object.keys(t).some(mA),C1=t=>t===Mo||t===ce,k1=(t,e)=>parseFloat(t.split(", ")[e]),P1=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return k1(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?k1(s[1],t):0}},O3=new Set(["x","y","z"]),N3=Ic.filter(t=>!O3.has(t));function L3(t){const e=[];return N3.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:P1(4,13),y:P1(5,14)};Za.translateX=Za.x;Za.translateY=Za.y;const F3=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Za[c](i,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const f=e.getValue(c);f&&f.jump(a[c]),t[c]=Za[c](l,s)}),t},j3=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(mA);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let f=n[l],u=ql(f);const h=e[l];let p;if(Xf(h)){const m=h.length,g=h[0]===null?1:0;f=h[g],u=ql(f);for(let v=g;v<m&&h[v]!==null;v++)p?F_(ql(h[v])===p):p=ql(h[v])}else p=ql(h);if(u!==p)if(C1(u)&&C1(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===ce&&(e[l]=h.map(parseFloat))}else u!=null&&u.transform&&(p!=null&&p.transform)&&(f===0||h===0)?f===0?c.set(p.transform(f)):e[l]=u.transform(h):(o||(s=L3(t),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=F3(e,t,a);return s.length&&s.forEach(([f,u])=>{t.getValue(f).set(u)}),t.render(),Zd&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function z3(t,e,n,i){return D3(e)?j3(t,e,n,i):{target:e,transitionEnd:i}}const B3=(t,e,n,i)=>{const r=M3(t,e,i);return e=r.target,i=r.transitionEnd,z3(t,e,n,i)},by={current:null},gA={current:!1};function U3(){if(gA.current=!0,!!Zd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>by.current=t.matches;t.addListener(e),e()}else by.current=!1}function $3(t,e,n){const{willChange:i}=e;for(const r in e){const s=e[r],o=n[r];if(Pn(s))t.addValue(r,s),ed(i)&&i.add(r);else if(Pn(o))t.addValue(r,Ya(s,{owner:t})),ed(i)&&i.remove(r);else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Ya(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const A1=new WeakMap,yA=Object.keys(ic),q3=yA.length,I1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],W3=A_.length;class H3{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ze.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=ep(n),this.isVariantNode=tP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{});for(const u in f){const h=f[u];a[u]!==void 0&&Pn(h)&&(h.set(a[u],!1),ed(c)&&c.add(u))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,A1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),gA.current||U3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:by.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){A1.delete(this.current),this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=Ro.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ze.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,s){let o,a;for(let l=0;l<q3;l++){const c=yA[l],{isEnabled:f,Feature:u,ProjectionNode:h,MeasureLayout:p}=ic[c];h&&(o=h),f(n)&&(!this.features[c]&&u&&(this.features[c]=new u(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:f,dragConstraints:u,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!f||u&&la(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<I1.length;i++){const r=I1[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=$3(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<W3;i++){const r=A_[i],s=this.props[r];(nc(s)||s===!1)&&(n[r]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ya(n,{owner:this}),this.addValue(e,i)),i}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=L_(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Pn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vA extends H3{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},s){let o=uj(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),o&&(o=r(o))),s){aj(this,i,o);const a=B3(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:n,...i}}}function G3(t){return window.getComputedStyle(t)}class K3 extends vA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ro.has(n)){const i=U_(n);return i&&i.default||0}else{const i=G3(e),r=(sP(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sA(e,n)}build(e,n,i,r){M_(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return N_(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){hP(e,n,i,r)}}class Q3 extends vA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ro.has(n)){const i=U_(n);return i&&i.default||0}return n=fP.has(n)?n:k_(n),e.getAttribute(n)}measureInstanceViewportBox(){return ht()}scrapeMotionValuesFromProps(e,n){return pP(e,n)}build(e,n,i,r){D_(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){dP(e,n,i,r)}mount(e){this.isSVGTag=O_(e.tagName),super.mount(e)}}const X3=(t,e)=>R_(t)?new Q3(e,{enableHardwareAcceleration:!1}):new K3(e,{enableHardwareAcceleration:!0}),Y3={layout:{ProjectionNode:pA,MeasureLayout:aA}},Z3={...Ej,...q5,...A3,...Y3},Ae=JF((t,e)=>R5(t,e,Z3,X3));function _A(){const t=N.useRef(!1);return C_(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function J3(){const t=_A(),[e,n]=N.useState(0),i=N.useCallback(()=>{t.current&&n(e+1)},[e]);return[N.useCallback(()=>ze.postRender(i),[i]),e]}class ez extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tz({children:t,isPresent:e}){const n=N.useId(),i=N.useRef(null),r=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),N.createElement(ez,{isPresent:e,childRef:i,sizeRef:r},N.cloneElement(t,{ref:i}))}const xm=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=mP(nz),l=N.useId(),c=N.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:f=>{a.set(f,!0);for(const u of a.values())if(!u)return;i&&i()},register:f=>(a.set(f,!1),()=>a.delete(f))}),s?void 0:[n]);return N.useMemo(()=>{a.forEach((f,u)=>a.set(u,!1))},[n]),N.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=N.createElement(tz,{isPresent:n},t)),N.createElement(Yd.Provider,{value:c},t)};function nz(){return new Map}function iz(t){return N.useEffect(()=>()=>t(),[])}const Ws=t=>t.key||"";function rz(t,e){t.forEach(n=>{const i=Ws(n);e.set(i,n)})}function sz(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const sc=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=N.useContext(I_).forceRender||J3()[0],l=_A(),c=sz(t);let f=c;const u=N.useRef(new Map).current,h=N.useRef(f),p=N.useRef(new Map).current,m=N.useRef(!0);if(C_(()=>{m.current=!1,rz(c,p),h.current=f}),iz(()=>{m.current=!0,p.clear(),u.clear()}),m.current)return N.createElement(N.Fragment,null,f.map(w=>N.createElement(xm,{key:Ws(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},w)));f=[...f];const g=h.current.map(Ws),v=c.map(Ws),_=g.length;for(let w=0;w<_;w++){const x=g[w];v.indexOf(x)===-1&&!u.has(x)&&u.set(x,void 0)}return o==="wait"&&u.size&&(f=[]),u.forEach((w,x)=>{if(v.indexOf(x)!==-1)return;const C=p.get(x);if(!C)return;const I=g.indexOf(x);let D=w;if(!D){const k=()=>{u.delete(x);const b=Array.from(p.keys()).filter(E=>!v.includes(E));if(b.forEach(E=>p.delete(E)),h.current=c.filter(E=>{const P=Ws(E);return P===x||b.includes(P)}),!u.size){if(l.current===!1)return;a(),i&&i()}};D=N.createElement(xm,{key:Ws(C),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:s,mode:o},C),u.set(x,D)}f.splice(I,0,D)}),f=f.map(w=>{const x=w.key;return u.has(x)?w:N.createElement(xm,{key:Ws(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),N.createElement(N.Fragment,null,u.size?f:f.map(w=>N.cloneElement(w)))};let Tm=null;function wA(){return Tm||(Tm=new AudioContext),Tm}function oz(){const t=wA();t.state==="suspended"&&t.resume()}function kh(t,e=.3){try{const n=wA();if(n.state==="suspended")return;const i=n.createGain();switch(i.connect(n.destination),i.gain.value=e,t){case"vote":az(n,i);break;case"tick":lz(n,i);break;case"victory":uz(n,i);break;case"error":cz(n,i);break;case"whoosh":hz(n,i);break;case"chime":fz(n,i);break;case"buzz":dz(n,i);break}}catch(n){console.debug("Sound playback failed:",n)}}function az(t,e){const n=t.createOscillator();n.type="sine",n.frequency.setValueAtTime(800,t.currentTime),n.frequency.exponentialRampToValueAtTime(1200,t.currentTime+.05),n.frequency.exponentialRampToValueAtTime(600,t.currentTime+.1),e.gain.setValueAtTime(.4,t.currentTime),e.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),n.connect(e),n.start(t.currentTime),n.stop(t.currentTime+.15)}function lz(t,e){const n=t.createOscillator();n.type="square",n.frequency.value=1e3,e.gain.setValueAtTime(.15,t.currentTime),e.gain.exponentialRampToValueAtTime(.01,t.currentTime+.05),n.connect(e),n.start(t.currentTime),n.stop(t.currentTime+.05)}function uz(t,e){[523.25,659.25,783.99,1046.5].forEach((i,r)=>{const s=t.createOscillator();s.type="triangle",s.frequency.value=i;const o=t.createGain();o.connect(e),o.gain.setValueAtTime(0,t.currentTime+r*.12),o.gain.linearRampToValueAtTime(.3,t.currentTime+r*.12+.02),o.gain.exponentialRampToValueAtTime(.01,t.currentTime+r*.12+.3),s.connect(o),s.start(t.currentTime+r*.12),s.stop(t.currentTime+r*.12+.3)})}function cz(t,e){const n=t.createOscillator();n.type="sawtooth",n.frequency.value=150,e.gain.setValueAtTime(.2,t.currentTime),e.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),n.connect(e),n.start(t.currentTime),n.stop(t.currentTime+.2)}function hz(t,e){const n=t.createBufferSource(),i=t.sampleRate*.3,r=t.createBuffer(1,i,t.sampleRate),s=r.getChannelData(0);for(let a=0;a<i;a++)s[a]=Math.random()*2-1;n.buffer=r;const o=t.createBiquadFilter();o.type="bandpass",o.frequency.setValueAtTime(500,t.currentTime),o.frequency.exponentialRampToValueAtTime(2e3,t.currentTime+.15),o.frequency.exponentialRampToValueAtTime(500,t.currentTime+.3),o.Q.value=.5,e.gain.setValueAtTime(.01,t.currentTime),e.gain.linearRampToValueAtTime(.15,t.currentTime+.1),e.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),n.connect(o),o.connect(e),n.start(t.currentTime),n.stop(t.currentTime+.3)}function fz(t,e){[880,1108.73].forEach((i,r)=>{const s=t.createOscillator();s.type="sine",s.frequency.value=i;const o=t.createGain();o.connect(e),o.gain.setValueAtTime(.3,t.currentTime+r*.1),o.gain.exponentialRampToValueAtTime(.01,t.currentTime+r*.1+.4),s.connect(o),s.start(t.currentTime+r*.1),s.stop(t.currentTime+r*.1+.4)})}function dz(t,e){const n=t.createOscillator();n.type="square",n.frequency.value=220;const i=t.createOscillator();i.frequency.value=20;const r=t.createGain();r.gain.value=50,i.connect(r),r.connect(n.frequency),e.gain.setValueAtTime(.2,t.currentTime),e.gain.setValueAtTime(.2,t.currentTime+.3),e.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),n.connect(e),i.start(t.currentTime),n.start(t.currentTime),n.stop(t.currentTime+.5),i.stop(t.currentTime+.5)}const Vo=t=>({"--icon-primary":"var(--tmp-icon-primary, #e84393)","--icon-secondary":"var(--tmp-icon-secondary, #5dade2)",...t});function pz({size:t=48,className:e="",style:n,animated:i=!1}){return S.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",className:`tmp-icon tmp-d20 ${i?"tmp-icon-animated":""} ${e}`,style:Vo(n),"aria-label":"D20 die showing 1",children:[S.jsx("polygon",{points:"50,5 95,30 95,70 50,95 5,70 5,30",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("polygon",{points:"50,5 50,50 5,30",style:{fill:"var(--icon-primary)"},stroke:"currentColor",strokeWidth:"1.5"}),S.jsx("polygon",{points:"50,5 95,30 50,50",style:{fill:"var(--icon-secondary)",opacity:.8},stroke:"currentColor",strokeWidth:"1.5"}),S.jsx("polygon",{points:"50,50 95,30 95,70",style:{fill:"var(--icon-primary)",opacity:.9},stroke:"currentColor",strokeWidth:"1.5"}),S.jsx("polygon",{points:"50,50 95,70 50,95",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"1.5"}),S.jsx("polygon",{points:"50,50 50,95 5,70",style:{fill:"var(--icon-primary)"},stroke:"currentColor",strokeWidth:"1.5"}),S.jsx("polygon",{points:"50,50 5,70 5,30",style:{fill:"var(--icon-secondary)",opacity:.7},stroke:"currentColor",strokeWidth:"1.5"}),S.jsx("polygon",{points:"50,20 75,50 50,80 25,50",style:{fill:"var(--icon-primary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("text",{x:"50",y:"58",textAnchor:"middle",fontSize:"28",fontWeight:"bold",fontFamily:"sans-serif",fill:"currentColor",children:"1"})]})}function R1({size:t=24,className:e="",style:n,animated:i=!0}){return S.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",className:`tmp-icon tmp-voting-open ${i?"tmp-icon-pulse":""} ${e}`,style:Vo(n),"aria-label":"Voting Open",children:[S.jsx("circle",{cx:"50",cy:"50",r:"40",style:{fill:"var(--icon-primary)",opacity:.2}}),S.jsx("circle",{cx:"50",cy:"50",r:"30",style:{fill:"var(--icon-primary)",opacity:.3}}),S.jsx("path",{d:"M 20 80 L 45 45 L 48 48 L 23 83 Z",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"1"}),S.jsx("path",{d:"M 45 45 L 55 35 L 52 32 L 42 42 Z",style:{fill:"var(--icon-secondary)"}}),S.jsx("circle",{cx:"18",cy:"82",r:"5",style:{fill:"var(--icon-primary)"}}),S.jsx("path",{d:"M 80 80 L 55 45 L 52 48 L 77 83 Z",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"1"}),S.jsx("path",{d:"M 55 45 L 45 35 L 48 32 L 58 42 Z",style:{fill:"var(--icon-secondary)"}}),S.jsx("circle",{cx:"82",cy:"82",r:"5",style:{fill:"var(--icon-primary)"}}),S.jsx("circle",{cx:"50",cy:"45",r:"8",style:{fill:"var(--icon-primary)"}}),S.jsx("circle",{cx:"50",cy:"45",r:"4",fill:"#fff"})]})}function mz({size:t=24,className:e="",style:n}){return S.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",className:`tmp-icon tmp-voting-closed ${e}`,style:Vo(n),"aria-label":"Voting Closed",children:[S.jsx("rect",{x:"20",y:"25",width:"60",height:"50",rx:"3",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("ellipse",{cx:"50",cy:"25",rx:"32",ry:"8",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("ellipse",{cx:"50",cy:"75",rx:"32",ry:"8",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("circle",{cx:"50",cy:"50",r:"15",style:{fill:"var(--icon-primary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("text",{x:"50",y:"56",textAnchor:"middle",fontSize:"18",fontWeight:"bold",fill:"currentColor",children:"1"})]})}function gz({size:t=24,className:e="",style:n}){return S.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",className:`tmp-icon tmp-sound-on ${e}`,style:Vo(n),"aria-label":"Sound On",children:[S.jsx("path",{d:"M 15 40 L 35 35 L 35 65 L 15 60 Z",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("ellipse",{cx:"55",cy:"50",rx:"25",ry:"30",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("ellipse",{cx:"55",cy:"50",rx:"15",ry:"20",fill:"currentColor",opacity:"0.3"}),S.jsx("path",{d:"M 75 35 Q 90 50 75 65",fill:"none",style:{stroke:"var(--icon-primary)"},strokeWidth:"4",strokeLinecap:"round"}),S.jsx("path",{d:"M 82 25 Q 100 50 82 75",fill:"none",style:{stroke:"var(--icon-primary)",opacity:.7},strokeWidth:"3",strokeLinecap:"round"})]})}function yz({size:t=24,className:e="",style:n}){return S.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",className:`tmp-icon tmp-sound-off ${e}`,style:Vo(n),"aria-label":"Sound Off",children:[S.jsx("path",{d:"M 15 40 L 35 35 L 35 65 L 15 60 Z",style:{fill:"var(--icon-secondary)",opacity:.5},stroke:"currentColor",strokeWidth:"2"}),S.jsx("ellipse",{cx:"55",cy:"50",rx:"25",ry:"30",style:{fill:"var(--icon-secondary)",opacity:.5},stroke:"currentColor",strokeWidth:"2"}),S.jsx("ellipse",{cx:"55",cy:"50",rx:"15",ry:"20",fill:"currentColor",opacity:"0.2"}),S.jsx("line",{x1:"70",y1:"30",x2:"95",y2:"70",style:{stroke:"var(--icon-primary)"},strokeWidth:"6",strokeLinecap:"round"}),S.jsx("line",{x1:"95",y1:"30",x2:"70",y2:"70",style:{stroke:"var(--icon-primary)"},strokeWidth:"6",strokeLinecap:"round"})]})}function vz({size:t=24,className:e="",style:n}){return S.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",className:`tmp-icon tmp-warning ${e}`,style:Vo(n),"aria-label":"Warning",children:[S.jsx("path",{d:"M 40 15 L 40 30 L 25 50 L 25 80 Q 25 90 35 90 L 65 90 Q 75 90 75 80 L 75 50 L 60 30 L 60 15 Z",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("rect",{x:"38",y:"10",width:"24",height:"10",rx:"2",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("path",{d:"M 28 55 L 72 55 L 72 80 Q 72 87 65 87 L 35 87 Q 28 87 28 80 Z",style:{fill:"var(--icon-primary)",opacity:.7}}),S.jsx("path",{d:"M 55 25 L 60 40 L 52 55 L 62 75",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),S.jsx("circle",{cx:"40",cy:"70",r:"4",fill:"#fff",opacity:"0.6"}),S.jsx("circle",{cx:"55",cy:"65",r:"3",fill:"#fff",opacity:"0.5"})]})}function _z({size:t=24,className:e="",style:n}){return S.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",className:`tmp-icon tmp-check ${e}`,style:Vo(n),"aria-label":"Confirmed",children:[S.jsx("circle",{cx:"50",cy:"50",r:"40",style:{fill:"var(--icon-primary)"},stroke:"currentColor",strokeWidth:"2"}),S.jsx("circle",{cx:"50",cy:"50",r:"35",style:{fill:"var(--icon-secondary)"},stroke:"currentColor",strokeWidth:"1"}),S.jsx("circle",{cx:"50",cy:"50",r:"25",style:{fill:"var(--icon-primary)"}}),S.jsx("path",{d:"M 30 50 L 45 65 L 72 35",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round"})]})}const bm="current-vote";function wz({config:t}){const[e,n]=N.useState({}),[i,r]=N.useState(!1),[s,o]=N.useState(null),[a,l]=N.useState(!0),[c,f]=N.useState(null),u=N.useRef(null),{question:h,options:p,isOpen:m,timer:g,startedAt:v,sessionId:_}=t||{},w=_?`voted-${_}`:`voted-${bm}`,x=P=>{const M=p==null?void 0:p.find(A=>A.id===P);if(!M||!u.current)return;const V=document.createElement("div");V.textContent=M.emoji,V.style.cssText=`
      position: fixed;
      font-size: 3rem;
      z-index: 10000;
      pointer-events: none;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    `,V.classList.add("vote-fly-away"),document.body.appendChild(V),setTimeout(()=>V.remove(),700)};N.useEffect(()=>{const P=Ii(ke(Pe,"votes",bm),M=>{if(M.exists()){const V=M.data();n(V.counts||{})}l(!1)},M=>{console.error("Vote listener error:",M),l(!1)});return()=>P()},[]),N.useEffect(()=>{const P=localStorage.getItem(w);P?(r(!0),o(P)):(r(!1),o(null))},[w]);const C=N.useRef(null);N.useEffect(()=>{if(!v||!g||!m){f(null);return}const P=()=>{const V=Math.floor((Date.now()-v)/1e3),A=Math.max(0,g-V);A<=10&&A>0&&A!==C.current&&kh("tick"),A===0&&C.current!==0&&kh("buzz"),C.current=A,f(A)};P();const M=setInterval(P,1e3);return()=>clearInterval(M)},[v,g,m]);const I=N.useCallback(async P=>{if(m&&(oz(),s!==P)){x(P);try{const M=ke(Pe,"votes",bm);i&&s?await Xa(M,{[`counts.${s}`]:Th(-1),[`counts.${P}`]:Th(1)}):await Xa(M,{[`counts.${P}`]:Th(1),totalVotes:Th(1)}),kh("vote"),localStorage.setItem(w,P),r(!0),o(P)}catch(M){console.error("Vote failed:",M),kh("error"),alert("Vote failed - please try again!")}}},[i,m,s,w]),D=Object.values(e).reduce((P,M)=>P+M,0),k=P=>D===0?100/((p==null?void 0:p.length)||2):(e[P]||0)/D*100,b=["left","right","center"];if(a)return S.jsx("div",{className:"vote-container",children:S.jsx("div",{className:"loading",children:"Loading..."})});const E=!m||c!==null&&c<=0;return S.jsxs("div",{className:"vote-container",ref:u,children:[S.jsx("h2",{children:h||"What should the party do?"}),c!==null&&c>0&&S.jsx(Ae.div,{className:"timer",animate:{scale:c<=10?[1,1.1,1]:1},transition:{repeat:c<=10?1/0:0,duration:1},children:S.jsxs("span",{className:c<=10?"urgent":"",children:[Math.floor(c/60),":",(c%60).toString().padStart(2,"0")]})}),E&&!i&&S.jsx("div",{className:"voting-closed-banner",children:"Voting has ended"}),S.jsx("div",{className:`vote-options ${(p==null?void 0:p.length)===3?"three-options":""}`,children:p==null?void 0:p.map((P,M)=>S.jsxs(Ae.button,{className:`vote-btn ${b[M]} ${s===P.id?"selected":""} ${E?"disabled":""}`,onClick:()=>!E&&I(P.id),whileHover:E?{}:{scale:1.03},whileTap:E?{}:{scale:.97},"aria-disabled":E,children:[S.jsx("span",{className:"emoji",children:P.emoji}),S.jsx("span",{className:"label",children:P.label}),i&&S.jsxs(Ae.span,{className:"count",initial:{opacity:0},animate:{opacity:1},children:[e[P.id]||0," votes"]}),s===P.id&&S.jsxs(Ae.span,{className:"your-vote",initial:{scale:0},animate:{scale:1},children:[S.jsx(_z,{size:18})," Your vote"]})]},P.id))}),S.jsx("div",{className:"results-bar",children:p==null?void 0:p.map((P,M)=>S.jsx(Ae.div,{className:`bar-fill ${b[M]}`,initial:{width:`${100/((p==null?void 0:p.length)||2)}%`},animate:{width:`${k(P.id)}%`},transition:{type:"spring",stiffness:100,damping:20},children:k(P.id)>15&&S.jsxs("span",{className:"bar-label",children:[Math.round(k(P.id)),"%"]})},P.id))}),S.jsxs("p",{className:"total-votes",children:[D," adventurer",D!==1?"s have":" has"," voted"]}),S.jsx(sc,{children:i&&!E&&S.jsx(Ae.p,{className:"voted-message",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},children:"Changed your mind? Tap another option! "})})]})}function xz({isAdmin:t=!1}){var h;const[e,n]=N.useState(null),[i,r]=N.useState(""),[s,o]=N.useState(!1),[a]=N.useState(()=>localStorage.getItem("audience-id")||Math.random().toString(36).substr(2,9));N.useEffect(()=>{localStorage.setItem("audience-id",a);const p=Ii(ke(Pe,"madlibs","current"),m=>{m.exists()?(n(m.data()),o(!1),r("")):n(null)});return()=>p()},[a]);const l=async()=>{if(!i.trim()||!e)return;const p=e.blanks[e.currentBlankIndex];try{await Xa(ke(Pe,"madlibs","current"),{[`submissions.${p}`]:S_({word:i.trim(),userId:a,timestamp:Date.now()})}),o(!0)}catch(m){console.error("Failed to submit word:",m)}},c=p=>{p.key==="Enter"&&l()};if(!e||e.status==="idle")return S.jsxs("div",{className:"madlibs-container idle",children:[S.jsx("div",{className:"waiting-icon",children:""}),S.jsx("h2",{children:"Madlibs D&D"}),S.jsx("p",{children:"Waiting for the GM to start a madlib..."})]});const f=e.blanks[e.currentBlankIndex],u=((h=e.submissions)==null?void 0:h[f])||[];return e.status==="collecting"?S.jsxs("div",{className:"madlibs-container collecting",children:[S.jsx("h2",{children:"Fill in the blank!"}),S.jsx("div",{className:"template-preview",children:Tz(e.template,e.winners,f)}),S.jsxs("div",{className:"current-blank",children:[S.jsx("span",{className:"blank-type",children:f}),S.jsxs("span",{className:"blank-hint",children:["(",Ez(f),")"]})]}),s?S.jsxs("div",{className:"submitted-message",children:[S.jsx("span",{children:""})," Word submitted! Waiting for others..."]}):S.jsxs("div",{className:"submission-form",children:[S.jsx("input",{type:"text",value:i,onChange:p=>r(p.target.value),placeholder:`Enter a ${f.toLowerCase()}...`,maxLength:30,onKeyPress:c}),S.jsx("button",{onClick:l,disabled:!i.trim(),children:"Submit"})]}),S.jsxs("div",{className:"submission-count",children:[u.length," words submitted"]})]}):e.status==="revealing"?S.jsxs("div",{className:"madlibs-container revealing",children:[S.jsx("h2",{children:"And the word is..."}),S.jsx(Ae.div,{className:"winner-reveal",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},children:e.winners[f]})]}):e.status==="complete"?S.jsxs("div",{className:"madlibs-container complete",children:[S.jsx("h2",{children:"The Story"}),S.jsx(Ae.div,{className:"final-story",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:bz(e.template,e.winners)})]}):null}function Tz(t,e,n){return t.split(/(\[[A-Z_]+\])/g).map((r,s)=>{const o=r.match(/\[([A-Z_]+)\]/);if(o){const a=o[1],l=e==null?void 0:e[a],c=a===n;return S.jsx("span",{className:`blank ${l?"filled":""} ${c?"current":""}`,children:l||`[${a}]`},s)}return S.jsx("span",{children:r},s)})}function bz(t,e){let n=t;return Object.entries(e).forEach(([i,r])=>{n=n.replace(`[${i}]`,r)}),n}function Ez(t){return{ADJECTIVE:"describes something",NOUN:"person, place, or thing",VERB:"action word",ADVERB:"describes an action",CREATURE:"monster or beast",SPELL:"magical ability",WEAPON:"something to fight with",PLACE:"location or setting",NAME:"character name",EMOTION:"feeling or mood",BODY_PART:"part of the body",NUMBER:"any number",COLOR:"a color",FOOD:"something to eat"}[t]||"fill in the blank"}function Sz({isAdmin:t=!1}){var p;const[e,n]=N.useState(null),[i,r]=N.useState(""),[s,o]=N.useState(!1),[a,l]=N.useState(!1),[c]=N.useState(()=>localStorage.getItem("audience-id")||Math.random().toString(36).substr(2,9));N.useEffect(()=>{localStorage.setItem("audience-id",c);const m=Ii(ke(Pe,"npc-naming","current"),g=>{var v;if(g.exists()){const _=g.data();n(_);const w=(v=_.submissions)==null?void 0:v.find(x=>x.userId===c);o(!!w)}else n(null)});return()=>m()},[c]);const f=async()=>{if(!(!i.trim()||!e))try{await Xa(ke(Pe,"npc-naming","current"),{submissions:S_({name:i.trim(),userId:c,votes:0,timestamp:Date.now()})}),o(!0)}catch(m){console.error("Failed to submit name:",m)}},u=m=>{m.key==="Enter"&&f()},h=async m=>{if(!(a||!e))try{const g=[...e.submissions];g[m].votes+=1,await Xa(ke(Pe,"npc-naming","current"),{submissions:g}),l(!0)}catch(g){console.error("Failed to vote:",g)}};if(!e||e.status==="idle")return S.jsxs("div",{className:"npc-naming-container idle",children:[S.jsx("div",{className:"waiting-icon",children:""}),S.jsx("h2",{children:"NPC Naming"}),S.jsx("p",{children:"Waiting for a character to name..."})]});if(e.status==="collecting")return S.jsxs("div",{className:"npc-naming-container collecting",children:[S.jsx("h2",{children:"Name This NPC!"}),e.imageUrl&&S.jsx("div",{className:"npc-portrait",children:S.jsx("img",{src:e.imageUrl,alt:"NPC"})}),S.jsx("div",{className:"npc-description",children:e.description}),s?S.jsxs("div",{className:"submitted-message",children:[S.jsx("span",{children:""})," Name submitted!"]}):S.jsxs("div",{className:"submission-form",children:[S.jsx("input",{type:"text",value:i,onChange:m=>r(m.target.value),placeholder:"Enter a name...",maxLength:40,onKeyPress:u}),S.jsx("button",{onClick:f,disabled:!i.trim(),children:"Submit"})]}),S.jsxs("div",{className:"submission-count",children:[((p=e.submissions)==null?void 0:p.length)||0," names submitted"]})]});if(e.status==="voting"){const m=[...e.submissions||[]].sort((g,v)=>v.votes-g.votes);return S.jsxs("div",{className:"npc-naming-container voting",children:[S.jsx("h2",{children:"Vote for Your Favorite!"}),S.jsx("div",{className:"npc-description",children:e.description}),S.jsx("div",{className:"voting-options",children:m.slice(0,5).map((g,v)=>S.jsxs(Ae.button,{className:`vote-option ${a?"voted":""}`,onClick:()=>!a&&h(e.submissions.indexOf(g)),"aria-disabled":a,whileHover:{scale:a?1:1.05},whileTap:{scale:a?1:.95},children:[S.jsx("span",{className:"name",children:g.name}),a&&S.jsxs("span",{className:"vote-count",children:[g.votes," votes"]})]},v))}),a&&S.jsxs("div",{className:"submitted-message",children:[S.jsx("span",{children:""})," Vote cast!"]})]})}return e.status==="revealing"?S.jsxs("div",{className:"npc-naming-container revealing",children:[S.jsx("h2",{children:"Their Name Is..."}),S.jsx(Ae.div,{className:"winner-name",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},children:e.winner}),S.jsx("div",{className:"npc-description",children:e.description})]}):null}function Cz({isAdmin:t=!1}){var m,g;const[e,n]=N.useState(null),[i,r]=N.useState(!1),[s,o]=N.useState(null),[a,l]=N.useState(!1),[c]=N.useState(()=>localStorage.getItem("audience-id")||Math.random().toString(36).substr(2,9));N.useEffect(()=>{localStorage.setItem("audience-id",c);const v=Ii(ke(Pe,"group-roll","current"),_=>{var w;if(_.exists()){const x=_.data();n(x);const C=(w=x.rolls)==null?void 0:w.find(I=>I.userId===c);C?(r(!0),o(C.result)):(r(!1),o(null))}else n(null)});return()=>v()},[c]);const f=async()=>{if(i||!e||a)return;l(!0);const v=parseInt(e.diceType.replace("d",""));for(let w=0;w<10;w++){await new Promise(C=>setTimeout(C,50));const x=Math.floor(Math.random()*v)+1;o(x)}const _=Math.floor(Math.random()*v)+1;o(_);try{await Xa(ke(Pe,"group-roll","current"),{rolls:S_({userId:c,result:_,timestamp:Date.now()})}),r(!0)}catch(w){console.error("Failed to submit roll:",w)}l(!1)};if(!e||e.status==="idle")return S.jsxs("div",{className:"group-roll-container idle",children:[S.jsx(pz,{size:72,animated:!0,className:"waiting-icon tmp-icon-float"}),S.jsx("h2",{children:"Group Roll"}),S.jsx("p",{children:"Waiting for the GM to call for a roll..."})]});const u=((m=e.rolls)==null?void 0:m.length)||0,h=e.dc||10,p=e.modifier||0;if(e.status==="rolling")return S.jsxs("div",{className:"group-roll-container rolling",children:[S.jsx("h2",{children:e.prompt||"Roll!"}),S.jsxs("div",{className:"roll-info",children:[S.jsx("span",{className:"dice-type",children:e.diceType}),p!==0&&S.jsxs("span",{className:"modifier",children:[p>0?"+":"",p]}),S.jsxs("span",{className:"dc",children:["DC ",h]})]}),i?S.jsxs("div",{className:"my-roll-result",children:[S.jsxs("div",{className:`roll-value ${(s??0)+p>=h?"success":"fail"}`,children:[s,p!==0&&S.jsxs("span",{className:"modifier-display",children:["+",p,"=",(s??0)+p]})]}),S.jsx("div",{className:"roll-outcome",children:(s??0)+p>=h?" Success!":" Failed"})]}):S.jsx(Ae.button,{className:"roll-button",onClick:a?void 0:f,style:a?{pointerEvents:"none",opacity:.7}:{},whileHover:a?{}:{scale:1.05},whileTap:a?{}:{scale:.95},children:a?S.jsx("span",{className:"rolling-number",children:s}):S.jsx(S.Fragment,{children:" Roll!"})}),S.jsxs("div",{className:"roll-count",children:[u," adventurers have rolled"]}),S.jsx("div",{className:"live-rolls",children:S.jsx(sc,{children:(g=e.rolls)==null?void 0:g.slice(-5).reverse().map(v=>S.jsx(Ae.div,{className:`roll-pip ${v.result+p>=h?"success":"fail"}`,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:v.result},v.timestamp))})})]});if(e.status==="results"){const v=e.rolls||[],_=v.filter(D=>D.result+p>=h).length,w=v.length-_,x=v.reduce((D,k)=>D+k.result,0),C=v.length>0?(x/v.length).toFixed(1):"0",I=v.length>0?Math.max(...v.map(D=>D.result)):0;return v.length>0&&Math.min(...v.map(D=>D.result)),S.jsxs("div",{className:"group-roll-container results",children:[S.jsx("h2",{children:"Results!"}),S.jsxs("div",{className:"results-grid",children:[S.jsxs("div",{className:"result-card successes",children:[S.jsx("div",{className:"result-value",children:_}),S.jsx("div",{className:"result-label",children:"Successes"})]}),S.jsxs("div",{className:"result-card failures",children:[S.jsx("div",{className:"result-value",children:w}),S.jsx("div",{className:"result-label",children:"Failures"})]}),S.jsxs("div",{className:"result-card average",children:[S.jsx("div",{className:"result-value",children:C}),S.jsx("div",{className:"result-label",children:"Average"})]}),S.jsxs("div",{className:"result-card highest",children:[S.jsx("div",{className:"result-value",children:I}),S.jsx("div",{className:"result-label",children:"Highest"})]})]}),S.jsx("div",{className:"success-bar",children:S.jsx("div",{className:"success-fill",style:{width:`${v.length>0?_/v.length*100:0}%`}})}),S.jsxs("div",{className:"success-label",children:[v.length>0?Math.round(_/v.length*100):0,"% success rate"]})]})}return null}function xA({size:t=200,className:e="",style:n,variant:i="full"}){return S.jsx("img",{src:"/images/TMAP-LOGO two color.png",alt:"The Misadventuring Party",className:`tmp-logo tmp-logo-${i} ${e}`,style:{width:typeof t=="number"?`${t}px`:t,height:"auto",...n}})}function kz(){const[t,e]=N.useState(null),[n,i]=N.useState(!0),[r,s]=N.useState(!1);return N.useEffect(()=>{let o;try{o=Ii(ke(Pe,"config","active-interaction"),a=>{a.exists()?e(a.data()):e({type:"none"}),i(!1),s(!1)},a=>{console.error("Firebase connection error:",a),s(!0),i(!1)})}catch(a){console.error("Firebase setup error:",a),s(!0),i(!1)}return()=>o&&o()},[]),n?S.jsx("div",{className:"audience-container",children:S.jsxs("div",{className:"loading-state",children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"Connecting to the adventure..."})]})}):r?S.jsx("div",{className:"audience-container",children:S.jsxs("div",{className:"error-state",children:[S.jsx(vz,{size:64,className:"error-icon"}),S.jsx("h2",{children:"Connection Lost"}),S.jsx("p",{children:"Having trouble reaching the server. Check your connection and refresh."}),S.jsx("button",{onClick:()=>window.location.reload(),className:"retry-btn",children:"Try Again"})]})}):S.jsxs("div",{className:"audience-container",children:[S.jsxs("header",{className:"show-header",children:[S.jsx("h1",{children:"The Misadventuring Party"}),S.jsx("p",{className:"tagline",children:"Live Audience Interaction"})]}),S.jsxs("main",{className:"interaction-area",children:[(t==null?void 0:t.type)==="vote"&&S.jsx(wz,{config:t}),(t==null?void 0:t.type)==="none"&&S.jsxs("div",{className:"waiting-state",children:[S.jsx(xA,{size:180,className:"waiting-logo"}),S.jsx("h2",{children:"The Adventure Continues..."}),S.jsx("p",{children:"Stand by for your moment to influence the story!"})]}),(t==null?void 0:t.type)==="madlibs"&&S.jsx(xz,{}),(t==null?void 0:t.type)==="npc-naming"&&S.jsx(Sz,{}),(t==null?void 0:t.type)==="group-roll"&&S.jsx(Cz,{})]})]})}function tr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $n={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ja={duration:.5,overwrite:!1,delay:0},K_,Nt,We,li=1e8,Le=1/li,Ey=Math.PI*2,Pz=Ey/4,Az=0,bA=Math.sqrt,Iz=Math.cos,Rz=Math.sin,kt=function(e){return typeof e=="string"},rt=function(e){return typeof e=="function"},xr=function(e){return typeof e=="number"},Q_=function(e){return typeof e>"u"},Qi=function(e){return typeof e=="object"},bn=function(e){return e!==!1},X_=function(){return typeof window<"u"},Ph=function(e){return rt(e)||kt(e)},EA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Jt=Array.isArray,Mz=/random\([^)]+\)/g,Vz=/,\s*/g,M1=/(?:-?\.?\d|\.)+/gi,SA=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,fa=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Em=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,CA=/[+-]=-?[.\d]+/,Dz=/[^,'"\[\]\s]+/gi,Oz=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ke,Ni,Sy,Y_,Gn={},nd={},kA,PA=function(e){return(nd=el(e,Gn))&&An},Z_=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},oc=function(e,n){return!n&&console.warn(e)},AA=function(e,n){return e&&(Gn[e]=n)&&nd&&(nd[e]=n)||Gn},ac=function(){return 0},Nz={suppressEvents:!0,isStart:!0,kill:!1},sf={suppressEvents:!0,kill:!1},Lz={suppressEvents:!0},J_={},ss=[],Cy={},IA,Dn={},Sm={},V1=30,of=[],e0="",t0=function(e){var n=e[0],i,r;if(Qi(n)||rt(n)||(e=[e]),!(i=(n._gsap||{}).harness)){for(r=of.length;r--&&!of[r].targetTest(n););i=of[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new eI(e[r],i)))||e.splice(r,1);return e},uo=function(e){return e._gsap||t0(ui(e))[0]._gsap},RA=function(e,n,i){return(i=e[n])&&rt(i)?e[n]():Q_(i)&&e.getAttribute&&e.getAttribute(n)||i},En=function(e,n){return(e=e.split(",")).forEach(n)||e},ot=function(e){return Math.round(e*1e5)/1e5||0},He=function(e){return Math.round(e*1e7)/1e7||0},ka=function(e,n){var i=n.charAt(0),r=parseFloat(n.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},Fz=function(e,n){for(var i=n.length,r=0;e.indexOf(n[r])<0&&++r<i;);return r<i},id=function(){var e=ss.length,n=ss.slice(0),i,r;for(Cy={},ss.length=0,i=0;i<e;i++)r=n[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},n0=function(e){return!!(e._initted||e._startAt||e.add)},MA=function(e,n,i,r){ss.length&&!Nt&&id(),e.render(n,i,!!(Nt&&n<0&&n0(e))),ss.length&&!Nt&&id()},VA=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Dz).length<2?n:kt(e)?e.trim():e},DA=function(e){return e},Kn=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},jz=function(e){return function(n,i){for(var r in i)r in n||r==="duration"&&e||r==="ease"||(n[r]=i[r])}},el=function(e,n){for(var i in n)e[i]=n[i];return e},D1=function t(e,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Qi(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},rd=function(e,n){var i={},r;for(r in e)r in n||(i[r]=e[r]);return i},Tu=function(e){var n=e.parent||Ke,i=e.keyframes?jz(Jt(e.keyframes)):Kn;if(bn(e.inherit))for(;n;)i(e,n.vars.defaults),n=n.parent||n._dp;return e},zz=function(e,n){for(var i=e.length,r=i===n.length;r&&i--&&e[i]===n[i];);return i<0},OA=function(e,n,i,r,s){var o=e[r],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[i],e[i]=n),n._next?n._next._prev=n:e[r]=n,n._prev=o,n.parent=n._dp=e,n},rp=function(e,n,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=n._prev,o=n._next;s?s._next=o:e[i]===n&&(e[i]=o),o?o._prev=s:e[r]===n&&(e[r]=s),n._next=n._prev=n.parent=null},gs=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},co=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Bz=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},ky=function(e,n,i,r){return e._startAt&&(Nt?e._startAt.revert(sf):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,r))},Uz=function t(e){return!e||e._ts&&t(e.parent)},O1=function(e){return e._repeat?tl(e._tTime,e=e.duration()+e._rDelay)*e:0},tl=function(e,n){var i=Math.floor(e=He(e/n));return e&&i===e?i-1:i},sd=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},sp=function(e){return e._end=He(e._start+(e._tDur/Math.abs(e._ts||e._rts||Le)||0))},op=function(e,n){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=He(i._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),sp(e),i._dirty||co(i,e)),e},NA=function(e,n){var i;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(i=sd(e.rawTime(),n),(!n._dur||Dc(0,n.totalDuration(),i)-n._tTime>Le)&&n.render(i,!0)),co(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Le}},Fi=function(e,n,i,r){return n.parent&&gs(n),n._start=He((xr(i)?i:i||e!==Ke?ii(e,i,n):e._time)+n._delay),n._end=He(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),OA(e,n,"_first","_last",e._sort?"_start":0),Py(n)||(e._recent=n),r||NA(e,n),e._ts<0&&op(e,e._tTime),e},LA=function(e,n){return(Gn.ScrollTrigger||Z_("scrollTrigger",n))&&Gn.ScrollTrigger.create(n,e)},FA=function(e,n,i,r,s){if(r0(e,n,s),!e._initted)return 1;if(!i&&e._pt&&!Nt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&IA!==On.frame)return ss.push(e),e._lazy=[s,r],1},$z=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Py=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},qz=function(e,n,i,r){var s=e.ratio,o=n<0||!n&&(!e._start&&$z(e)&&!(!e._initted&&Py(e))||(e._ts<0||e._dp._ts<0)&&!Py(e))?0:1,a=e._rDelay,l=0,c,f,u;if(a&&e._repeat&&(l=Dc(0,e._tDur,n),f=tl(l,a),e._yoyo&&f&1&&(o=1-o),f!==tl(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Nt||r||e._zTime===Le||!n&&e._zTime){if(!e._initted&&FA(e,n,r,i,l))return;for(u=e._zTime,e._zTime=n||(i?Le:0),i||(i=n&&!u),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;n<0&&ky(e,n,i,!0),e._onUpdate&&!i&&Fn(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Fn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&gs(e,1),!i&&!Nt&&(Fn(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Wz=function(e,n,i){var r;if(i>n)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>n)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<n)return r;r=r._prev}},nl=function(e,n,i,r){var s=e._repeat,o=He(n)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:He(o*(s+1)+e._rDelay*s):o,a>0&&!r&&op(e,e._tTime=e._tDur*a),e.parent&&sp(e),i||co(e.parent,e),e},N1=function(e){return e instanceof un?co(e):nl(e,e._dur)},Hz={_start:0,endTime:ac,totalDuration:ac},ii=function t(e,n,i){var r=e.labels,s=e._recent||Hz,o=e.duration()>=li?s.endTime(!1):e._dur,a,l,c;return kt(n)&&(isNaN(n)||n in r)?(l=n.charAt(0),c=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(n in r||(r[n]=o),r[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),c&&i&&(l=l/100*(Jt(i)?i[0]:i).totalDuration()),a>1?t(e,n.substr(0,a-1),i)+l:o+l)):n==null?o:+n},bu=function(e,n,i){var r=xr(n[1]),s=(r?2:1)+(e<2?0:1),o=n[s],a,l;if(r&&(o.duration=n[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=bn(l.vars.inherit)&&l.parent;o.immediateRender=bn(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new ft(n[0],o,n[s+1])},Cs=function(e,n){return e||e===0?n(e):n},Dc=function(e,n,i){return i<e?e:i>n?n:i},Xt=function(e,n){return!kt(e)||!(n=Oz.exec(e))?"":n[1]},Gz=function(e,n,i){return Cs(i,function(r){return Dc(e,n,r)})},Ay=[].slice,jA=function(e,n){return e&&Qi(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Qi(e[0]))&&!e.nodeType&&e!==Ni},Kz=function(e,n,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return kt(r)&&!n||jA(r,1)?(s=i).push.apply(s,ui(r)):i.push(r)})||i},ui=function(e,n,i){return We&&!n&&We.selector?We.selector(e):kt(e)&&!i&&(Sy||!il())?Ay.call((n||Y_).querySelectorAll(e),0):Jt(e)?Kz(e,i):jA(e)?Ay.call(e,0):e?[e]:[]},Iy=function(e){return e=ui(e)[0]||oc("Invalid scope")||{},function(n){var i=e.current||e.nativeElement||e;return ui(n,i.querySelectorAll?i:i===e?oc("Invalid scope")||Y_.createElement("div"):e)}},zA=function(e){return e.sort(function(){return .5-Math.random()})},BA=function(e){if(rt(e))return e;var n=Qi(e)?e:{each:e},i=ho(n.ease),r=n.from||0,s=parseFloat(n.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=n.axis,f=r,u=r;return kt(r)?f=u={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(f=r[0],u=r[1]),function(h,p,m){var g=(m||n).length,v=o[g],_,w,x,C,I,D,k,b,E;if(!v){if(E=n.grid==="auto"?0:(n.grid||[1,li])[1],!E){for(k=-li;k<(k=m[E++].getBoundingClientRect().left)&&E<g;);E<g&&E--}for(v=o[g]=[],_=l?Math.min(E,g)*f-.5:r%E,w=E===li?0:l?g*u/E-.5:r/E|0,k=0,b=li,D=0;D<g;D++)x=D%E-_,C=w-(D/E|0),v[D]=I=c?Math.abs(c==="y"?C:x):bA(x*x+C*C),I>k&&(k=I),I<b&&(b=I);r==="random"&&zA(v),v.max=k-b,v.min=b,v.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(E>g?g-1:c?c==="y"?g/E:E:Math.max(E,g/E))||0)*(r==="edges"?-1:1),v.b=g<0?s-g:s,v.u=Xt(n.amount||n.each)||0,i=i&&g<0?YA(i):i}return g=(v[h]-v.min)/v.max||0,He(v.b+(i?i(g):g)*v.v)+v.u}},Ry=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=He(Math.round(parseFloat(i)/e)*e*n);return(r-r%1)/n+(xr(i)?0:Xt(i))}},UA=function(e,n){var i=Jt(e),r,s;return!i&&Qi(e)&&(r=i=e.radius||li,e.values?(e=ui(e.values),(s=!xr(e[0]))&&(r*=r)):e=Ry(e.increment)),Cs(n,i?rt(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=li,f=0,u=e.length,h,p;u--;)s?(h=e[u].x-a,p=e[u].y-l,h=h*h+p*p):h=Math.abs(e[u]-a),h<c&&(c=h,f=u);return f=!r||c<=r?e[f]:o,s||f===o||xr(o)?f:f+Xt(o)}:Ry(e))},$A=function(e,n,i,r){return Cs(Jt(e)?!n:i===!0?!!(i=0):!r,function(){return Jt(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(n-e+i*.99))/i)*i*r)/r})},Qz=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(r){return n.reduce(function(s,o){return o(s)},r)}},Xz=function(e,n){return function(i){return e(parseFloat(i))+(n||Xt(i))}},Yz=function(e,n,i){return WA(e,n,0,1,i)},qA=function(e,n,i){return Cs(i,function(r){return e[~~n(r)]})},Zz=function t(e,n,i){var r=n-e;return Jt(e)?qA(e,t(0,e.length),n):Cs(i,function(s){return(r+(s-e)%r)%r+e})},Jz=function t(e,n,i){var r=n-e,s=r*2;return Jt(e)?qA(e,t(0,e.length-1),n):Cs(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},lc=function(e){return e.replace(Mz,function(n){var i=n.indexOf("[")+1,r=n.substring(i||7,i?n.indexOf("]"):n.length-1).split(Vz);return $A(i?r:+r[0],i?0:+r[1],+r[2]||1e-5)})},WA=function(e,n,i,r,s){var o=n-e,a=r-i;return Cs(s,function(l){return i+((l-e)/o*a||0)})},eB=function t(e,n,i,r){var s=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!s){var o=kt(e),a={},l,c,f,u,h;if(i===!0&&(r=1)&&(i=null),o)e={p:e},n={p:n};else if(Jt(e)&&!Jt(n)){for(f=[],u=e.length,h=u-2,c=1;c<u;c++)f.push(t(e[c-1],e[c]));u--,s=function(m){m*=u;var g=Math.min(h,~~m);return f[g](m-g)},i=n}else r||(e=el(Jt(e)?[]:{},e));if(!f){for(l in n)i0.call(a,e,l,"get",n[l]);s=function(m){return a0(m,a)||(o?e.p:e)}}}return Cs(i,s)},L1=function(e,n,i){var r=e.labels,s=li,o,a,l;for(o in r)a=r[o]-n,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Fn=function(e,n,i){var r=e.vars,s=r[n],o=We,a=e._ctx,l,c,f;if(s)return l=r[n+"Params"],c=r.callbackScope||e,i&&ss.length&&id(),a&&(We=a),f=l?s.apply(c,l):s.call(c),We=o,f},iu=function(e){return gs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Nt),e.progress()<1&&Fn(e,"onInterrupt"),e},da,HA=[],GA=function(e){if(e)if(e=!e.name&&e.default||e,X_()||e.headless){var n=e.name,i=rt(e),r=n&&!i&&e.init?function(){this._props=[]}:e,s={init:ac,render:a0,add:i0,kill:gB,modifier:mB,rawVars:0},o={targetTest:0,get:0,getSetter:o0,aliases:{},register:0};if(il(),e!==r){if(Dn[n])return;Kn(r,Kn(rd(e,s),o)),el(r.prototype,el(s,rd(e,o))),Dn[r.prop=n]=r,e.targetTest&&(of.push(r),J_[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}AA(n,r),e.register&&e.register(An,r,Sn)}else HA.push(e)},Ne=255,ru={aqua:[0,Ne,Ne],lime:[0,Ne,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ne],navy:[0,0,128],white:[Ne,Ne,Ne],olive:[128,128,0],yellow:[Ne,Ne,0],orange:[Ne,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ne,0,0],pink:[Ne,192,203],cyan:[0,Ne,Ne],transparent:[Ne,Ne,Ne,0]},Cm=function(e,n,i){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(i-n)*e*6:e<.5?i:e*3<2?n+(i-n)*(2/3-e)*6:n)*Ne+.5|0},KA=function(e,n,i){var r=e?xr(e)?[e>>16,e>>8&Ne,e&Ne]:0:ru.black,s,o,a,l,c,f,u,h,p,m;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ru[e])r=ru[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Ne,r&Ne,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Ne,e&Ne]}else if(e.substr(0,3)==="hsl"){if(r=m=e.match(M1),!n)l=+r[0]%360/360,c=+r[1]/100,f=+r[2]/100,o=f<=.5?f*(c+1):f+c-f*c,s=f*2-o,r.length>3&&(r[3]*=1),r[0]=Cm(l+1/3,s,o),r[1]=Cm(l,s,o),r[2]=Cm(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(SA),i&&r.length<4&&(r[3]=1),r}else r=e.match(M1)||ru.transparent;r=r.map(Number)}return n&&!m&&(s=r[0]/Ne,o=r[1]/Ne,a=r[2]/Ne,u=Math.max(s,o,a),h=Math.min(s,o,a),f=(u+h)/2,u===h?l=c=0:(p=u-h,c=f>.5?p/(2-u-h):p/(u+h),l=u===s?(o-a)/p+(o<a?6:0):u===o?(a-s)/p+2:(s-o)/p+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(f*100+.5)),i&&r.length<4&&(r[3]=1),r},QA=function(e){var n=[],i=[],r=-1;return e.split(os).forEach(function(s){var o=s.match(fa)||[];n.push.apply(n,o),i.push(r+=o.length+1)}),n.c=i,n},F1=function(e,n,i){var r="",s=(e+r).match(os),o=n?"hsla(":"rgba(",a=0,l,c,f,u;if(!s)return e;if(s=s.map(function(h){return(h=KA(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(f=QA(e),l=i.c,l.join(r)!==f.c.join(r)))for(c=e.replace(os,"1").split(fa),u=c.length-1;a<u;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:i).shift());if(!c)for(c=e.split(os),u=c.length-1;a<u;a++)r+=c[a]+s[a];return r+c[u]},os=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ru)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),tB=/hsl[a]?\(/,XA=function(e){var n=e.join(" "),i;if(os.lastIndex=0,os.test(n))return i=tB.test(n),e[1]=F1(e[1],i),e[0]=F1(e[0],i,QA(e[1])),!0},uc,On=function(){var t=Date.now,e=500,n=33,i=t(),r=i,s=1e3/240,o=s,a=[],l,c,f,u,h,p,m=function g(v){var _=t()-r,w=v===!0,x,C,I,D;if((_>e||_<0)&&(i+=_-n),r+=_,I=r-i,x=I-o,(x>0||w)&&(D=++u.frame,h=I-u.time*1e3,u.time=I=I/1e3,o+=x+(x>=s?4:s-x),C=1),w||(l=c(g)),C)for(p=0;p<a.length;p++)a[p](I,h,D,v)};return u={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){kA&&(!Sy&&X_()&&(Ni=Sy=window,Y_=Ni.document||{},Gn.gsap=An,(Ni.gsapVersions||(Ni.gsapVersions=[])).push(An.version),PA(nd||Ni.GreenSockGlobals||!Ni.gsap&&Ni||{}),HA.forEach(GA)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&u.sleep(),c=f||function(v){return setTimeout(v,o-u.time*1e3+1|0)},uc=1,m(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(l),uc=0,c=ac},lagSmoothing:function(v,_){e=v||1/0,n=Math.min(_||33,e)},fps:function(v){s=1e3/(v||240),o=u.time*1e3+s},add:function(v,_,w){var x=_?function(C,I,D,k){v(C,I,D,k),u.remove(x)}:v;return u.remove(v),a[w?"unshift":"push"](x),il(),x},remove:function(v,_){~(_=a.indexOf(v))&&a.splice(_,1)&&p>=_&&p--},_listeners:a},u}(),il=function(){return!uc&&On.wake()},we={},nB=/^[\d.\-M][\d.\-,\s]/,iB=/["']/g,rB=function(e){for(var n={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),n[r]=isNaN(c)?c.replace(iB,"").trim():+c,r=l.substr(a+1).trim();return n},sB=function(e){var n=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",n);return e.substring(n,~r&&r<i?e.indexOf(")",i+1):i)},oB=function(e){var n=(e+"").split("("),i=we[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[rB(n[1])]:sB(e).split(",").map(VA)):we._CE&&nB.test(e)?we._CE("",e):i},YA=function(e){return function(n){return 1-e(1-n)}},ZA=function t(e,n){for(var i=e._first,r;i;)i instanceof un?t(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},ho=function(e,n){return e&&(rt(e)?e:we[e]||oB(e))||n},Do=function(e,n,i,r){i===void 0&&(i=function(l){return 1-n(1-l)}),r===void 0&&(r=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:i,easeInOut:r},o;return En(e,function(a){we[a]=Gn[a]=s,we[o=a.toLowerCase()]=i;for(var l in s)we[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=we[a+"."+l]=s[l]}),s},JA=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},km=function t(e,n,i){var r=n>=1?n:1,s=(i||(e?.3:.45))/(n<1?n:1),o=s/Ey*(Math.asin(1/r)||0),a=function(f){return f===1?1:r*Math.pow(2,-10*f)*Rz((f-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:JA(a);return s=Ey/s,l.config=function(c,f){return t(e,c,f)},l},Pm=function t(e,n){n===void 0&&(n=1.70158);var i=function(o){return o?--o*o*((n+1)*o+n)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:JA(i);return r.config=function(s){return t(e,s)},r};En("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Do(t+",Power"+(n-1),e?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});we.Linear.easeNone=we.none=we.Linear.easeIn;Do("Elastic",km("in"),km("out"),km());(function(t,e){var n=1/e,i=2*n,r=2.5*n,s=function(a){return a<n?t*a*a:a<i?t*Math.pow(a-1.5/e,2)+.75:a<r?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Do("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Do("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Do("Circ",function(t){return-(bA(1-t*t)-1)});Do("Sine",function(t){return t===1?1:-Iz(t*Pz)+1});Do("Back",Pm("in"),Pm("out"),Pm());we.SteppedEase=we.steps=Gn.SteppedEase={config:function(e,n){e===void 0&&(e=1);var i=1/e,r=e+(n?0:1),s=n?1:0,o=1-Le;return function(a){return((r*Dc(0,o,a)|0)+s)*i}}};Ja.ease=we["quad.out"];En("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return e0+=t+","+t+"Params,"});var eI=function(e,n){this.id=Az++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:RA,this.set=n?n.getSetter:o0},cc=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,nl(this,+n.duration,1,1),this.data=n.data,We&&(this._ctx=We,We.data.push(this)),uc||On.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,nl(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(il(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(op(this,i),!s._dp||s.parent||NA(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Fi(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Le||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),MA(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+O1(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+O1(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?tl(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-Le?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?sd(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Le?0:this._rts,this.totalTime(Dc(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),sp(this),Bz(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(il(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Le&&(this._tTime-=Le)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=He(i);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Fi(r,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(bn(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?sd(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Lz);var r=Nt;return Nt=i,n0(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Nt=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,N1(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,N1(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(ii(this,i),bn(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,bn(r)),this._dur||(this._zTime=-Le),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Le:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Le,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Le)},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this,s=r._prom;return new Promise(function(o){var a=rt(i)?i:DA,l=function(){var f=r.then;r.then=null,s&&s(),rt(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=f),o(a),r.then=f};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?l():r._prom=l})},e.kill=function(){iu(this)},t}();Kn(cc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Le,_prom:0,_ps:!1,_rts:1});var un=function(t){TA(e,t);function e(i,r){var s;return i===void 0&&(i={}),s=t.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=bn(i.sortChildren),Ke&&Fi(i.parent||Ke,tr(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&LA(tr(s),i.scrollTrigger),s}var n=e.prototype;return n.to=function(r,s,o){return bu(0,arguments,this),this},n.from=function(r,s,o){return bu(1,arguments,this),this},n.fromTo=function(r,s,o,a){return bu(2,arguments,this),this},n.set=function(r,s,o){return s.duration=0,s.parent=this,Tu(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ft(r,s,ii(this,o),1),this},n.call=function(r,s,o){return Fi(this,ft.delayedCall(0,r,s),o)},n.staggerTo=function(r,s,o,a,l,c,f){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=f,o.parent=this,new ft(r,o,ii(this,l)),this},n.staggerFrom=function(r,s,o,a,l,c,f){return o.runBackwards=1,Tu(o).immediateRender=bn(o.immediateRender),this.staggerTo(r,s,o,a,l,c,f)},n.staggerFromTo=function(r,s,o,a,l,c,f,u){return a.startAt=o,Tu(a).immediateRender=bn(a.immediateRender),this.staggerTo(r,s,a,l,c,f,u)},n.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,f=r<=0?0:He(r),u=this._zTime<0!=r<0&&(this._initted||!c),h,p,m,g,v,_,w,x,C,I,D,k;if(this!==Ke&&f>l&&r>=0&&(f=l),f!==this._tTime||o||u){if(a!==this._time&&c&&(f+=this._time-a,r+=this._time-a),h=f,C=this._start,x=this._ts,_=!x,u&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(D=this._yoyo,v=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(v*100+r,s,o);if(h=He(f%v),f===l?(g=this._repeat,h=c):(I=He(f/v),g=~~I,g&&g===I&&(h=c,g--),h>c&&(h=c)),I=tl(this._tTime,v),!a&&this._tTime&&I!==g&&this._tTime-I*v-this._dur<=0&&(I=g),D&&g&1&&(h=c-h,k=1),g!==I&&!this._lock){var b=D&&I&1,E=b===(D&&g&1);if(g<I&&(b=!b),a=b?0:f%c?c:f,this._lock=1,this.render(a||(k?0:He(g*v)),s,!c)._lock=0,this._tTime=f,!s&&this.parent&&Fn(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1,I=g),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,E&&(this._lock=2,a=b?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;ZA(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=Wz(this,He(a),He(h)),w&&(f-=h-(h=w._start))),this._tTime=f,this._time=h,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&f&&c&&!s&&!I&&(Fn(this,"onStart"),this._tTime!==f))return this;if(h>=a&&r>=0)for(p=this._first;p;){if(m=p._next,(p._act||h>=p._start)&&p._ts&&w!==p){if(p.parent!==this)return this.render(r,s,o);if(p.render(p._ts>0?(h-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(h-p._start)*p._ts,s,o),h!==this._time||!this._ts&&!_){w=0,m&&(f+=this._zTime=-Le);break}}p=m}else{p=this._last;for(var P=r<0?r:h;p;){if(m=p._prev,(p._act||P<=p._end)&&p._ts&&w!==p){if(p.parent!==this)return this.render(r,s,o);if(p.render(p._ts>0?(P-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(P-p._start)*p._ts,s,o||Nt&&n0(p)),h!==this._time||!this._ts&&!_){w=0,m&&(f+=this._zTime=P?-Le:Le);break}}p=m}}if(w&&!s&&(this.pause(),w.render(h>=a?0:-Le)._zTime=h>=a?1:-1,this._ts))return this._start=C,sp(this),this.render(r,s,o);this._onUpdate&&!s&&Fn(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&a)&&(C===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(f===l&&this._ts>0||!f&&this._ts<0)&&gs(this,1),!s&&!(r<0&&!a)&&(f||a||!l)&&(Fn(this,f===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(r,s){var o=this;if(xr(s)||(s=ii(this,s,r)),!(r instanceof cc)){if(Jt(r))return r.forEach(function(a){return o.add(a,s)}),this;if(kt(r))return this.addLabel(r,s);if(rt(r))r=ft.delayedCall(0,r);else return this}return this!==r?Fi(this,r,s):this},n.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-li);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof ft?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},n.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},n.remove=function(r){return kt(r)?this.removeLabel(r):rt(r)?this.killTweensOf(r):(r.parent===this&&rp(this,r),r===this._recent&&(this._recent=this._last),co(this))},n.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=He(On.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),t.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},n.addLabel=function(r,s){return this.labels[r]=ii(this,s),this},n.removeLabel=function(r){return delete this.labels[r],this},n.addPause=function(r,s,o){var a=ft.delayedCall(0,s||ac,o);return a.data="isPause",this._hasPause=1,Fi(this,a,ii(this,r))},n.removePause=function(r){var s=this._first;for(r=ii(this,r);s;)s._start===r&&s.data==="isPause"&&gs(s),s=s._next},n.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Ur!==a[l]&&a[l].kill(r,s);return this},n.getTweensOf=function(r,s){for(var o=[],a=ui(r),l=this._first,c=xr(s),f;l;)l instanceof ft?Fz(l._targets,a)&&(c?(!Ur||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(f=l.getTweensOf(a,s)).length&&o.push.apply(o,f),l=l._next;return o},n.tweenTo=function(r,s){s=s||{};var o=this,a=ii(o,r),l=s,c=l.startAt,f=l.onStart,u=l.onStartParams,h=l.immediateRender,p,m=ft.to(o,Kn({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Le,onStart:function(){if(o.pause(),!p){var v=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());m._dur!==v&&nl(m,v,0,1).render(m._time,!0,!0),p=1}f&&f.apply(m,u||[])}},s));return h?m.render(0):m},n.tweenFromTo=function(r,s,o){return this.tweenTo(s,Kn({startAt:{time:ii(this,r)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(r){return r===void 0&&(r=this._time),L1(this,ii(this,r))},n.previousLabel=function(r){return r===void 0&&(r=this._time),L1(this,ii(this,r),1)},n.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Le)},n.shiftChildren=function(r,s,o){o===void 0&&(o=0);var a=this._first,l=this.labels,c;for(r=He(r);a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return co(this)},n.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return t.prototype.invalidate.call(this,r)},n.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),co(this)},n.totalDuration=function(r){var s=0,o=this,a=o._last,l=li,c,f,u;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(u=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),f=a._start,f>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Fi(o,a,f-a._delay,1)._lock=0):l=f,f<0&&a._ts&&(s-=f,(!u&&!o._dp||u&&u.smoothChildTiming)&&(o._start+=He(f/o._ts),o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;nl(o,o===Ke&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(Ke._ts&&(MA(Ke,sd(r,Ke)),IA=On.frame),On.frame>=V1){V1+=$n.autoSleep||120;var s=Ke._first;if((!s||!s._ts)&&$n.autoSleep&&On._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||On.sleep()}}},e}(cc);Kn(un.prototype,{_lock:0,_hasPause:0,_forcing:0});var aB=function(e,n,i,r,s,o,a){var l=new Sn(this._pt,e,n,0,1,oI,null,s),c=0,f=0,u,h,p,m,g,v,_,w;for(l.b=i,l.e=r,i+="",r+="",(_=~r.indexOf("random("))&&(r=lc(r)),o&&(w=[i,r],o(w,e,n),i=w[0],r=w[1]),h=i.match(Em)||[];u=Em.exec(r);)m=u[0],g=r.substring(c,u.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),m!==h[f++]&&(v=parseFloat(h[f-1])||0,l._pt={_next:l._pt,p:g||f===1?g:",",s:v,c:m.charAt(1)==="="?ka(v,m)-v:parseFloat(m)-v,m:p&&p<4?Math.round:0},c=Em.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(CA.test(r)||_)&&(l.e=0),this._pt=l,l},i0=function(e,n,i,r,s,o,a,l,c,f){rt(r)&&(r=r(s||0,e,o));var u=e[n],h=i!=="get"?i:rt(u)?c?e[n.indexOf("set")||!rt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():u,p=rt(u)?c?fB:rI:s0,m;if(kt(r)&&(~r.indexOf("random(")&&(r=lc(r)),r.charAt(1)==="="&&(m=ka(h,r)+(Xt(h)||0),(m||m===0)&&(r=m))),!f||h!==r||My)return!isNaN(h*r)&&r!==""?(m=new Sn(this._pt,e,n,+h||0,r-(h||0),typeof u=="boolean"?pB:sI,0,p),c&&(m.fp=c),a&&m.modifier(a,this,e),this._pt=m):(!u&&!(n in e)&&Z_(n,r),aB.call(this,e,n,h,r,p,l||$n.stringFilter,c))},lB=function(e,n,i,r,s){if(rt(e)&&(e=Eu(e,s,n,i,r)),!Qi(e)||e.style&&e.nodeType||Jt(e)||EA(e))return kt(e)?Eu(e,s,n,i,r):e;var o={},a;for(a in e)o[a]=Eu(e[a],s,n,i,r);return o},tI=function(e,n,i,r,s,o){var a,l,c,f;if(Dn[e]&&(a=new Dn[e]).init(s,a.rawVars?n[e]:lB(n[e],r,s,o,i),i,r,o)!==!1&&(i._pt=l=new Sn(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==da))for(c=i._ptLookup[i._targets.indexOf(s)],f=a._props.length;f--;)c[a._props[f]]=l;return a},Ur,My,r0=function t(e,n,i){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,f=r.runBackwards,u=r.yoyoEase,h=r.keyframes,p=r.autoRevert,m=e._dur,g=e._startAt,v=e._targets,_=e.parent,w=_&&_.data==="nested"?_.vars.targets:v,x=e._overwrite==="auto"&&!K_,C=e.timeline,I,D,k,b,E,P,M,V,A,z,Z,Q,te;if(C&&(!h||!s)&&(s="none"),e._ease=ho(s,Ja.ease),e._yEase=u?YA(ho(u===!0?s:u,Ja.ease)):0,u&&e._yoyo&&!e._repeat&&(u=e._yEase,e._yEase=e._ease,e._ease=u),e._from=!C&&!!r.runBackwards,!C||h&&!r.stagger){if(V=v[0]?uo(v[0]).harness:0,Q=V&&r[V.prop],I=rd(r,J_),g&&(g._zTime<0&&g.progress(1),n<0&&f&&a&&!p?g.render(-1,!0):g.revert(f&&m?sf:Nz),g._lazy=0),o){if(gs(e._startAt=ft.set(v,Kn({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!g&&bn(l),startAt:null,delay:0,onUpdate:c&&function(){return Fn(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Nt||!a&&!p)&&e._startAt.revert(sf),a&&m&&n<=0&&i<=0){n&&(e._zTime=n);return}}else if(f&&m&&!g){if(n&&(a=!1),k=Kn({overwrite:!1,data:"isFromStart",lazy:a&&!g&&bn(l),immediateRender:a,stagger:0,parent:_},I),Q&&(k[V.prop]=Q),gs(e._startAt=ft.set(v,k)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Nt?e._startAt.revert(sf):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Le,Le);else if(!n)return}for(e._pt=e._ptCache=0,l=m&&bn(l)||l&&!m,D=0;D<v.length;D++){if(E=v[D],M=E._gsap||t0(v)[D]._gsap,e._ptLookup[D]=z={},Cy[M.id]&&ss.length&&id(),Z=w===v?D:w.indexOf(E),V&&(A=new V).init(E,Q||I,e,Z,w)!==!1&&(e._pt=b=new Sn(e._pt,E,A.name,0,1,A.render,A,0,A.priority),A._props.forEach(function(q){z[q]=b}),A.priority&&(P=1)),!V||Q)for(k in I)Dn[k]&&(A=tI(k,I,e,Z,E,w))?A.priority&&(P=1):z[k]=b=i0.call(e,E,k,"get",I[k],Z,w,0,r.stringFilter);e._op&&e._op[D]&&e.kill(E,e._op[D]),x&&e._pt&&(Ur=e,Ke.killTweensOf(E,z,e.globalTime(n)),te=!e.parent,Ur=0),e._pt&&l&&(Cy[M.id]=1)}P&&aI(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!te,h&&n<=0&&C.render(li,!0,!0)},uB=function(e,n,i,r,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[n],f,u,h,p;if(!c)for(c=e._ptCache[n]=[],h=e._ptLookup,p=e._targets.length;p--;){if(f=h[p][n],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==n&&f.fp!==n;)f=f._next;if(!f)return My=1,e.vars[n]="+=0",r0(e,a),My=0,l?oc(n+" not eligible for reset"):1;c.push(f)}for(p=c.length;p--;)u=c[p],f=u._pt||u,f.s=(r||r===0)&&!s?r:f.s+(r||0)+o*f.c,f.c=i-f.s,u.e&&(u.e=ot(i)+Xt(u.e)),u.b&&(u.b=f.s+Xt(u.b))},cB=function(e,n){var i=e[0]?uo(e[0]).harness:0,r=i&&i.aliases,s,o,a,l;if(!r)return n;s=el({},n);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},hB=function(e,n,i,r){var s=n.ease||r||"power1.inOut",o,a;if(Jt(n))a=i[e]||(i[e]=[]),n.forEach(function(l,c){return a.push({t:c/(n.length-1)*100,v:l,e:s})});else for(o in n)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},Eu=function(e,n,i,r,s){return rt(e)?e.call(n,i,r,s):kt(e)&&~e.indexOf("random(")?lc(e):e},nI=e0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",iI={};En(nI+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return iI[t]=1});var ft=function(t){TA(e,t);function e(i,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=t.call(this,o?r:Tu(r))||this;var l=a.vars,c=l.duration,f=l.delay,u=l.immediateRender,h=l.stagger,p=l.overwrite,m=l.keyframes,g=l.defaults,v=l.scrollTrigger,_=l.yoyoEase,w=r.parent||Ke,x=(Jt(i)||EA(i)?xr(i[0]):"length"in r)?[i]:ui(i),C,I,D,k,b,E,P,M;if(a._targets=x.length?t0(x):oc("GSAP target "+i+" not found. https://gsap.com",!$n.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,m||h||Ph(c)||Ph(f)){if(r=a.vars,C=a.timeline=new un({data:"nested",defaults:g||{},targets:w&&w.data==="nested"?w.vars.targets:x}),C.kill(),C.parent=C._dp=tr(a),C._start=0,h||Ph(c)||Ph(f)){if(k=x.length,P=h&&BA(h),Qi(h))for(b in h)~nI.indexOf(b)&&(M||(M={}),M[b]=h[b]);for(I=0;I<k;I++)D=rd(r,iI),D.stagger=0,_&&(D.yoyoEase=_),M&&el(D,M),E=x[I],D.duration=+Eu(c,tr(a),I,E,x),D.delay=(+Eu(f,tr(a),I,E,x)||0)-a._delay,!h&&k===1&&D.delay&&(a._delay=f=D.delay,a._start+=f,D.delay=0),C.to(E,D,P?P(I,E,x):0),C._ease=we.none;C.duration()?c=f=0:a.timeline=0}else if(m){Tu(Kn(C.vars.defaults,{ease:"none"})),C._ease=ho(m.ease||r.ease||"none");var V=0,A,z,Z;if(Jt(m))m.forEach(function(Q){return C.to(x,Q,">")}),C.duration();else{D={};for(b in m)b==="ease"||b==="easeEach"||hB(b,m[b],D,m.easeEach);for(b in D)for(A=D[b].sort(function(Q,te){return Q.t-te.t}),V=0,I=0;I<A.length;I++)z=A[I],Z={ease:z.e,duration:(z.t-(I?A[I-1].t:0))/100*c},Z[b]=z.v,C.to(x,Z,V),V+=Z.duration;C.duration()<c&&C.to({},{duration:c-C.duration()})}}c||a.duration(c=C.duration())}else a.timeline=0;return p===!0&&!K_&&(Ur=tr(a),Ke.killTweensOf(x),Ur=0),Fi(w,tr(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(u||!c&&!m&&a._start===He(w._time)&&bn(u)&&Uz(tr(a))&&w.data!=="nested")&&(a._tTime=-Le,a.render(Math.max(0,-f)||0)),v&&LA(tr(a),v),a}var n=e.prototype;return n.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,f=r<0,u=r>l-Le&&!f?l:r<Le?0:r,h,p,m,g,v,_,w,x,C;if(!c)qz(this,r,s,o);else if(u!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(h=u,x=this.timeline,this._repeat){if(g=c+this._rDelay,this._repeat<-1&&f)return this.totalTime(g*100+r,s,o);if(h=He(u%g),u===l?(m=this._repeat,h=c):(v=He(u/g),m=~~v,m&&m===v?(h=c,m--):h>c&&(h=c)),_=this._yoyo&&m&1,_&&(C=this._yEase,h=c-h),v=tl(this._tTime,g),h===a&&!o&&this._initted&&m===v)return this._tTime=u,this;m!==v&&(x&&this._yEase&&ZA(x,_),this.vars.repeatRefresh&&!_&&!this._lock&&h!==g&&this._initted&&(this._lock=o=1,this.render(He(g*m),!0).invalidate()._lock=0))}if(!this._initted){if(FA(this,f?r:h,o,s,u))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==v))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=u,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(C||this._ease)(h/c),this._from&&(this.ratio=w=1-w),!a&&u&&!s&&!v&&(Fn(this,"onStart"),this._tTime!==u))return this;for(p=this._pt;p;)p.r(w,p.d),p=p._next;x&&x.render(r<0?r:x._dur*x._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(f&&ky(this,r,s,o),Fn(this,"onUpdate")),this._repeat&&m!==v&&this.vars.onRepeat&&!s&&this.parent&&Fn(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(f&&!this._onUpdate&&ky(this,r,!0,!0),(r||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&gs(this,1),!s&&!(f&&!a)&&(u||a||_)&&(Fn(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),t.prototype.invalidate.call(this,r)},n.resetTo=function(r,s,o,a,l){uc||On.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||r0(this,c),f=this._ease(c/this._dur),uB(this,r,s,o,a,f,c,l)?this.resetTo(r,s,o,a,1):(op(this,0),this.parent||OA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?iu(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Nt),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Ur&&Ur.vars.overwrite!==!0)._first||iu(this),this.parent&&o!==this.timeline.totalDuration()&&nl(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?ui(r):a,c=this._ptLookup,f=this._pt,u,h,p,m,g,v,_;if((!s||s==="all")&&zz(a,l))return s==="all"&&(this._pt=0),iu(this);for(u=this._op=this._op||[],s!=="all"&&(kt(s)&&(g={},En(s,function(w){return g[w]=1}),s=g),s=cB(a,s)),_=a.length;_--;)if(~l.indexOf(a[_])){h=c[_],s==="all"?(u[_]=s,m=h,p={}):(p=u[_]=u[_]||{},m=s);for(g in m)v=h&&h[g],v&&((!("kill"in v.d)||v.d.kill(g)===!0)&&rp(this,v,"_pt"),delete h[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&f&&iu(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return bu(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return bu(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return Ke.killTweensOf(r,s,o)},e}(cc);Kn(ft.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});En("staggerTo,staggerFrom,staggerFromTo",function(t){ft[t]=function(){var e=new un,n=Ay.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var s0=function(e,n,i){return e[n]=i},rI=function(e,n,i){return e[n](i)},fB=function(e,n,i,r){return e[n](r.fp,i)},dB=function(e,n,i){return e.setAttribute(n,i)},o0=function(e,n){return rt(e[n])?rI:Q_(e[n])&&e.setAttribute?dB:s0},sI=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},pB=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},oI=function(e,n){var i=n._pt,r="";if(!e&&n.b)r=n.b;else if(e===1&&n.e)r=n.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=n.c}n.set(n.t,n.p,r,n)},a0=function(e,n){for(var i=n._pt;i;)i.r(e,i.d),i=i._next},mB=function(e,n,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,n,i),s=o},gB=function(e){for(var n=this._pt,i,r;n;)r=n._next,n.p===e&&!n.op||n.op===e?rp(this,n,"_pt"):n.dep||(i=1),n=r;return!i},yB=function(e,n,i,r){r.mSet(e,n,r.m.call(r.tween,i,r.mt),r)},aI=function(e){for(var n=e._pt,i,r,s,o;n;){for(i=n._next,r=s;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:o)?n._prev._next=n:s=n,(n._next=r)?r._prev=n:o=n,n=i}e._pt=s},Sn=function(){function t(n,i,r,s,o,a,l,c,f){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||sI,this.d=l||this,this.set=c||s0,this.pr=f||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=yB,this.m=i,this.mt=s,this.tween=r},t}();En(e0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return J_[t]=1});Gn.TweenMax=Gn.TweenLite=ft;Gn.TimelineLite=Gn.TimelineMax=un;Ke=new un({sortChildren:!1,defaults:Ja,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$n.stringFilter=XA;var fo=[],af={},vB=[],j1=0,_B=0,Am=function(e){return(af[e]||vB).map(function(n){return n()})},Vy=function(){var e=Date.now(),n=[];e-j1>2&&(Am("matchMediaInit"),fo.forEach(function(i){var r=i.queries,s=i.conditions,o,a,l,c;for(a in r)o=Ni.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&n.push(i))}),Am("matchMediaRevert"),n.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),j1=e,Am("matchMedia"))},lI=function(){function t(n,i){this.selector=i&&Iy(i),this.data=[],this._r=[],this.isReverted=!1,this.id=_B++,n&&this.add(n)}var e=t.prototype;return e.add=function(i,r,s){rt(i)&&(s=r,r=i,i=rt);var o=this,a=function(){var c=We,f=o.selector,u;return c&&c!==o&&c.data.push(o),s&&(o.selector=Iy(s)),We=o,u=r.apply(o,arguments),rt(u)&&o._r.push(u),We=c,o.selector=f,o.isReverted=!1,u};return o.last=a,i===rt?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var r=We;We=null,i(this),We=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof t?i.push.apply(i,r.getTweens()):r instanceof ft&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,u){return u.g-f.g||-1/0}).forEach(function(f){return f.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof un?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof ft)&&c.revert&&c.revert(i);s._r.forEach(function(f){return f(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=fo.length;o--;)fo[o].id===this.id&&fo.splice(o,1)},e.revert=function(i){this.kill(i||{})},t}(),wB=function(){function t(n){this.contexts=[],this.scope=n,We&&We.data.push(this)}var e=t.prototype;return e.add=function(i,r,s){Qi(i)||(i={matches:i});var o=new lI(0,s||this.scope),a=o.conditions={},l,c,f;We&&!o.selector&&(o.selector=We.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(c in i)c==="all"?f=1:(l=Ni.matchMedia(i[c]),l&&(fo.indexOf(o)<0&&fo.push(o),(a[c]=l.matches)&&(f=1),l.addListener?l.addListener(Vy):l.addEventListener("change",Vy)));return f&&r(o,function(u){return o.add(null,u)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},t}(),od={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(r){return GA(r)})},timeline:function(e){return new un(e)},getTweensOf:function(e,n){return Ke.getTweensOf(e,n)},getProperty:function(e,n,i,r){kt(e)&&(e=ui(e)[0]);var s=uo(e||{}).get,o=i?DA:VA;return i==="native"&&(i=""),e&&(n?o((Dn[n]&&Dn[n].get||s)(e,n,i,r)):function(a,l,c){return o((Dn[a]&&Dn[a].get||s)(e,a,l,c))})},quickSetter:function(e,n,i){if(e=ui(e),e.length>1){var r=e.map(function(f){return An.quickSetter(f,n,i)}),s=r.length;return function(f){for(var u=s;u--;)r[u](f)}}e=e[0]||{};var o=Dn[n],a=uo(e),l=a.harness&&(a.harness.aliases||{})[n]||n,c=o?function(f){var u=new o;da._pt=0,u.init(e,i?f+i:f,da,0,[e]),u.render(1,u),da._pt&&a0(1,da)}:a.set(e,l);return o?c:function(f){return c(e,l,i?f+i:f,a,1)}},quickTo:function(e,n,i){var r,s=An.to(e,Kn((r={},r[n]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),o=function(l,c,f){return s.resetTo(n,l,c,f)};return o.tween=s,o},isTweening:function(e){return Ke.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ho(e.ease,Ja.ease)),D1(Ja,e||{})},config:function(e){return D1($n,e||{})},registerEffect:function(e){var n=e.name,i=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!Dn[a]&&!Gn[a]&&oc(n+" effect requires "+a+" plugin.")}),Sm[n]=function(a,l,c){return i(ui(a),Kn(l||{},s),c)},o&&(un.prototype[n]=function(a,l,c){return this.add(Sm[n](a,Qi(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,n){we[e]=ho(n)},parseEase:function(e,n){return arguments.length?ho(e,n):we},getById:function(e){return Ke.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var i=new un(e),r,s;for(i.smoothChildTiming=bn(e.smoothChildTiming),Ke.remove(i),i._dp=0,i._time=i._tTime=Ke._time,r=Ke._first;r;)s=r._next,(n||!(!r._dur&&r instanceof ft&&r.vars.onComplete===r._targets[0]))&&Fi(i,r,r._start-r._delay),r=s;return Fi(Ke,i,0),i},context:function(e,n){return e?new lI(e,n):We},matchMedia:function(e){return new wB(e)},matchMediaRefresh:function(){return fo.forEach(function(e){var n=e.conditions,i,r;for(r in n)n[r]&&(n[r]=!1,i=1);i&&e.revert()})||Vy()},addEventListener:function(e,n){var i=af[e]||(af[e]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function(e,n){var i=af[e],r=i&&i.indexOf(n);r>=0&&i.splice(r,1)},utils:{wrap:Zz,wrapYoyo:Jz,distribute:BA,random:$A,snap:UA,normalize:Yz,getUnit:Xt,clamp:Gz,splitColor:KA,toArray:ui,selector:Iy,mapRange:WA,pipe:Qz,unitize:Xz,interpolate:eB,shuffle:zA},install:PA,effects:Sm,ticker:On,updateRoot:un.updateRoot,plugins:Dn,globalTimeline:Ke,core:{PropTween:Sn,globals:AA,Tween:ft,Timeline:un,Animation:cc,getCache:uo,_removeLinkedListItem:rp,reverting:function(){return Nt},context:function(e){return e&&We&&(We.data.push(e),e._ctx=We),We},suppressOverwrites:function(e){return K_=e}}};En("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return od[t]=ft[t]});On.add(un.updateRoot);da=od.to({},{duration:0});var xB=function(e,n){for(var i=e._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},TB=function(e,n){var i=e._targets,r,s,o;for(r in n)for(s=i.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=xB(o,r)),o&&o.modifier&&o.modifier(n[r],e,i[s],r))},Im=function(e,n){return{name:e,headless:1,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(kt(s)&&(l={},En(s,function(f){return l[f]=1}),s=l),n){l={};for(c in s)l[c]=n(s[c]);s=l}TB(a,s)}}}},An=od.registerPlugin({name:"attr",init:function(e,n,i,r,s){var o,a,l;this.tween=i;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var i=n._pt;i;)Nt?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,n){for(var i=n.length;i--;)this.add(e,i,e[i]||0,n[i],0,0,0,0,0,1)}},Im("roundProps",Ry),Im("modifiers"),Im("snap",UA))||od;ft.version=un.version=An.version="3.14.2";kA=1;X_()&&il();we.Power0;we.Power1;we.Power2;we.Power3;we.Power4;we.Linear;we.Quad;we.Cubic;we.Quart;we.Quint;we.Strong;we.Elastic;we.Back;we.SteppedEase;we.Bounce;we.Sine;we.Expo;we.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var z1,$r,Pa,l0,Js,B1,u0,bB=function(){return typeof window<"u"},Tr={},Hs=180/Math.PI,Aa=Math.PI/180,$o=Math.atan2,U1=1e8,c0=/([A-Z])/g,EB=/(left|right|width|margin|padding|x)/i,SB=/[\s,\(]\S/,ji={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Dy=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},CB=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},kB=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},PB=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},AB=function(e,n){var i=n.s+n.c*e;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},uI=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},cI=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},IB=function(e,n,i){return e.style[n]=i},RB=function(e,n,i){return e.style.setProperty(n,i)},MB=function(e,n,i){return e._gsap[n]=i},VB=function(e,n,i){return e._gsap.scaleX=e._gsap.scaleY=i},DB=function(e,n,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},OB=function(e,n,i,r,s){var o=e._gsap;o[n]=i,o.renderTransform(s,o)},Xe="transform",Cn=Xe+"Origin",NB=function t(e,n){var i=this,r=this.target,s=r.style,o=r._gsap;if(e in Tr&&s){if(this.tfm=this.tfm||{},e!=="transform")e=ji[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=ir(r,a)}):this.tfm[e]=o.x?o[e]:ir(r,e),e===Cn&&(this.tfm.zOrigin=o.zOrigin);else return ji.transform.split(",").forEach(function(a){return t.call(i,a,n)});if(this.props.indexOf(Xe)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Cn,n,"")),e=Xe}(s||n)&&this.props.push(e,n,s[e])},hI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},LB=function(){var e=this.props,n=this.target,i=n.style,r=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(c0,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=u0(),(!s||!s.isStart)&&!i[Xe]&&(hI(i),r.zOrigin&&i[Cn]&&(i[Cn]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},fI=function(e,n){var i={target:e,props:[],revert:LB,save:NB};return e._gsap||An.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(r){return i.save(r)}),i},dI,Oy=function(e,n){var i=$r.createElementNS?$r.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):$r.createElement(e);return i&&i.style?i:$r.createElement(e)},jn=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(c0,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,rl(n)||n,1)||""},$1="O,Moz,ms,Ms,Webkit".split(","),rl=function(e,n,i){var r=n||Js,s=r.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!($1[o]+e in s););return o<0?null:(o===3?"ms":o>=0?$1[o]:"")+e},Ny=function(){bB()&&window.document&&(z1=window,$r=z1.document,Pa=$r.documentElement,Js=Oy("div")||{style:{}},Oy("div"),Xe=rl(Xe),Cn=Xe+"Origin",Js.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",dI=!!rl("perspective"),u0=An.core.reverting,l0=1)},q1=function(e){var n=e.ownerSVGElement,i=Oy("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),Pa.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),Pa.removeChild(i),s},W1=function(e,n){for(var i=n.length;i--;)if(e.hasAttribute(n[i]))return e.getAttribute(n[i])},pI=function(e){var n,i;try{n=e.getBBox()}catch{n=q1(e),i=1}return n&&(n.width||n.height)||i||(n=q1(e)),n&&!n.width&&!n.x&&!n.y?{x:+W1(e,["x","cx","x1"])||0,y:+W1(e,["y","cy","y1"])||0,width:0,height:0}:n},mI=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&pI(e))},ys=function(e,n){if(n){var i=e.style,r;n in Tr&&n!==Cn&&(n=Xe),i.removeProperty?(r=n.substr(0,2),(r==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),i.removeProperty(r==="--"?n:n.replace(c0,"-$1").toLowerCase())):i.removeAttribute(n)}},qr=function(e,n,i,r,s,o){var a=new Sn(e._pt,n,i,0,1,o?cI:uI);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},H1={deg:1,rad:1,turn:1},FB={grid:1,flex:1},vs=function t(e,n,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Js.style,l=EB.test(n),c=e.tagName.toLowerCase()==="svg",f=(c?"client":"offset")+(l?"Width":"Height"),u=100,h=r==="px",p=r==="%",m,g,v,_;if(r===o||!s||H1[r]||H1[o])return s;if(o!=="px"&&!h&&(s=t(e,n,i,"px")),_=e.getCTM&&mI(e),(p||o==="%")&&(Tr[n]||~n.indexOf("adius")))return m=_?e.getBBox()[l?"width":"height"]:e[f],ot(p?s/m*u:s/100*m);if(a[l?"width":"height"]=u+(h?o:r),g=r!=="rem"&&~n.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,_&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===$r||!g.appendChild)&&(g=$r.body),v=g._gsap,v&&p&&v.width&&l&&v.time===On.time&&!v.uncache)return ot(s/v.width*u);if(p&&(n==="height"||n==="width")){var w=e.style[n];e.style[n]=u+r,m=e[f],w?e.style[n]=w:ys(e,n)}else(p||o==="%")&&!FB[jn(g,"display")]&&(a.position=jn(e,"position")),g===e&&(a.position="static"),g.appendChild(Js),m=Js[f],g.removeChild(Js),a.position="absolute";return l&&p&&(v=uo(g),v.time=On.time,v.width=g[f]),ot(h?m*s/u:m&&s?u/m*s:0)},ir=function(e,n,i,r){var s;return l0||Ny(),n in ji&&n!=="transform"&&(n=ji[n],~n.indexOf(",")&&(n=n.split(",")[0])),Tr[n]&&n!=="transform"?(s=fc(e,r),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:ld(jn(e,Cn))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=ad[n]&&ad[n](e,n,i)||jn(e,n)||RA(e,n)||(n==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?vs(e,n,s,i)+i:s},jB=function(e,n,i,r){if(!i||i==="none"){var s=rl(n,e,1),o=s&&jn(e,s,1);o&&o!==i?(n=s,i=o):n==="borderColor"&&(i=jn(e,"borderTopColor"))}var a=new Sn(this._pt,e.style,n,0,1,oI),l=0,c=0,f,u,h,p,m,g,v,_,w,x,C,I;if(a.b=i,a.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=jn(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(g=e.style[n],e.style[n]=r,r=jn(e,n)||r,g?e.style[n]=g:ys(e,n)),f=[i,r],XA(f),i=f[0],r=f[1],h=i.match(fa)||[],I=r.match(fa)||[],I.length){for(;u=fa.exec(r);)v=u[0],w=r.substring(l,u.index),m?m=(m+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(m=1),v!==(g=h[c++]||"")&&(p=parseFloat(g)||0,C=g.substr((p+"").length),v.charAt(1)==="="&&(v=ka(p,v)+C),_=parseFloat(v),x=v.substr((_+"").length),l=fa.lastIndex-x.length,x||(x=x||$n.units[n]||C,l===r.length&&(r+=x,a.e+=x)),C!==x&&(p=vs(e,n,g,x)||0),a._pt={_next:a._pt,p:w||c===1?w:",",s:p,c:_-p,m:m&&m<4||n==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=n==="display"&&r==="none"?cI:uI;return CA.test(r)&&(a.e=0),this._pt=a,a},G1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},zB=function(e){var n=e.split(" "),i=n[0],r=n[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),n[0]=G1[i]||i,n[1]=G1[r]||r,n.join(" ")},BB=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var i=n.t,r=i.style,s=n.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Tr[a]&&(l=1,a=a==="transformOrigin"?Cn:Xe),ys(i,a);l&&(ys(i,Xe),o&&(o.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",fc(i,1),o.uncache=1,hI(r)))}},ad={clearProps:function(e,n,i,r,s){if(s.data!=="isFromStart"){var o=e._pt=new Sn(e._pt,n,i,0,0,BB);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},hc=[1,0,0,1,0,0],gI={},yI=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},K1=function(e){var n=jn(e,Xe);return yI(n)?hc:n.substr(7).match(SA).map(ot)},h0=function(e,n){var i=e._gsap||uo(e),r=e.style,s=K1(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?hc:s):(s===hc&&!e.offsetParent&&e!==Pa&&!i.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,Pa.appendChild(e)),s=K1(e),l?r.display=l:ys(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Pa.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Ly=function(e,n,i,r,s,o){var a=e._gsap,l=s||h0(e,!0),c=a.xOrigin||0,f=a.yOrigin||0,u=a.xOffset||0,h=a.yOffset||0,p=l[0],m=l[1],g=l[2],v=l[3],_=l[4],w=l[5],x=n.split(" "),C=parseFloat(x[0])||0,I=parseFloat(x[1])||0,D,k,b,E;i?l!==hc&&(k=p*v-m*g)&&(b=C*(v/k)+I*(-g/k)+(g*w-v*_)/k,E=C*(-m/k)+I*(p/k)-(p*w-m*_)/k,C=b,I=E):(D=pI(e),C=D.x+(~x[0].indexOf("%")?C/100*D.width:C),I=D.y+(~(x[1]||x[0]).indexOf("%")?I/100*D.height:I)),r||r!==!1&&a.smooth?(_=C-c,w=I-f,a.xOffset=u+(_*p+w*g)-_,a.yOffset=h+(_*m+w*v)-w):a.xOffset=a.yOffset=0,a.xOrigin=C,a.yOrigin=I,a.smooth=!!r,a.origin=n,a.originIsAbsolute=!!i,e.style[Cn]="0px 0px",o&&(qr(o,a,"xOrigin",c,C),qr(o,a,"yOrigin",f,I),qr(o,a,"xOffset",u,a.xOffset),qr(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",C+" "+I)},fc=function(e,n){var i=e._gsap||new eI(e);if("x"in i&&!n&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=jn(e,Cn)||"0",f,u,h,p,m,g,v,_,w,x,C,I,D,k,b,E,P,M,V,A,z,Z,Q,te,q,Y,L,O,$,X,ee,re;return f=u=h=g=v=_=w=x=C=0,p=m=1,i.svg=!!(e.getCTM&&mI(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Xe]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Xe]!=="none"?l[Xe]:"")),r.scale=r.rotate=r.translate="none"),k=h0(e,i.svg),i.svg&&(i.uncache?(q=e.getBBox(),c=i.xOrigin-q.x+"px "+(i.yOrigin-q.y)+"px",te=""):te=!n&&e.getAttribute("data-svg-origin"),Ly(e,te||c,!!te||i.originIsAbsolute,i.smooth!==!1,k)),I=i.xOrigin||0,D=i.yOrigin||0,k!==hc&&(M=k[0],V=k[1],A=k[2],z=k[3],f=Z=k[4],u=Q=k[5],k.length===6?(p=Math.sqrt(M*M+V*V),m=Math.sqrt(z*z+A*A),g=M||V?$o(V,M)*Hs:0,w=A||z?$o(A,z)*Hs+g:0,w&&(m*=Math.abs(Math.cos(w*Aa))),i.svg&&(f-=I-(I*M+D*A),u-=D-(I*V+D*z))):(re=k[6],X=k[7],L=k[8],O=k[9],$=k[10],ee=k[11],f=k[12],u=k[13],h=k[14],b=$o(re,$),v=b*Hs,b&&(E=Math.cos(-b),P=Math.sin(-b),te=Z*E+L*P,q=Q*E+O*P,Y=re*E+$*P,L=Z*-P+L*E,O=Q*-P+O*E,$=re*-P+$*E,ee=X*-P+ee*E,Z=te,Q=q,re=Y),b=$o(-A,$),_=b*Hs,b&&(E=Math.cos(-b),P=Math.sin(-b),te=M*E-L*P,q=V*E-O*P,Y=A*E-$*P,ee=z*P+ee*E,M=te,V=q,A=Y),b=$o(V,M),g=b*Hs,b&&(E=Math.cos(b),P=Math.sin(b),te=M*E+V*P,q=Z*E+Q*P,V=V*E-M*P,Q=Q*E-Z*P,M=te,Z=q),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,_=180-_),p=ot(Math.sqrt(M*M+V*V+A*A)),m=ot(Math.sqrt(Q*Q+re*re)),b=$o(Z,Q),w=Math.abs(b)>2e-4?b*Hs:0,C=ee?1/(ee<0?-ee:ee):0),i.svg&&(te=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!yI(jn(e,Xe)),te&&e.setAttribute("transform",te))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(p*=-1,w+=g<=0?180:-180,g+=g<=0?180:-180):(m*=-1,w+=w<=0?180:-180)),n=n||i.uncache,i.x=f-((i.xPercent=f&&(!n&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=u-((i.yPercent=u&&(!n&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=h+o,i.scaleX=ot(p),i.scaleY=ot(m),i.rotation=ot(g)+a,i.rotationX=ot(v)+a,i.rotationY=ot(_)+a,i.skewX=w+a,i.skewY=x+a,i.transformPerspective=C+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!n&&i.zOrigin||0)&&(r[Cn]=ld(c)),i.xOffset=i.yOffset=0,i.force3D=$n.force3D,i.renderTransform=i.svg?$B:dI?vI:UB,i.uncache=0,i},ld=function(e){return(e=e.split(" "))[0]+" "+e[1]},Rm=function(e,n,i){var r=Xt(n);return ot(parseFloat(n)+parseFloat(vs(e,"x",i+"px",r)))+r},UB=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,vI(e,n)},Vs="0deg",Hl="0px",Ds=") ",vI=function(e,n){var i=n||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,f=i.rotationY,u=i.rotationX,h=i.skewX,p=i.skewY,m=i.scaleX,g=i.scaleY,v=i.transformPerspective,_=i.force3D,w=i.target,x=i.zOrigin,C="",I=_==="auto"&&e&&e!==1||_===!0;if(x&&(u!==Vs||f!==Vs)){var D=parseFloat(f)*Aa,k=Math.sin(D),b=Math.cos(D),E;D=parseFloat(u)*Aa,E=Math.cos(D),o=Rm(w,o,k*E*-x),a=Rm(w,a,-Math.sin(D)*-x),l=Rm(w,l,b*E*-x+x)}v!==Hl&&(C+="perspective("+v+Ds),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(I||o!==Hl||a!==Hl||l!==Hl)&&(C+=l!==Hl||I?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Ds),c!==Vs&&(C+="rotate("+c+Ds),f!==Vs&&(C+="rotateY("+f+Ds),u!==Vs&&(C+="rotateX("+u+Ds),(h!==Vs||p!==Vs)&&(C+="skew("+h+", "+p+Ds),(m!==1||g!==1)&&(C+="scale("+m+", "+g+Ds),w.style[Xe]=C||"translate(0, 0)"},$B=function(e,n){var i=n||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,f=i.skewY,u=i.scaleX,h=i.scaleY,p=i.target,m=i.xOrigin,g=i.yOrigin,v=i.xOffset,_=i.yOffset,w=i.forceCSS,x=parseFloat(o),C=parseFloat(a),I,D,k,b,E;l=parseFloat(l),c=parseFloat(c),f=parseFloat(f),f&&(f=parseFloat(f),c+=f,l+=f),l||c?(l*=Aa,c*=Aa,I=Math.cos(l)*u,D=Math.sin(l)*u,k=Math.sin(l-c)*-h,b=Math.cos(l-c)*h,c&&(f*=Aa,E=Math.tan(c-f),E=Math.sqrt(1+E*E),k*=E,b*=E,f&&(E=Math.tan(f),E=Math.sqrt(1+E*E),I*=E,D*=E)),I=ot(I),D=ot(D),k=ot(k),b=ot(b)):(I=u,b=h,D=k=0),(x&&!~(o+"").indexOf("px")||C&&!~(a+"").indexOf("px"))&&(x=vs(p,"x",o,"px"),C=vs(p,"y",a,"px")),(m||g||v||_)&&(x=ot(x+m-(m*I+g*k)+v),C=ot(C+g-(m*D+g*b)+_)),(r||s)&&(E=p.getBBox(),x=ot(x+r/100*E.width),C=ot(C+s/100*E.height)),E="matrix("+I+","+D+","+k+","+b+","+x+","+C+")",p.setAttribute("transform",E),w&&(p.style[Xe]=E)},qB=function(e,n,i,r,s){var o=360,a=kt(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Hs:1),c=l-r,f=r+c+"deg",u,h;return a&&(u=s.split("_")[1],u==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),u==="cw"&&c<0?c=(c+o*U1)%o-~~(c/o)*o:u==="ccw"&&c>0&&(c=(c-o*U1)%o-~~(c/o)*o)),e._pt=h=new Sn(e._pt,n,i,r,c,CB),h.e=f,h.u="deg",e._props.push(i),h},Q1=function(e,n){for(var i in n)e[i]=n[i];return e},WB=function(e,n,i){var r=Q1({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,f,u,h,p,m;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[Xe]=n,a=fc(i,1),ys(i,Xe),i.setAttribute("transform",c)):(c=getComputedStyle(i)[Xe],o[Xe]=n,a=fc(i,1),o[Xe]=c);for(l in Tr)c=r[l],f=a[l],c!==f&&s.indexOf(l)<0&&(p=Xt(c),m=Xt(f),u=p!==m?vs(i,l,c,m):parseFloat(c),h=parseFloat(f),e._pt=new Sn(e._pt,a,l,u,h-u,Dy),e._pt.u=m||0,e._props.push(l));Q1(a,r)};En("padding,margin,Width,Radius",function(t,e){var n="Top",i="Right",r="Bottom",s="Left",o=(e<3?[n,i,r,s]:[n+s,n+i,r+i,r+s]).map(function(a){return e<2?t+a:"border"+a+t});ad[e>1?"border"+t:t]=function(a,l,c,f,u){var h,p;if(arguments.length<4)return h=o.map(function(m){return ir(a,m,c)}),p=h.join(" "),p.split(h[0]).length===5?h[0]:p;h=(f+"").split(" "),p={},o.forEach(function(m,g){return p[m]=h[g]=h[g]||h[(g-1)/2|0]}),a.init(l,p,u)}});var _I={name:"css",register:Ny,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,i,r,s){var o=this._props,a=e.style,l=i.vars.startAt,c,f,u,h,p,m,g,v,_,w,x,C,I,D,k,b,E;l0||Ny(),this.styles=this.styles||fI(e),b=this.styles.props,this.tween=i;for(g in n)if(g!=="autoRound"&&(f=n[g],!(Dn[g]&&tI(g,n,i,r,e,s)))){if(p=typeof f,m=ad[g],p==="function"&&(f=f.call(i,r,e,s),p=typeof f),p==="string"&&~f.indexOf("random(")&&(f=lc(f)),m)m(this,e,g,f,i)&&(k=1);else if(g.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(g)+"").trim(),f+="",os.lastIndex=0,os.test(c)||(v=Xt(c),_=Xt(f),_?v!==_&&(c=vs(e,g,c,_)+_):v&&(f+=v)),this.add(a,"setProperty",c,f,r,s,0,0,g),o.push(g),b.push(g,0,a[g]);else if(p!=="undefined"){if(l&&g in l?(c=typeof l[g]=="function"?l[g].call(i,r,e,s):l[g],kt(c)&&~c.indexOf("random(")&&(c=lc(c)),Xt(c+"")||c==="auto"||(c+=$n.units[g]||Xt(ir(e,g))||""),(c+"").charAt(1)==="="&&(c=ir(e,g))):c=ir(e,g),h=parseFloat(c),w=p==="string"&&f.charAt(1)==="="&&f.substr(0,2),w&&(f=f.substr(2)),u=parseFloat(f),g in ji&&(g==="autoAlpha"&&(h===1&&ir(e,"visibility")==="hidden"&&u&&(h=0),b.push("visibility",0,a.visibility),qr(this,a,"visibility",h?"inherit":"hidden",u?"inherit":"hidden",!u)),g!=="scale"&&g!=="transform"&&(g=ji[g],~g.indexOf(",")&&(g=g.split(",")[0]))),x=g in Tr,x){if(this.styles.save(g),E=f,p==="string"&&f.substring(0,6)==="var(--"){if(f=jn(e,f.substring(4,f.indexOf(")"))),f.substring(0,5)==="calc("){var P=e.style.perspective;e.style.perspective=f,f=jn(e,"perspective"),P?e.style.perspective=P:ys(e,"perspective")}u=parseFloat(f)}if(C||(I=e._gsap,I.renderTransform&&!n.parseTransform||fc(e,n.parseTransform),D=n.smoothOrigin!==!1&&I.smooth,C=this._pt=new Sn(this._pt,a,Xe,0,1,I.renderTransform,I,0,-1),C.dep=1),g==="scale")this._pt=new Sn(this._pt,I,"scaleY",I.scaleY,(w?ka(I.scaleY,w+u):u)-I.scaleY||0,Dy),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){b.push(Cn,0,a[Cn]),f=zB(f),I.svg?Ly(e,f,0,D,0,this):(_=parseFloat(f.split(" ")[2])||0,_!==I.zOrigin&&qr(this,I,"zOrigin",I.zOrigin,_),qr(this,a,g,ld(c),ld(f)));continue}else if(g==="svgOrigin"){Ly(e,f,1,D,0,this);continue}else if(g in gI){qB(this,I,g,h,w?ka(h,w+f):f);continue}else if(g==="smoothOrigin"){qr(this,I,"smooth",I.smooth,f);continue}else if(g==="force3D"){I[g]=f;continue}else if(g==="transform"){WB(this,f,e);continue}}else g in a||(g=rl(g)||g);if(x||(u||u===0)&&(h||h===0)&&!SB.test(f)&&g in a)v=(c+"").substr((h+"").length),u||(u=0),_=Xt(f)||(g in $n.units?$n.units[g]:v),v!==_&&(h=vs(e,g,c,_)),this._pt=new Sn(this._pt,x?I:a,g,h,(w?ka(h,w+u):u)-h,!x&&(_==="px"||g==="zIndex")&&n.autoRound!==!1?AB:Dy),this._pt.u=_||0,x&&E!==f?(this._pt.b=c,this._pt.e=E,this._pt.r=PB):v!==_&&_!=="%"&&(this._pt.b=c,this._pt.r=kB);else if(g in a)jB.call(this,e,g,c,w?w+f:f);else if(g in e)this.add(e,g,c||e[g],w?w+f:f,r,s);else if(g!=="parseTransform"){Z_(g,f);continue}x||(g in a?b.push(g,0,a[g]):typeof e[g]=="function"?b.push(g,2,e[g]()):b.push(g,1,c||e[g])),o.push(g)}}k&&aI(this)},render:function(e,n){if(n.tween._time||!u0())for(var i=n._pt;i;)i.r(e,i.d),i=i._next;else n.styles.revert()},get:ir,aliases:ji,getSetter:function(e,n,i){var r=ji[n];return r&&r.indexOf(",")<0&&(n=r),n in Tr&&n!==Cn&&(e._gsap.x||ir(e,"x"))?i&&B1===i?n==="scale"?VB:MB:(B1=i||{})&&(n==="scale"?DB:OB):e.style&&!Q_(e.style[n])?IB:~n.indexOf("-")?RB:o0(e,n)},core:{_removeProperty:ys,_getMatrix:h0}};An.utils.checkPrefix=rl;An.core.getStyleSaver=fI;(function(t,e,n,i){var r=En(t+","+e+","+n,function(s){Tr[s]=1});En(e,function(s){$n.units[s]="deg",gI[s]=1}),ji[r[13]]=t+","+e,En(i,function(s){var o=s.split(":");ji[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");En("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){$n.units[t]="px"});An.registerPlugin(_I);var ri=An.registerPlugin(_I)||An;ri.core.Tween;var f0={};(function t(e,n,i,r){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),O=L.getContext("2d");O.fillRect(0,0,1,1);var $=L.transferToImageBitmap();O.createPattern($,"no-repeat")}catch{return!1}return!0}();function l(){}function c(L){var O=n.exports.Promise,$=O!==void 0?O:e.Promise;return typeof $=="function"?new $(L):(L(l,l),null)}var f=function(L,O){return{transform:function($){if(L)return $;if(O.has($))return O.get($);var X=new OffscreenCanvas($.width,$.height),ee=X.getContext("2d");return ee.drawImage($,0,0),O.set($,X),X},clear:function(){O.clear()}}}(a,new Map),u=function(){var L=Math.floor(16.666666666666668),O,$,X={},ee=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(O=function(re){var ae=Math.random();return X[ae]=requestAnimationFrame(function ne(me){ee===me||ee+L-1<me?(ee=me,delete X[ae],re()):X[ae]=requestAnimationFrame(ne)}),ae},$=function(re){X[re]&&cancelAnimationFrame(X[re])}):(O=function(re){return setTimeout(re,L)},$=function(re){return clearTimeout(re)}),{frame:O,cancel:$}}(),h=function(){var L,O,$={};function X(ee){function re(ae,ne){ee.postMessage({options:ae||{},callback:ne})}ee.init=function(ne){var me=ne.transferControlToOffscreen();ee.postMessage({canvas:me},[me])},ee.fire=function(ne,me,xe){if(O)return re(ne,null),O;var Te=Math.random().toString(36).slice(2);return O=c(function(ge){function B(fe){fe.data.callback===Te&&(delete $[Te],ee.removeEventListener("message",B),O=null,f.clear(),xe(),ge())}ee.addEventListener("message",B),re(ne,Te),$[Te]=B.bind(null,{data:{callback:Te}})}),O},ee.reset=function(){ee.postMessage({reset:!0});for(var ne in $)$[ne](),delete $[ne]}}return function(){if(L)return L;if(!i&&s){var ee=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([ee])))}catch(re){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",re),null}X(L)}return L}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(L,O){return O?O(L):L}function g(L){return L!=null}function v(L,O,$){return m(L&&g(L[O])?L[O]:p[O],$)}function _(L){return L<0?0:Math.floor(L)}function w(L,O){return Math.floor(Math.random()*(O-L))+L}function x(L){return parseInt(L,16)}function C(L){return L.map(I)}function I(L){var O=String(L).replace(/[^0-9a-f]/gi,"");return O.length<6&&(O=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]),{r:x(O.substring(0,2)),g:x(O.substring(2,4)),b:x(O.substring(4,6))}}function D(L){var O=v(L,"origin",Object);return O.x=v(O,"x",Number),O.y=v(O,"y",Number),O}function k(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function b(L){var O=L.getBoundingClientRect();L.width=O.width,L.height=O.height}function E(L){var O=document.createElement("canvas");return O.style.position="fixed",O.style.top="0px",O.style.left="0px",O.style.pointerEvents="none",O.style.zIndex=L,O}function P(L,O,$,X,ee,re,ae,ne,me){L.save(),L.translate(O,$),L.rotate(re),L.scale(X,ee),L.arc(0,0,1,ae,ne,me),L.restore()}function M(L){var O=L.angle*(Math.PI/180),$=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-O+(.5*$-Math.random()*$),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function V(L,O){O.x+=Math.cos(O.angle2D)*O.velocity+O.drift,O.y+=Math.sin(O.angle2D)*O.velocity+O.gravity,O.velocity*=O.decay,O.flat?(O.wobble=0,O.wobbleX=O.x+10*O.scalar,O.wobbleY=O.y+10*O.scalar,O.tiltSin=0,O.tiltCos=0,O.random=1):(O.wobble+=O.wobbleSpeed,O.wobbleX=O.x+10*O.scalar*Math.cos(O.wobble),O.wobbleY=O.y+10*O.scalar*Math.sin(O.wobble),O.tiltAngle+=.1,O.tiltSin=Math.sin(O.tiltAngle),O.tiltCos=Math.cos(O.tiltAngle),O.random=Math.random()+2);var $=O.tick++/O.totalTicks,X=O.x+O.random*O.tiltCos,ee=O.y+O.random*O.tiltSin,re=O.wobbleX+O.random*O.tiltCos,ae=O.wobbleY+O.random*O.tiltSin;if(L.fillStyle="rgba("+O.color.r+", "+O.color.g+", "+O.color.b+", "+(1-$)+")",L.beginPath(),o&&O.shape.type==="path"&&typeof O.shape.path=="string"&&Array.isArray(O.shape.matrix))L.fill(te(O.shape.path,O.shape.matrix,O.x,O.y,Math.abs(re-X)*.1,Math.abs(ae-ee)*.1,Math.PI/10*O.wobble));else if(O.shape.type==="bitmap"){var ne=Math.PI/10*O.wobble,me=Math.abs(re-X)*.1,xe=Math.abs(ae-ee)*.1,Te=O.shape.bitmap.width*O.scalar,ge=O.shape.bitmap.height*O.scalar,B=new DOMMatrix([Math.cos(ne)*me,Math.sin(ne)*me,-Math.sin(ne)*xe,Math.cos(ne)*xe,O.x,O.y]);B.multiplySelf(new DOMMatrix(O.shape.matrix));var fe=L.createPattern(f.transform(O.shape.bitmap),"no-repeat");fe.setTransform(B),L.globalAlpha=1-$,L.fillStyle=fe,L.fillRect(O.x-Te/2,O.y-ge/2,Te,ge),L.globalAlpha=1}else if(O.shape==="circle")L.ellipse?L.ellipse(O.x,O.y,Math.abs(re-X)*O.ovalScalar,Math.abs(ae-ee)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI):P(L,O.x,O.y,Math.abs(re-X)*O.ovalScalar,Math.abs(ae-ee)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI);else if(O.shape==="star")for(var se=Math.PI/2*3,Fe=4*O.scalar,pn=8*O.scalar,In=O.x,gi=O.y,Mi=5,mn=Math.PI/Mi;Mi--;)In=O.x+Math.cos(se)*pn,gi=O.y+Math.sin(se)*pn,L.lineTo(In,gi),se+=mn,In=O.x+Math.cos(se)*Fe,gi=O.y+Math.sin(se)*Fe,L.lineTo(In,gi),se+=mn;else L.moveTo(Math.floor(O.x),Math.floor(O.y)),L.lineTo(Math.floor(O.wobbleX),Math.floor(ee)),L.lineTo(Math.floor(re),Math.floor(ae)),L.lineTo(Math.floor(X),Math.floor(O.wobbleY));return L.closePath(),L.fill(),O.tick<O.totalTicks}function A(L,O,$,X,ee){var re=O.slice(),ae=L.getContext("2d"),ne,me,xe=c(function(Te){function ge(){ne=me=null,ae.clearRect(0,0,X.width,X.height),f.clear(),ee(),Te()}function B(){i&&!(X.width===r.width&&X.height===r.height)&&(X.width=L.width=r.width,X.height=L.height=r.height),!X.width&&!X.height&&($(L),X.width=L.width,X.height=L.height),ae.clearRect(0,0,X.width,X.height),re=re.filter(function(fe){return V(ae,fe)}),re.length?ne=u.frame(B):ge()}ne=u.frame(B),me=ge});return{addFettis:function(Te){return re=re.concat(Te),xe},canvas:L,promise:xe,reset:function(){ne&&u.cancel(ne),me&&me()}}}function z(L,O){var $=!L,X=!!v(O||{},"resize"),ee=!1,re=v(O,"disableForReducedMotion",Boolean),ae=s&&!!v(O||{},"useWorker"),ne=ae?h():null,me=$?k:b,xe=L&&ne?!!L.__confetti_initialized:!1,Te=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ge;function B(se,Fe,pn){for(var In=v(se,"particleCount",_),gi=v(se,"angle",Number),Mi=v(se,"spread",Number),mn=v(se,"startVelocity",Number),Lc=v(se,"decay",Number),hp=v(se,"gravity",Number),vl=v(se,"drift",Number),No=v(se,"colors",C),Fc=v(se,"ticks",Number),gt=v(se,"shapes"),Pt=v(se,"scalar"),Lo=!!v(se,"flat"),_l=D(se),wl=In,xl=[],ks=L.width*_l.x,jc=L.height*_l.y;wl--;)xl.push(M({x:ks,y:jc,angle:gi,spread:Mi,startVelocity:mn,color:No[wl%No.length],shape:gt[w(0,gt.length)],ticks:Fc,decay:Lc,gravity:hp,drift:vl,scalar:Pt,flat:Lo}));return ge?ge.addFettis(xl):(ge=A(L,xl,me,Fe,pn),ge.promise)}function fe(se){var Fe=re||v(se,"disableForReducedMotion",Boolean),pn=v(se,"zIndex",Number);if(Fe&&Te)return c(function(mn){mn()});$&&ge?L=ge.canvas:$&&!L&&(L=E(pn),document.body.appendChild(L)),X&&!xe&&me(L);var In={width:L.width,height:L.height};ne&&!xe&&ne.init(L),xe=!0,ne&&(L.__confetti_initialized=!0);function gi(){if(ne){var mn={getBoundingClientRect:function(){if(!$)return L.getBoundingClientRect()}};me(mn),ne.postMessage({resize:{width:mn.width,height:mn.height}});return}In.width=In.height=null}function Mi(){ge=null,X&&(ee=!1,e.removeEventListener("resize",gi)),$&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,xe=!1)}return X&&!ee&&(ee=!0,e.addEventListener("resize",gi,!1)),ne?ne.fire(se,In,Mi):B(se,In,Mi)}return fe.reset=function(){ne&&ne.reset(),ge&&ge.reset()},fe}var Z;function Q(){return Z||(Z=z(null,{useWorker:!0,resize:!0})),Z}function te(L,O,$,X,ee,re,ae){var ne=new Path2D(L),me=new Path2D;me.addPath(ne,new DOMMatrix(O));var xe=new Path2D;return xe.addPath(me,new DOMMatrix([Math.cos(ae)*ee,Math.sin(ae)*ee,-Math.sin(ae)*re,Math.cos(ae)*re,$,X])),xe}function q(L){if(!o)throw new Error("path confetti are not supported in this browser");var O,$;typeof L=="string"?O=L:(O=L.path,$=L.matrix);var X=new Path2D(O),ee=document.createElement("canvas"),re=ee.getContext("2d");if(!$){for(var ae=1e3,ne=ae,me=ae,xe=0,Te=0,ge,B,fe=0;fe<ae;fe+=2)for(var se=0;se<ae;se+=2)re.isPointInPath(X,fe,se,"nonzero")&&(ne=Math.min(ne,fe),me=Math.min(me,se),xe=Math.max(xe,fe),Te=Math.max(Te,se));ge=xe-ne,B=Te-me;var Fe=10,pn=Math.min(Fe/ge,Fe/B);$=[pn,0,0,pn,-Math.round(ge/2+ne)*pn,-Math.round(B/2+me)*pn]}return{type:"path",path:O,matrix:$}}function Y(L){var O,$=1,X="#000000",ee='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?O=L:(O=L.text,$="scalar"in L?L.scalar:$,ee="fontFamily"in L?L.fontFamily:ee,X="color"in L?L.color:X);var re=10*$,ae=""+re+"px "+ee,ne=new OffscreenCanvas(re,re),me=ne.getContext("2d");me.font=ae;var xe=me.measureText(O),Te=Math.ceil(xe.actualBoundingBoxRight+xe.actualBoundingBoxLeft),ge=Math.ceil(xe.actualBoundingBoxAscent+xe.actualBoundingBoxDescent),B=2,fe=xe.actualBoundingBoxLeft+B,se=xe.actualBoundingBoxAscent+B;Te+=B+B,ge+=B+B,ne=new OffscreenCanvas(Te,ge),me=ne.getContext("2d"),me.font=ae,me.fillStyle=X,me.fillText(O,fe,se);var Fe=1/$;return{type:"bitmap",bitmap:ne.transferToImageBitmap(),matrix:[Fe,0,0,Fe,-Te*Fe/2,-ge*Fe/2]}}n.exports=function(){return Q().apply(this,arguments)},n.exports.reset=function(){Q().reset()},n.exports.create=z,n.exports.shapeFromPath=q,n.exports.shapeFromText=Y})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),f0,!1);const ap=f0.exports;f0.exports.create;let Nr=null,Oc=null;function wI(){Nr||(Nr=document.createElement("canvas"),Nr.style.cssText=`
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 10000;
  `,document.body.appendChild(Nr),Oc=ap.create(Nr,{resize:!0,useWorker:!0}))}function ud(t){const e=Oc||ap,n=(t==null?void 0:t.colors)||["#FFD700","#FFA500","#FF6B6B","#4ECDC4","#45B7D1"],r={normal:{particleCount:100,spread:70,duration:1},epic:{particleCount:200,spread:100,duration:2},legendary:{particleCount:300,spread:180,duration:3}}[(t==null?void 0:t.intensity)||"epic"];e({particleCount:r.particleCount,spread:r.spread,origin:{y:.7,x:.5},colors:n,startVelocity:45,gravity:.8,ticks:300}),r.duration>=2&&setTimeout(()=>{e({particleCount:50,angle:60,spread:55,origin:{x:0,y:.6},colors:n}),e({particleCount:50,angle:120,spread:55,origin:{x:1,y:.6},colors:n})},200),r.duration>=3&&setTimeout(()=>{e({particleCount:150,spread:180,origin:{y:.5,x:.5},colors:n,startVelocity:30,gravity:.5})},500)}function lf(t){(Oc||ap)({particleCount:30,spread:50,origin:t||{y:.7,x:.5},colors:["#FFD700","#FFA500"],startVelocity:25,gravity:1.2,ticks:100})}function HB(t){ud({colors:{"soggy-bottom-pirates":["#E4A11B","#4A90A4","#5C4033","#F5E6D3","#FF6B35"],"neon-nightmares":["#FF00FF","#00FFFF","#FF0080","#80FF00","#FFFF00"]}[t],intensity:"epic"})}function xI(t=3e3){const e=Oc||ap,n=Date.now()+t,i=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"],r=()=>{e({particleCount:3,angle:60,spread:55,origin:{x:0,y:.6},colors:i}),e({particleCount:3,angle:120,spread:55,origin:{x:1,y:.6},colors:i}),Date.now()<n&&requestAnimationFrame(r)};r()}function GB(){Nr&&(Nr.remove(),Nr=null,Oc=null)}function d0(){const{themeId:t,theme:e}=Tc(),n=N.useRef(null),i=N.useRef(!1);N.useEffect(()=>{if(!i.current)return wI(),yt.init(),i.current=!0,()=>{n.current&&n.current.kill()}},[]),N.useEffect(()=>{yt.loadTheme(t)},[t]);const r=N.useCallback((w,x)=>{yt.play(w,x)},[]),s=N.useCallback(()=>{yt.startBattleMusic()},[]),o=N.useCallback(()=>{yt.stopBattleMusic()},[]),a=N.useCallback(()=>{yt.startAmbient()},[]),l=N.useCallback(()=>{yt.stopAmbient()},[]),c=N.useCallback((w={})=>{const{intensity:x="medium",duration:C=.5}=w,D={subtle:{x:2,y:2,rotation:.5},medium:{x:5,y:5,rotation:1},heavy:{x:10,y:8,rotation:2},earthquake:{x:20,y:15,rotation:4}}[x],k=document.body,b=ri.timeline({onComplete:()=>{ri.set(k,{x:0,y:0,rotation:0})}}),E=Math.floor(C*20);for(let P=0;P<E;P++){const V=1-P/E;b.to(k,{x:(Math.random()-.5)*D.x*2*V,y:(Math.random()-.5)*D.y*2*V,rotation:(Math.random()-.5)*D.rotation*2*V,duration:C/E,ease:"none"})}return b},[]),f=N.useCallback(w=>{const{barsContainer:x,winnerBar:C,intensity:I="epic",confettiColors:D,onComplete:k}=w;n.current&&n.current.kill();const b=ri.timeline({onComplete:k});if(n.current=b,b.call(()=>{r("timerEnd")}),b.to(document.body,{scale:1.02,duration:.3,ease:"power2.in"}),b.add(c({intensity:"heavy",duration:.4}),"<"),b.to(document.body,{scale:1,duration:.2,ease:"power2.out"}),x){const E=x.querySelectorAll("[data-vote-bar]");b.fromTo(E,{scaleX:0,transformOrigin:"left center"},{scaleX:1,duration:.8,stagger:.15,ease:"power3.out"},"+=0.2")}return C&&(b.call(()=>{r("victory")}),b.to(C,{scale:1.1,duration:.3,ease:"back.out(1.7)"}),b.to(C,{boxShadow:"0 0 30px currentColor, 0 0 60px currentColor",duration:.2},"<"),b.call(()=>{C.classList.add("winner-glow")}),b.to(C,{scale:1,duration:.4,ease:"power2.out"},"+=0.3")),b.call(()=>{const E=D||KB(t);ud({colors:E,intensity:I})},[],"+=0.1"),b},[r,c,t]),u=N.useCallback(w=>{const{diceElement:x,sides:C,result:I,dc:D,isCritical:k,onComplete:b}=w;n.current&&n.current.kill();const E=ri.timeline({onComplete:()=>b==null?void 0:b(I)});if(n.current=E,!x)return console.warn("No dice element provided"),E;E.to(x,{scale:.8,rotateZ:-10,duration:.3,ease:"power2.in"}),E.call(()=>{r("diceRoll")});const P=1.5,M=15;for(let Z=0;Z<M;Z++){const Q=Z/M,te=1-Math.pow(1-Q,3);E.to(x,{rotateX:`+=${Math.random()*180+90}`,rotateY:`+=${Math.random()*180+90}`,rotateZ:`+=${Math.random()*90-45}`,scale:.8+te*.4,y:-20*(1-te),duration:P/M*(1+te*.5),ease:"power1.out"})}E.call(()=>{r("diceImpact"),c({intensity:"subtle",duration:.2})}),E.to(x,{rotateX:0,rotateY:0,rotateZ:0,scale:1.2,y:0,duration:.2,ease:"back.out(1.7)"}),E.to(x,{scale:1,duration:.3,ease:"power2.out"}),E.call(()=>{x.setAttribute("data-result",String(I))},[],"-=0.2");const V=D!==void 0&&I>=D;return C===20&&I===20||k&&V?(E.call(()=>{r("victory"),ud({intensity:"legendary",colors:["#FFD700","#FFFF00","#FFA500"]})}),E.to(x,{scale:1.5,duration:.3,ease:"back.out(2)"}),E.to(x,{boxShadow:"0 0 50px #FFD700, 0 0 100px #FFA500",duration:.2},"<")):I===1?(E.call(()=>{r("error")}),E.to(x,{filter:"grayscale(100%) brightness(0.5)",scale:.9,duration:.3}),E.to(x,{filter:"none",scale:1,duration:.5},"+=0.5")):V&&E.call(()=>{r("victory",{volume:.6}),lf({x:.5,y:.3})}),E},[r,c]),h=N.useCallback(w=>{if(yt.playCountdownTick(w),w<=5&&w>0){const x=1-w/5;ri.to(document.body,{scale:1+.02*x,duration:.1,yoyo:!0,repeat:1,ease:"power2.inOut"})}},[]),p=N.useCallback(w=>{r("votecast"),lf({x:.5,y:.7})},[r]),m=N.useCallback(()=>{s();const w=ri.timeline();return w.to(document.body,{filter:"saturate(1.3) contrast(1.1)",duration:.5}),c({intensity:"medium",duration:.3}),w},[s,c]),g=N.useCallback(()=>{o(),ri.to(document.body,{filter:"none",duration:1})},[o]),v=N.useCallback((w,x)=>{const C=ri.timeline();return C.to(document.body,{opacity:0,scale:.95,duration:.3,ease:"power2.in"}),C.call(()=>{yt.loadTheme(w),x(w),r("whoosh")}),C.to(document.body,{opacity:1,scale:1,duration:.5,ease:"power2.out"}),C.call(()=>{w==="neon-nightmares"?ri.to(document.body,{skewX:2,duration:.05,yoyo:!0,repeat:5}):w==="soggy-bottom-pirates"&&ri.from(document.body,{rotateZ:-1,duration:.5,ease:"sine.inOut",yoyo:!0,repeat:2})}),C},[r]),_=N.useCallback((w="quick")=>{switch(w){case"quick":lf();break;case"winner":HB(t);break;case"fireworks":xI(5e3);break}},[t]);return{playSound:r,startBattleMusic:s,stopBattleMusic:o,startAmbient:a,stopAmbient:l,shakeScreen:c,triggerCelebration:_,triggerWinnerReveal:f,triggerDiceRoll:u,triggerCountdownTick:h,triggerVoteCast:p,enterBattleMode:m,exitBattleMode:g,transitionTheme:v,audioMixer:yt}}function KB(t){const e={"tmp-base":["#FF1493","#00CED1","#FFD700","#FF6B6B","#4ECDC4"],"soggy-bottom-pirates":["#E4A11B","#4A90A4","#5C4033","#F5E6D3","#FF6B35"],"neon-nightmares":["#FF00FF","#00FFFF","#FF0080","#80FF00","#FFFF00"]};return e[t]||e["tmp-base"]}async function pa(t,e){try{const n={type:t,timestamp:Date.now(),serverTime:zF()};(e==null?void 0:e.intensity)!==void 0&&(n.intensity=e.intensity),(e==null?void 0:e.soundKey)!==void 0&&(n.soundKey=e.soundKey),await qt(ke(Pe,"config","live-cues"),n),console.log(` Broadcast cue: ${t}`,e)}catch(n){console.error("Failed to broadcast cue:",n)}}async function QB(){await pa("none")}function XB(t={}){const{enabled:e=!0,onCue:n}=t,{playSound:i,shakeScreen:r,triggerCelebration:s,enterBattleMode:o,exitBattleMode:a,startAmbient:l,stopAmbient:c}=d0(),f=N.useRef(0),u=N.useRef(!0),h=N.useCallback(p=>{if(!e){console.log(" Cue skipped (disabled)");return}if(p.timestamp<=f.current){console.log(" Cue skipped (already processed)",p.timestamp,"<=",f.current);return}if(u.current){console.log(" Cue skipped (first load - preventing replay of old cue)"),u.current=!1,f.current=p.timestamp;return}if(f.current=p.timestamp,n==null||n(p),p.type!=="none")switch(console.log(` EXECUTING CUE: ${p.type}`,p),p.type){case"battle-start":o();break;case"battle-end":a();break;case"celebration-quick":s("quick");break;case"celebration-winner":s("winner");break;case"celebration-fireworks":s("fireworks");break;case"shake-light":r({intensity:"subtle"});break;case"shake-heavy":r({intensity:"heavy"});break;case"shake-earthquake":r({intensity:"earthquake",duration:1});break;case"fanfare":i("victory");break;case"ambient-start":l();break;case"ambient-stop":c();break;case"sound-effect":p.soundKey&&i(p.soundKey);break;default:console.warn(`Unknown cue type: ${p.type}`)}},[e,n,i,r,s,o,a,l,c]);return N.useEffect(()=>{if(!e)return;console.log(" Cue listener starting up...");const p=Ii(ke(Pe,"config","live-cues"),m=>{if(m.exists()){const g=m.data();console.log(" Received cue from Firebase:",g.type,"timestamp:",g.timestamp),h(g)}else console.log(" No cue document exists yet")},m=>{console.error("Cue listener error:",m)});return()=>{console.log(" Cue listener shutting down"),p()}},[e,h]),{broadcastCue:pa,clearCue:QB}}const YB="misadventure2025";function ZB(){var ge;const[t,e]=N.useState(!1),[n,i]=N.useState(""),[r,s]=N.useState({type:"none"}),[o,a]=N.useState({question:"What should the party do?",options:[{id:"a",label:"Fight",emoji:""},{id:"b",label:"Flee",emoji:""}],isOpen:!1,timer:60}),[l,c]=N.useState({template:"The [ADJECTIVE] wizard casts [SPELL] at the [CREATURE]!"}),[f,u]=N.useState({description:"A mysterious tavern keeper with a scar across their face",selectionMode:"random"}),[h,p]=N.useState({prompt:"Stealth check to sneak past the guards!",diceType:"d20",dc:15,modifier:0}),[m,g]=N.useState({}),[v,_]=N.useState(0),[w,x]=N.useState(!1),{themeId:C,setThemeId:I}=Tc(),{playSound:D,startAmbient:k,stopAmbient:b,shakeScreen:E,triggerCelebration:P,enterBattleMode:M,exitBattleMode:V,audioMixer:A}=d0(),z=B=>{B?(M(),x(!0)):(V(),x(!1)),pa(B?"battle-start":"battle-end")},Z=B=>{P(B),pa(`celebration-${B}`)},Q=B=>{E({intensity:B==="light"?"subtle":B}),pa(`shake-${B}`)},te=B=>{B?k():b(),pa(B?"ambient-start":"ambient-stop")};N.useEffect(()=>{sessionStorage.getItem("mtp-admin-auth")==="true"&&e(!0)},[]),N.useEffect(()=>{if(!t)return;const B=Ii(ke(Pe,"config","active-interaction"),fe=>{fe.exists()&&s(fe.data())});return()=>B()},[t]),N.useEffect(()=>{if(!t)return;const B=Ii(ke(Pe,"votes","current-vote"),fe=>{if(fe.exists()){const se=fe.data();g(se.counts||{}),_(se.totalVotes||0)}else g({}),_(0)});return()=>B()},[t]);const q=B=>{B.preventDefault(),n===YB?(e(!0),sessionStorage.setItem("mtp-admin-auth","true")):alert("Wrong password, adventurer!")},Y=()=>{e(!1),sessionStorage.removeItem("mtp-admin-auth")},L=async()=>{try{console.log("Attempting to launch voting...");const B=`vote-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await qt(ke(Pe,"config","active-interaction"),{type:"vote",question:o.question,options:o.options,isOpen:!0,timer:o.timer,startedAt:Date.now(),sessionId:B}),console.log("active-interaction written successfully");const fe={};o.options.forEach(se=>{fe[se.id]=0}),await qt(ke(Pe,"votes","current-vote"),{counts:fe,totalVotes:0}),console.log("votes/current-vote written successfully")}catch(B){console.error("Failed to launch voting:",B),alert(`Failed to launch voting: ${B.message}`)}},O=async()=>{await qt(ke(Pe,"config","active-interaction"),{...r,isOpen:!1})},$=async()=>{await qt(ke(Pe,"config","active-interaction"),{...r,isOpen:!0,startedAt:Date.now()})},X=async()=>{await qt(ke(Pe,"config","active-interaction"),{type:"none"})},ee=async()=>{var se;if(!confirm("Reset all votes? This cannot be undone."))return;const B=`vote-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,fe={};(se=r.options)==null||se.forEach(Fe=>{fe[Fe.id]=0}),await qt(ke(Pe,"config","active-interaction"),{...r,sessionId:B,startedAt:Date.now()}),await qt(ke(Pe,"votes","current-vote"),{counts:fe,totalVotes:0})},re=async()=>{try{const B=[...l.template.matchAll(/\[([A-Z_]+)\]/g)].map(se=>se[1]),fe={};B.forEach(se=>{fe[se]=[]}),await qt(ke(Pe,"config","active-interaction"),{type:"madlibs"}),await qt(ke(Pe,"madlibs","current"),{template:l.template,blanks:B,currentBlankIndex:0,submissions:fe,winners:{},status:"collecting"})}catch(B){console.error("Failed to launch madlibs:",B),alert(`Failed to launch madlibs: ${B.message}`)}},ae=async()=>{try{await qt(ke(Pe,"config","active-interaction"),{type:"npc-naming"}),await qt(ke(Pe,"npc-naming","current"),{description:f.description,imageUrl:f.imageUrl||null,submissions:[],winner:null,status:"collecting",selectionMode:f.selectionMode})}catch(B){console.error("Failed to launch NPC naming:",B),alert(`Failed to launch NPC naming: ${B.message}`)}},ne=async()=>{try{await qt(ke(Pe,"config","active-interaction"),{type:"group-roll"}),await qt(ke(Pe,"group-roll","current"),{prompt:h.prompt,diceType:h.diceType,dc:h.dc,modifier:h.modifier,rolls:[],status:"rolling"})}catch(B){console.error("Failed to launch group roll:",B),alert(`Failed to launch group roll: ${B.message}`)}},me=(B,fe,se)=>{const Fe=[...o.options];Fe[B]={...Fe[B],[fe]:se},a({...o,options:Fe})},xe=()=>{o.options.length>=3||a({...o,options:[...o.options,{id:"c",label:"Option C",emoji:""}]})},Te=B=>{if(o.options.length<=2)return;const fe=o.options.filter((se,Fe)=>Fe!==B);a({...o,options:fe})};return t?S.jsxs("div",{className:"admin-container",children:[S.jsxs("header",{className:"admin-header",children:[S.jsx("h1",{children:" GM Control Panel"}),S.jsx("button",{onClick:Y,className:"logout-btn",children:"Logout"})]}),S.jsxs("div",{className:"admin-grid",children:[S.jsxs("section",{className:"admin-card status-card",children:[S.jsx("h2",{children:"Current Status"}),S.jsxs("div",{className:"status-indicator",children:[S.jsx("span",{className:`status-dot ${r.type!=="none"?"active":""}`}),S.jsxs("span",{children:[r.type==="none"&&"No active interaction",r.type==="vote"&&`Voting: ${r.isOpen?"OPEN":"CLOSED"}`]})]}),r.type==="vote"&&S.jsxs("div",{className:"live-stats",children:[S.jsxs("p",{children:[S.jsx("strong",{children:v})," votes cast"]}),S.jsx("div",{className:"vote-breakdown",children:(ge=r.options)==null?void 0:ge.map(B=>S.jsxs("div",{className:"vote-stat",children:[S.jsxs("span",{children:[B.emoji," ",B.label]}),S.jsx("span",{children:m[B.id]||0})]},B.id))})]})]}),r.type!=="none"&&S.jsxs("section",{className:"admin-card actions-card",children:[S.jsx("h2",{children:"Quick Actions"}),S.jsxs("div",{className:"action-buttons",children:[r.isOpen?S.jsx("button",{onClick:O,className:"btn-warning",children:" Close Voting"}):S.jsx("button",{onClick:$,className:"btn-success",children:" Reopen Voting"}),S.jsx("button",{onClick:ee,className:"btn-danger",children:" Reset Votes"}),S.jsx("button",{onClick:X,className:"btn-secondary",children:" End Interaction"})]})]}),S.jsxs("section",{className:"admin-card config-card",children:[S.jsx("h2",{children:"Configure Voting"}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Question"}),S.jsx("input",{type:"text",value:o.question,onChange:B=>a({...o,question:B.target.value}),placeholder:"What should the party do?"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Timer (seconds)"}),S.jsx("input",{type:"number",value:o.timer,onChange:B=>a({...o,timer:parseInt(B.target.value)||60}),min:"10",max:"300"})]}),S.jsxs("div",{className:"options-config",children:[S.jsxs("label",{children:["Options (",o.options.length,"/3)"]}),o.options.map((B,fe)=>S.jsxs("div",{className:"option-row",children:[S.jsx("input",{type:"text",value:B.emoji,onChange:se=>me(fe,"emoji",se.target.value),className:"emoji-input",placeholder:""}),S.jsx("input",{type:"text",value:B.label,onChange:se=>me(fe,"label",se.target.value),placeholder:"Option label"}),o.options.length>2&&S.jsx("button",{onClick:()=>Te(fe),className:"remove-btn",children:""})]},fe)),o.options.length<3&&S.jsx("button",{onClick:xe,className:"add-option-btn",children:"+ Add Third Option"})]}),S.jsx("button",{onClick:L,className:"btn-primary launch-btn",disabled:r.type!=="none",children:" Launch Voting"}),r.type!=="none"&&S.jsx("p",{className:"hint",children:"End current interaction first"})]}),S.jsxs("section",{className:"admin-card theme-card",children:[S.jsx("h2",{children:" Show Theme"}),S.jsx("p",{className:"theme-hint",children:"Changes apply to all connected audiences instantly"}),S.jsx("div",{className:"theme-options",children:Object.values($u).map(B=>S.jsxs("button",{className:`theme-btn ${C===B.id?"active":""}`,onClick:async()=>{I(B.id),await qt(ke(Pe,"config","theme"),{themeId:B.id})},children:[S.jsx("span",{className:"theme-name",children:B.name}),S.jsx("span",{className:"theme-desc",children:B.description})]},B.id))})]}),S.jsxs("section",{className:"admin-card cue-card",children:[S.jsx("h2",{children:" Awesome Mix - Live Cues"}),S.jsx("p",{className:"theme-hint",children:"Manual effect triggers for dramatic moments"}),S.jsxs("div",{className:"cue-grid",children:[S.jsxs("div",{className:"cue-group",children:[S.jsx("h3",{children:" Sound FX"}),S.jsxs("div",{className:"cue-buttons",children:[S.jsx("button",{className:"cue-btn sfx",onClick:()=>D("victory"),title:"Victory fanfare",children:" Victory"}),S.jsx("button",{className:"cue-btn sfx",onClick:()=>D("error"),title:"Failure sound",children:" Fail"}),S.jsx("button",{className:"cue-btn sfx",onClick:()=>D("whoosh"),title:"Transition swoosh",children:" Whoosh"}),S.jsx("button",{className:"cue-btn sfx",onClick:()=>D("diceRoll"),title:"Dice rolling sound",children:" Dice"})]})]}),S.jsxs("div",{className:"cue-group",children:[S.jsx("h3",{children:" Battle Mode"}),S.jsx("div",{className:"cue-buttons",children:S.jsx("button",{className:`cue-btn battle ${w?"active":""}`,onClick:()=>z(!w),children:w?" End Combat":" Start Combat!"})}),S.jsx("small",{className:"cue-hint",children:w?"Battle music playing... (synced to all displays)":"Triggers battle music + visual intensity on ALL displays"})]}),S.jsxs("div",{className:"cue-group",children:[S.jsx("h3",{children:" Ambient"}),S.jsxs("div",{className:"cue-buttons",children:[S.jsx("button",{className:"cue-btn ambient",onClick:()=>te(!0),title:"Start ambient loop on all displays",children:" Start Ambient"}),S.jsx("button",{className:"cue-btn ambient",onClick:()=>te(!1),title:"Stop ambient loop on all displays",children:" Stop"})]})]}),S.jsxs("div",{className:"cue-group",children:[S.jsx("h3",{children:" Celebrations"}),S.jsxs("div",{className:"cue-buttons",children:[S.jsx("button",{className:"cue-btn celebration",onClick:()=>Z("quick"),title:"Small confetti burst (all displays)",children:" Quick"}),S.jsx("button",{className:"cue-btn celebration epic",onClick:()=>Z("winner"),title:"Winner reveal celebration (all displays)",children:" Winner"}),S.jsx("button",{className:"cue-btn celebration legendary",onClick:()=>Z("fireworks"),title:"Full fireworks display (all displays)",children:" Fireworks"})]})]}),S.jsxs("div",{className:"cue-group",children:[S.jsx("h3",{children:" Screen FX"}),S.jsxs("div",{className:"cue-buttons",children:[S.jsx("button",{className:"cue-btn screen",onClick:()=>Q("light"),children:"Shake (Light)"}),S.jsx("button",{className:"cue-btn screen",onClick:()=>Q("heavy"),children:"Shake (Heavy)"}),S.jsx("button",{className:"cue-btn screen danger",onClick:()=>Q("earthquake"),children:" EARTHQUAKE"})]})]}),S.jsxs("div",{className:"cue-group",children:[S.jsx("h3",{children:" Audio Test"}),S.jsxs("div",{className:"cue-buttons",children:[S.jsx("button",{className:"cue-btn test",onClick:()=>{A.init(),D("uiClick")},title:"Initialize audio (required for first interaction)",children:" Unlock Audio"}),S.jsx("button",{className:"cue-btn test",onClick:()=>A.toggleMute(),children:" Toggle Mute"})]}),S.jsx("small",{className:"cue-hint",children:'Click "Unlock Audio" once to enable sounds (browser requirement)'})]})]})]}),S.jsxs("section",{className:"admin-card config-card",children:[S.jsx("h2",{children:" Madlibs D&D"}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Template"}),S.jsx("textarea",{value:l.template,onChange:B=>c({...l,template:B.target.value}),placeholder:"The [ADJECTIVE] wizard casts [SPELL]...",rows:3}),S.jsx("small",{children:"Use [ADJECTIVE], [NOUN], [VERB], [CREATURE], [SPELL], etc."})]}),S.jsx("button",{onClick:re,className:"btn-primary",disabled:r.type!=="none",children:" Launch Madlibs"})]}),S.jsxs("section",{className:"admin-card config-card",children:[S.jsx("h2",{children:" NPC Naming"}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"NPC Description"}),S.jsx("textarea",{value:f.description,onChange:B=>u({...f,description:B.target.value}),placeholder:"A mysterious tavern keeper...",rows:2})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Selection Mode"}),S.jsxs("select",{value:f.selectionMode,onChange:B=>u({...f,selectionMode:B.target.value}),children:[S.jsx("option",{value:"random",children:"Random Pick"}),S.jsx("option",{value:"vote",children:"Audience Vote"}),S.jsx("option",{value:"gm-pick",children:"GM Picks"})]})]}),S.jsx("button",{onClick:ae,className:"btn-primary",disabled:r.type!=="none",children:" Launch NPC Naming"})]}),S.jsxs("section",{className:"admin-card config-card",children:[S.jsx("h2",{children:" Group Roll"}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Prompt"}),S.jsx("input",{type:"text",value:h.prompt,onChange:B=>p({...h,prompt:B.target.value}),placeholder:"Stealth check!"})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Dice"}),S.jsxs("select",{value:h.diceType,onChange:B=>p({...h,diceType:B.target.value}),children:[S.jsx("option",{value:"d20",children:"d20"}),S.jsx("option",{value:"d12",children:"d12"}),S.jsx("option",{value:"d10",children:"d10"}),S.jsx("option",{value:"d8",children:"d8"}),S.jsx("option",{value:"d6",children:"d6"}),S.jsx("option",{value:"d4",children:"d4"})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"DC"}),S.jsx("input",{type:"number",value:h.dc,onChange:B=>p({...h,dc:parseInt(B.target.value)||10}),min:"1",max:"30"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Modifier"}),S.jsx("input",{type:"number",value:h.modifier,onChange:B=>p({...h,modifier:parseInt(B.target.value)||0}),min:"-10",max:"10"})]})]}),S.jsx("button",{onClick:ne,className:"btn-primary",disabled:r.type!=="none",children:" Launch Group Roll"})]})]})]}):S.jsx("div",{className:"admin-container",children:S.jsxs("div",{className:"login-card",children:[S.jsx("h1",{children:" GM Portal"}),S.jsx("p",{children:"Enter the secret phrase to continue"}),S.jsxs("form",{onSubmit:q,children:[S.jsx("input",{type:"password",value:n,onChange:B=>i(B.target.value),placeholder:"Password",autoFocus:!0}),S.jsx("button",{type:"submit",children:"Enter the Tavern"})]})]})})}function JB({testData:t}){var _,w,x;const{themeId:e,theme:n}=Tc(),{playSound:i,shakeScreen:r}=d0(),[s,o]=N.useState(t??null),[a,l]=N.useState(null),[c,f]=N.useState(!1),[u,h]=N.useState(0),p=N.useRef(null),m=N.useRef(null);N.useEffect(()=>{if(t)return;const C=Ii(ke(Pe,"group-roll","current"),I=>{I.exists()?o(I.data()):o(null)});return()=>C()},[t]),N.useEffect(()=>{var I;if(!s||s.status!=="rolling")return;const C=((I=s.rolls)==null?void 0:I.length)||0;if(C>u&&C>0){const D=s.rolls[s.rolls.length-1];g(D.result)}h(C)},[(_=s==null?void 0:s.rolls)==null?void 0:_.length]),N.useEffect(()=>{(s==null?void 0:s.status)==="rolling"&&(l(null),h(0))},[s==null?void 0:s.status]);const g=N.useCallback(C=>{if(!p.current||c)return;f(!0),i("diceRoll");const I=p.current,D=(s==null?void 0:s.diceType)||"d20",k=parseInt(D.replace("d","")),b=(s==null?void 0:s.dc)||10,E=(s==null?void 0:s.modifier)||0,P=C+E,M=k===20&&C===20,V=C===1,A=P>=b,z=ri.timeline({onComplete:()=>{f(!1),l(C)}});z.to(I,{y:-50,scale:.8,rotateX:-30,rotateY:-30,duration:.3,ease:"power2.out"});const Z=12,Q=1.2,te=I.querySelector(".dice-number");for(let q=0;q<Z;q++){const Y=q/Z,L=Q/Z*(1+Y*.8),O=1-Y*.7;z.to(I,{rotateX:`+=${180+Math.random()*180}`,rotateY:`+=${180+Math.random()*180}`,rotateZ:`+=${(Math.random()-.5)*60}`,y:-30*O,scale:.85+Y*.35,duration:L,ease:Y<.5?"none":"power1.out",onStart:()=>{if(te){const $=Math.floor(Math.random()*k)+1;te.textContent=String($)}}})}z.call(()=>{i("diceImpact"),r({intensity:M||V?"heavy":"medium",duration:.3})}),z.to(I,{y:10,rotateX:0,rotateY:0,rotateZ:0,scale:1.3,duration:.15,ease:"power4.in"}),z.to(I,{y:0,scale:1.1,duration:.2,ease:"bounce.out"}),z.call(()=>{te&&(te.textContent=String(C))},[],"<"),M?(z.call(()=>{i("victory"),I.classList.add("nat-20")}),z.to(I,{scale:1.5,boxShadow:"0 0 60px #FFD700, 0 0 120px #FFA500, 0 0 180px #FFD700",duration:.4,ease:"back.out(2)"}),z.call(()=>{xI(4e3)},[],"-=0.2")):V?(z.call(()=>{i("error"),I.classList.add("nat-1")}),z.to(I,{filter:"grayscale(100%) brightness(0.5)",scale:.9,rotateZ:5,duration:.3}),z.to(I,{rotateZ:-5,duration:.1,repeat:3,yoyo:!0}),z.to(I,{filter:"none",scale:1,rotateZ:0,duration:.5},"+=0.5")):A?(z.call(()=>{I.classList.add("success"),lf({x:.5,y:.4})}),z.to(I,{boxShadow:`0 0 30px ${n.colors.status.success}`,duration:.3})):(z.call(()=>{I.classList.add("fail")}),z.to(I,{boxShadow:`0 0 20px ${n.colors.status.error}`,duration:.3})),z.to(I,{scale:1,duration:.4,ease:"power2.out"},"+=0.5")},[c,i,r,s,n]),v=N.useCallback(()=>{var Z;if(!((Z=s==null?void 0:s.rolls)!=null&&Z.length))return null;const C=s.rolls,I=s.modifier||0,D=s.dc||10,k=C.filter(Q=>Q.result+I>=D).length,b=C.length-k,E=C.reduce((Q,te)=>Q+te.result,0),P=E/C.length,M=Math.max(...C.map(Q=>Q.result)),V=Math.min(...C.map(Q=>Q.result)),A=C.filter(Q=>Q.result===20).length,z=C.filter(Q=>Q.result===1).length;return{successes:k,failures:b,total:E,average:P,highest:M,lowest:V,nat20s:A,nat1s:z,successRate:k/C.length*100}},[s]);if(!s||s.status==="idle")return S.jsxs("div",{className:`dice-roller-display idle theme-${e}`,ref:m,children:[S.jsx(Ae.div,{className:"idle-dice",animate:{rotateY:[0,360],rotateX:[0,15,0,-15,0]},transition:{rotateY:{duration:8,repeat:1/0,ease:"linear"},rotateX:{duration:4,repeat:1/0,ease:"easeInOut"}},children:S.jsx("div",{className:"dice-3d d20",children:S.jsx("div",{className:"dice-face",children:S.jsx("span",{className:"dice-number",children:"20"})})})}),S.jsx("h2",{className:"idle-text",children:"Awaiting Roll..."})]});if(s.status==="rolling"){const C=((w=s.rolls)==null?void 0:w.length)||0,I=s.diceType||"d20";return S.jsxs("div",{className:`dice-roller-display rolling theme-${e}`,ref:m,children:[S.jsx("h2",{className:"roll-prompt",children:s.prompt||"Roll!"}),S.jsxs("div",{className:"roll-info-bar",children:[S.jsx("span",{className:"dice-type-badge",children:I}),s.modifier!==0&&S.jsxs("span",{className:"modifier-badge",children:[s.modifier>0?"+":"",s.modifier]}),S.jsxs("span",{className:"dc-badge",children:["DC ",s.dc]})]}),S.jsx("div",{className:"dice-stage",children:S.jsx("div",{ref:p,className:`dice-3d ${I} ${c?"rolling":""}`,children:S.jsx("div",{className:"dice-face",children:S.jsx("span",{className:"dice-number",children:a??"?"})})})}),S.jsxs(Ae.div,{className:"roll-counter",initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},children:[S.jsx("span",{className:"count",children:C}),S.jsx("span",{className:"label",children:"Adventurers Rolling"})]},C),S.jsx("div",{className:"live-roll-feed",children:S.jsx(sc,{mode:"popLayout",children:(x=s.rolls)==null?void 0:x.slice(-8).map(D=>S.jsx(Ae.div,{className:`roll-pip ${D.result===20?"nat-20":D.result===1?"nat-1":D.result+(s.modifier||0)>=(s.dc||10)?"success":"fail"}`,initial:{scale:0,x:50,opacity:0},animate:{scale:1,x:0,opacity:1},exit:{scale:0,x:-50,opacity:0},transition:{type:"spring",stiffness:500,damping:25},children:D.result},D.timestamp))})})]})}if(s.status==="results"){const C=v();return C?S.jsxs("div",{className:`dice-roller-display results theme-${e}`,ref:m,children:[S.jsx(Ae.h2,{className:"results-title",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},children:"The Dice Have Spoken!"}),S.jsxs("div",{className:"results-hero",children:[S.jsxs(Ae.div,{className:"hero-stat successes",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:[S.jsx("span",{className:"value",children:C.successes}),S.jsx("span",{className:"label",children:"Successes"})]}),S.jsxs(Ae.div,{className:"hero-stat failures",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:[S.jsx("span",{className:"value",children:C.failures}),S.jsx("span",{className:"label",children:"Failures"})]})]}),S.jsxs("div",{className:"success-rate-container",children:[S.jsx("div",{className:"success-rate-bar",children:S.jsx(Ae.div,{className:"success-fill",initial:{width:0},animate:{width:`${C.successRate}%`},transition:{delay:.5,duration:1,ease:"easeOut"}})}),S.jsxs(Ae.span,{className:"success-rate-label",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:[Math.round(C.successRate),"% Success Rate"]})]}),S.jsxs(Ae.div,{className:"stats-grid",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:[S.jsxs("div",{className:"stat",children:[S.jsx("span",{className:"value",children:C.average.toFixed(1)}),S.jsx("span",{className:"label",children:"Average"})]}),S.jsxs("div",{className:"stat highlight",children:[S.jsx("span",{className:"value",children:C.highest}),S.jsx("span",{className:"label",children:"Highest"})]}),S.jsxs("div",{className:"stat",children:[S.jsx("span",{className:"value",children:C.lowest}),S.jsx("span",{className:"label",children:"Lowest"})]}),C.nat20s>0&&S.jsxs("div",{className:"stat nat-20",children:[S.jsx("span",{className:"value",children:C.nat20s}),S.jsx("span",{className:"label",children:"NAT 20s! "})]}),C.nat1s>0&&S.jsxs("div",{className:"stat nat-1",children:[S.jsx("span",{className:"value",children:C.nat1s}),S.jsx("span",{className:"label",children:"NAT 1s "})]})]})]}):null}return null}const eo="generated",e9="pointerdown",t9="pointerup",Fy="pointerleave",n9="pointerout",bo="pointermove",i9="touchstart",X1="touchend",r9="touchmove",s9="touchcancel",o9="resize",a9="visibilitychange",pi="tsParticles - Error",Wr=100,wt=.5,Yt=1e3,Gt={x:0,y:0,z:0},Ah={a:1,b:0,c:0,d:1},sl="random",uf="mid",Zt=2,l9=Math.PI*Zt,Mm=60,TI="true",Y1="false",Vm="canvas",Z1=0,rr=2,J1=4,u9=1,eb=1,tb=1,c9=4,bI=1,cf=255,to=360,jy=100,zy=100,nb=0,By=0,h9=60,f9=0,cd=.25,ib=wt+cd,rb=0,d9=1,p9=0,m9=0,g9=1,p0=1,y9=1,sb=1,hd=0,EI=1,v9=0,_9=120,w9=0,x9=0,T9=1e4,b9=0,E9=1,fd=0,SI=1,S9=1,C9=0,ob=1,k9=0,P9=0,ab=-cd,lb=1.5,ub=0,A9=1,I9=0,Uy=0,CI=1,R9=1,dd=1,M9=500,cb=50,V9=0,$y=1,kI=0,hb=1,D9=0,Os=255,Dm=3,Om=6,O9=1,N9=1,L9=0,F9=0,j9=0,z9=0;var Rt;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(Rt||(Rt={}));function PI(t){return typeof t=="boolean"}function _s(t){return typeof t=="string"}function ws(t){return typeof t=="number"}function ma(t){return typeof t=="object"&&t!==null}function Xi(t){return Array.isArray(t)}function G(t){return t==null}class Mn{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!ws(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:Gt.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??Gt.z;else throw new Error(`${pi} Vector3d not initialized correctly`)}static get origin(){return Mn.create(Gt.x,Gt.y,Gt.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Mn.create(e.x,e.y,e.z)}static create(e,n,i){return new Mn(e,n,i)}add(e){return Mn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Mn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Mn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**rr+this.y**rr}mult(e){return Mn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=fd&&this.multTo(bI/e)}rotate(e){return Mn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Gt.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:Gt.z}sub(e){return Mn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Ct extends Mn{constructor(e,n){super(e,n,Gt.z)}static get origin(){return Ct.create(Gt.x,Gt.y)}static clone(e){return Ct.create(e.x,e.y)}static create(e,n){return new Ct(e,n)}}let B9=Math.random;const AI={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)};function De(){return mi(B9(),0,1-Number.EPSILON)}function U9(t){return AI.nextFrame(t)}function $9(t){AI.cancel(t)}function mi(t,e,n){return Math.min(Math.max(t,e),n)}function Nm(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function zn(t){const e=zi(t),n=0;let i=lp(t);return e===i&&(i=n),De()*(e-i)+i}function oe(t){return ws(t)?t:zn(t)}function lp(t){return ws(t)?t:t.min}function zi(t){return ws(t)?t:t.max}function Re(t,e){if(t===e||e===void 0&&ws(t))return t;const n=lp(t),i=zi(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:Re(n,i)}function hn(t,e){const n=t.x-e.x,i=t.y-e.y,r=2;return{dx:n,dy:i,distance:Math.sqrt(n**r+i**r)}}function qn(t,e){return hn(t,e).distance}function as(t){return t*Math.PI/180}function q9(t,e,n){if(ws(t))return as(t);switch(t){case Rt.top:return-Math.PI*wt;case Rt.topRight:return-Math.PI*cd;case Rt.right:return f9;case Rt.bottomRight:return Math.PI*cd;case Rt.bottom:return Math.PI*wt;case Rt.bottomLeft:return Math.PI*ib;case Rt.left:return Math.PI;case Rt.topLeft:return-Math.PI*ib;case Rt.inside:return Math.atan2(n.y-e.y,n.x-e.x);case Rt.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return De()*l9}}function W9(t){const e=Ct.origin;return e.length=1,e.angle=t,e}function fb(t,e,n,i){return Ct.create(t.x*(n-i)/(n+i)+e.x*Zt*i/(n+i),t.y)}function H9(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??De()*t.size.width,y:((n=t.position)==null?void 0:n.y)??De()*t.size.height}}function II(t){return t?t.endsWith("%")?parseFloat(t)/Wr:parseFloat(t):1}var no;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(no||(no={}));var dt;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(dt||(dt={}));var Eo;(function(t){t.none="none",t.max="max",t.min="min"})(Eo||(Eo={}));var ve;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(ve||(ve={}));var ol;(function(t){t.precise="precise",t.percent="percent"})(ol||(ol={}));var Ia;(function(t){t.max="max",t.min="min",t.random="random"})(Ia||(Ia={}));const G9={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function So(){return G9}function K9(t){const e=new Map;return(...n)=>{const i=JSON.stringify(n);if(e.has(i))return e.get(i);const r=t(...n);return e.set(i,r),r}}function db(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)*wt&&o>rb||n.min<=r.max&&n.min>(r.max+r.min)*wt&&o<rb)&&(e.velocity=o*-a,e.bounced=!0),e}function Q9(t,e){const n=Yn(e,i=>t.matches(i));return Xi(n)?n.some(i=>i):n}function Co(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function X9(){return!Co()&&typeof matchMedia<"u"}function RI(t){if(X9())return matchMedia(t)}function Y9(t){if(!(Co()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function Z9(t){if(!(Co()||typeof MutationObserver>"u"))return new MutationObserver(t)}function ut(t,e){return t===e||Xi(e)&&e.indexOf(t)>-1}async function pb(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function J9(t){return Math.floor(De()*t.length)}function up(t,e,n=!0){return t[e!==void 0&&n?e%t.length:J9(t)]}function m0(t,e,n,i,r){return eU(Nc(t,i??0),e,n,r)}function eU(t,e,n,i){let r=!0;return(!i||i===ve.bottom)&&(r=t.top<e.height+n.x),r&&(!i||i===ve.left)&&(r=t.right>n.x),r&&(!i||i===ve.right)&&(r=t.left<e.width+n.y),r&&(!i||i===ve.top)&&(r=t.bottom>n.y),r}function Nc(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function nn(t,...e){for(const n of e){if(n==null)continue;if(!ma(n)){t=n;continue}const i=Array.isArray(n);i&&(ma(t)||!t||!Array.isArray(t))?t=[]:!i&&(ma(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=ma(o)&&Array.isArray(o)?o.map(l=>nn(a[r],l)):nn(a[r],o)}}return t}function g0(t,e){return!!DI(e,n=>n.enable&&ut(t,n.mode))}function y0(t,e,n){Yn(e,i=>{const r=i.mode;i.enable&&ut(t,r)&&tU(i,n)})}function tU(t,e){const n=t.selectors;Yn(n,i=>{e(i,t)})}function MI(t,e){if(!(!e||!t))return DI(t,n=>Q9(e,n.selectors))}function qy(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:Ct.create(oe(t.options.bounce.horizontal.value),oe(t.options.bounce.vertical.value))}}function VI(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=hn(s,r);if(n*o+i*a<0)return;const c=-Math.atan2(a,o),f=t.mass,u=e.mass,h=t.velocity.rotate(c),p=e.velocity.rotate(c),m=fb(h,p,f,u),g=fb(p,h,f,u),v=m.rotate(-c),_=g.rotate(-c);t.velocity.x=v.x*t.factor.x,t.velocity.y=v.y*t.factor.y,e.velocity.x=_.x*e.factor.x,e.velocity.y=_.y*e.factor.y}function nU(t,e){const n=t.getPosition(),i=t.getRadius(),r=Nc(n,i),s=t.options.bounce,o=db({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:oe(s.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=db({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:oe(s.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function Yn(t,e){return Xi(t)?t.map((i,r)=>e(i,r)):e(t,0)}function ci(t,e,n){return Xi(t)?up(t,e,n):t}function DI(t,e){return Xi(t)?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}function OI(t,e){const n=t.value,i=t.animation,r={delayTime:oe(i.delay)*Yt,enable:i.enable,value:oe(t.value)*e,max:zi(n)*e,min:lp(n)*e,loops:0,maxLoops:oe(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-oe(i.decay),i.mode){case no.increase:r.status=dt.increasing;break;case no.decrease:r.status=dt.decreasing;break;case no.random:r.status=De()>=wt?dt.increasing:dt.decreasing;break}const o=i.mode===no.auto;switch(i.startValue){case Ia.min:r.value=r.min,o&&(r.status=dt.increasing);break;case Ia.max:r.value=r.max,o&&(r.status=dt.decreasing);break;case Ia.random:default:r.value=zn(r),o&&(r.status=De()>=wt?dt.increasing:dt.decreasing);break}}return r.initialValue=r.value,r}function iU(t,e){if(!(t.mode===ol.percent)){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/Wr*e.width,y:t.y/Wr*e.height}:{width:t.width/Wr*e.width,height:t.height/Wr*e.height}}function NI(t,e){return iU(t,e)}function rU(t,e,n,i,r){switch(e){case Eo.max:n>=r&&t.destroy();break;case Eo.min:n<=i&&t.destroy();break}}function v0(t,e,n,i,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const f=(e.velocity??0)*r.factor,u=e.min,h=e.max,p=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case dt.increasing:e.value>=h?(n?e.status=dt.decreasing:e.value-=h,e.loops||(e.loops=0),e.loops++):e.value+=f;break;case dt.decreasing:e.value<=u?(n?e.status=dt.increasing:e.value+=h,e.loops||(e.loops=0),e.loops++):e.value-=f}e.velocity&&p!==1&&(e.velocity*=p),rU(t,i,e.value,u,h),t.destroyed||(e.value=mi(e.value,u,h))}}function sU(t){var n,i,r,s;const e=document.createElement("div").style;if(!t)return e;for(const o in t){const a=t[o];if(!Object.prototype.hasOwnProperty.call(t,o)||G(a))continue;const l=(n=t.getPropertyValue)==null?void 0:n.call(t,a);if(!l)continue;const c=(i=t.getPropertyPriority)==null?void 0:i.call(t,a);c?(s=e.setProperty)==null||s.call(e,a,l,c):(r=e.setProperty)==null||r.call(e,a,l)}return e}function oU(t){const e=document.createElement("div").style,n=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:t.toString(n),"z-index":t.toString(n),top:"0",left:"0"};for(const r in i){const s=i[r];e.setProperty(r,s)}return e}const aU=K9(oU);var Wy;(function(t){t.darken="darken",t.enlighten="enlighten"})(Wy||(Wy={}));function lU(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function ki(t,e,n,i=!0){if(!e)return;const r=_s(e)?{value:e}:e;if(_s(r.value))return LI(t,r.value,n,i);if(Xi(r.value))return ki(t,{value:up(r.value,n,i)});for(const s of t.colorManagers.values()){const o=s.handleRangeColor(r);if(o)return o}}function LI(t,e,n,i=!0){if(!e)return;const r=_s(e)?{value:e}:e;if(_s(r.value))return r.value===sl?jI():uU(t,r.value);if(Xi(r.value))return LI(t,{value:up(r.value,n,i)});for(const s of t.colorManagers.values()){const o=s.handleColor(r);if(o)return o}}function dc(t,e,n,i=!0){const r=ki(t,e,n,i);return r?FI(r):void 0}function FI(t){const e=t.r/cf,n=t.g/cf,i=t.b/cf,r=Math.max(e,n,i),s=Math.min(e,n,i),o={h:nb,l:(r+s)*wt,s:By};return r!==s&&(o.s=o.l<wt?(r-s)/(r+s):(r-s)/(Zt-r-s),o.h=e===r?(n-i)/(r-s):o.h=n===r?Zt+(i-e)/(r-s):Zt*Zt+(e-n)/(r-s)),o.l*=zy,o.s*=jy,o.h*=h9,o.h<nb&&(o.h+=to),o.h>=to&&(o.h-=to),o}function uU(t,e){return lU(t,e)}function al(t){const e=(t.h%to+to)%to,n=Math.max(By,Math.min(jy,t.s)),i=Math.max(D9,Math.min(zy,t.l)),r=e/to,s=n/jy,o=i/zy;if(n===By){const m=Math.round(o*Os);return{r:m,g:m,b:m}}const a=(m,g,v)=>{if(v<0&&v++,v>1&&v--,v*Om<1)return m+(g-m)*Om*v;if(v*Zt<1)return g;if(v*Dm<1*Zt){const x=Zt/Dm;return m+(g-m)*(x-v)*Om}return m},l=o<wt?o*(O9+s):o+s-o*s,c=Zt*o-l,f=N9/Dm,u=Math.min(Os,Os*a(c,l,r+f)),h=Math.min(Os,Os*a(c,l,r)),p=Math.min(Os,Os*a(c,l,r-f));return{r:Math.round(u),g:Math.round(h),b:Math.round(p)}}function cU(t){const e=al(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function jI(t){const e=L9,n=cf+$y;return{b:Math.floor(zn(Re(e,n))),g:Math.floor(zn(Re(e,n))),r:Math.floor(zn(Re(e,n)))}}function fr(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??p0})`}function pc(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??p0})`}function _0(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=al(t)),s.r===void 0&&(s=al(e)),{b:Nm(r.b,s.b,n,i),g:Nm(r.g,s.g,n,i),r:Nm(r.r,s.r,n,i)}}function Hy(t,e,n){if(n===sl)return jI();if(n===uf){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return _0(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return al(s)}}else return n}function zI(t,e,n,i){const r=_s(e)?e:e.value;return r===sl?i?ki(t,{value:r}):n?sl:uf:r===uf?uf:ki(t,{value:r})}function mb(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function BI(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Lm(i.h,e.h,n),Lm(i.s,e.s,n),Lm(i.l,e.l,n)),i}function Lm(t,e,n){t.enable=e.enable,t.enable?(t.velocity=oe(e.speed)/Wr*n,t.decay=SI-oe(e.decay),t.status=dt.increasing,t.loops=j9,t.maxLoops=oe(e.count),t.time=z9,t.delayTime=oe(e.delay)*Yt,e.sync||(t.velocity*=De(),t.value*=De()),t.initialValue=t.value,t.offset=Re(e.offset)):t.velocity=F9}function Fm(t,e,n,i){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=i.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const f=t.offset?zn(t.offset):0,u=(t.velocity??0)*i.factor+f*3.6,h=t.decay??1,p=zi(e),m=lp(e);!n||t.status===dt.increasing?(t.value+=u,t.value>p&&(t.loops||(t.loops=0),t.loops++,n?t.status=dt.decreasing:t.value-=p)):(t.value-=u,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=dt.increasing)),t.velocity&&h!==1&&(t.velocity*=h),t.value=mi(t.value,m,p)}function UI(t,e){if(!t)return;const{h:n,s:i,l:r}=t,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&Fm(n,s.h,!1,e),i&&Fm(i,s.s,!0,e),r&&Fm(r,s.l,!0,e)}function Su(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function hU(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(Gt.x,Gt.y,e.width,e.height)}function fU(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,Gt.x,Gt.y,e.width,e.height),t.globalAlpha=1)}function jm(t,e){t.clearRect(Gt.x,Gt.y,e.width,e.height)}function dU(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:f,transform:u}=t,h=i.getPosition(),p=i.rotation+(i.pathRotation?i.velocity.angle:V9),m={sin:Math.sin(p),cos:Math.cos(p)},g=!!p,v={a:m.cos*(u.a??Ah.a),b:g?m.sin*(u.b??$y):u.b??Ah.b,c:g?-m.sin*(u.c??$y):u.c??Ah.c,d:m.cos*(u.d??Ah.d)};n.setTransform(v.a,v.b,v.c,v.d,h.x,h.y),o&&(n.globalCompositeOperation=a);const _=i.shadowColor;f.enable&&_&&(n.shadowBlur=f.blur,n.shadowColor=fr(_),n.shadowOffsetX=f.offset.x,n.shadowOffsetY=f.offset.y),s.fill&&(n.fillStyle=s.fill);const w=i.strokeWidth??kI;n.lineWidth=w,s.stroke&&(n.strokeStyle=s.stroke);const x={container:e,context:n,particle:i,radius:l,opacity:c,delta:r,transformData:v,strokeWidth:w};mU(x),gU(x),pU(x),n.globalCompositeOperation="source-over",n.resetTransform()}function pU(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function mU(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,strokeWidth:a,transformData:l}=t;if(!i.shape)return;const c=e.shapeDrawers.get(i.shape);c&&(n.beginPath(),c.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),i.shapeClose&&n.closePath(),a>kI&&n.stroke(),i.shapeFill&&n.fill())}function gU(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);l!=null&&l.afterDraw&&l.afterDraw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function yU(t,e,n){e.draw&&e.draw(t,n)}function vU(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function _U(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===Wy.darken?-hb:hb)*n}}function wU(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??d9)*i)}function gb(t,e,n=!1){if(!e)return;const i=t;if(!i)return;const r=i.style;if(!r)return;const s=new Set;for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.add(r[o]);for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.add(e[o]);for(const o of s){const a=e.getPropertyValue(o);a?r.setProperty(o,a,n?"important":""):r.removeProperty(o)}}class xU{constructor(e,n){this.container=e,this._applyPostDrawUpdaters=s=>{var o;for(const a of this._postDrawUpdaters)(o=a.afterDraw)==null||o.call(a,s)},this._applyPreDrawUpdaters=(s,o,a,l,c,f)=>{var u;for(const h of this._preDrawUpdaters){if(h.getColorStyles){const{fill:p,stroke:m}=h.getColorStyles(o,s,a,l);p&&(c.fill=p),m&&(c.stroke=m)}if(h.getTransformValues){const p=h.getTransformValues(o);for(const m in p)wU(f,p,m)}(u=h.beforeDraw)==null||u.call(h,o)}},this._applyResizePlugins=()=>{var s;for(const o of this._resizePlugins)(s=o.resize)==null||s.call(o)},this._getPluginParticleColors=s=>{let o,a;for(const l of this._colorPlugins)if(!o&&l.particleFillColor&&(o=dc(this._engine,l.particleFillColor(s))),!a&&l.particleStrokeColor&&(a=dc(this._engine,l.particleStrokeColor(s))),o&&a)break;return[o,a]},this._initCover=async()=>{const s=this.container.actualOptions,o=s.backgroundMask.cover,a=o.color;if(a){const l=ki(this._engine,a);if(l){const c={...l,a:o.opacity};this._coverColorStyle=fr(c,c.a)}}else await new Promise((l,c)=>{if(!o.image)return;const f=document.createElement("img");f.addEventListener("load",()=>{this._coverImage={image:f,opacity:o.opacity},l()}),f.addEventListener("error",u=>{c(u.error)}),f.src=o.image})},this._initStyle=()=>{const s=this.element,o=this.container.actualOptions;if(s){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const a in o.style){if(!a||!o.style||!Object.prototype.hasOwnProperty.call(o.style,a))continue;const l=o.style[a];l&&s.style.setProperty(a,l,"important")}}},this._initTrail=async()=>{const s=this.container.actualOptions,o=s.particles.move.trail,a=o.fill;if(!o.enable)return;const l=bI/o.length;if(a.color){const c=ki(this._engine,a.color);if(!c)return;this._trailFill={color:{...c},opacity:l}}else await new Promise((c,f)=>{if(!a.image)return;const u=document.createElement("img");u.addEventListener("load",()=>{this._trailFill={image:u,opacity:l},c()}),u.addEventListener("error",h=>{f(h.error)}),u.src=a.image})},this._paintBase=s=>{this.draw(o=>hU(o,this.size,s))},this._paintImage=(s,o)=>{this.draw(a=>fU(a,this.size,s,o))},this._repairStyle=()=>{const s=this.element;if(!s)return;this._safeMutationObserver(a=>a.disconnect()),this._initStyle(),this.initBackground();const o=this._pointerEvents;s.style.pointerEvents=o,s.setAttribute("pointer-events",o),this._safeMutationObserver(a=>{!s||!(s instanceof Node)||a.observe(s,{attributes:!0})})},this._resetOriginalStyle=()=>{const s=this.element,o=this._originalStyle;!s||!o||gb(s,o,!0)},this._safeMutationObserver=s=>{this._mutationObserver&&s(this._mutationObserver)},this._setFullScreenStyle=()=>{const s=this.element;s&&gb(s,aU(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=n,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>m9&&i?i.color?this._paintBase(fr(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{jm(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove(),this.element=void 0}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=p9)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var C;const c=this.container,f=c.actualOptions,u=e.options.zIndex,h=g9-e.zIndexFactor,p=h**u.opacityRate,m=e.bubble.opacity??((C=e.opacity)==null?void 0:C.value)??p0,g=e.strokeOpacity??m,v=m*p,_=g*p,w={},x={fill:o?pc(o,v):void 0};x.stroke=a?pc(a,_):x.fill,this._applyPreDrawUpdaters(l,e,i,v,x,w),dU({container:c,context:l,particle:e,delta:n,colorStyles:x,backgroundMask:f.backgroundMask.enable,composite:f.backgroundMask.composite,radius:i*h**u.sizeRate,opacity:v,shadow:e.options.shadow,transform:w}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>vU(r,e,n,i))}drawPlugin(e,n){this.draw(i=>yU(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=Z9(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){So().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=ki(this._engine,n.color);r.backgroundColor=s?fr(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&eo in e.dataset?e.dataset[eo]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=sU(this.element.style);const n=this._standardSize;n.height=e.offsetHeight,n.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=n.height*i,e.width=r.width=n.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(s=>s.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(s=>{!this.element||!(this.element instanceof Node)||s.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(jm(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,s={width:i.width*r,height:i.height*r};if(i.height===n.height&&i.width===n.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const o={...n};n.height=i.height,n.width=i.width;const a=this.size;return this.element.width=a.width=s.width,this.element.height=a.height=s.height,this.container.started&&e.particles.setResizeFactor({width:n.width/o.width,height:n.height/o.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>jm(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var Ra;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(Ra||(Ra={}));function ei(t,e,n,i,r){if(i){let s={passive:!0};PI(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class TU{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;Yn(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),M9)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l!=null&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document!=null&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{const i=this.container.canvas;await(i==null?void 0:i.windowResize())};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*Yt)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas;c.setPointerEvents(l===c.element?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(ei(a,bo,r.mouseMove,i),ei(a,i9,r.touchStart,i),ei(a,r9,r.touchMove,i),o.interactivity.events.onClick.enable?(ei(a,X1,r.touchEndClick,i),ei(a,t9,r.mouseUp,i),ei(a,e9,r.mouseDown,i)):ei(a,X1,r.touchEnd,i),ei(a,n,r.mouseLeave,i),ei(a,s9,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=Fy;o===Ra.window?(r.interactivity.element=window,l=n9):o===Ra.parent&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&ei(document,a9,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=RI("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){ei(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){ei(window,o9,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(a=>{a.find(c=>c.target===o)&&this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const l of i.plugins.values())if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=Fy,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!(s!=null&&s.element))return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const f=o.getBoundingClientRect();a={x:c.clientX-f.left,y:c.clientY-f.top}}}else if(r.interactivity.detectsOn===Ra.parent){const f=c.target,u=c.currentTarget;if(f&&u&&o){const h=f.getBoundingClientRect(),p=u.getBoundingClientRect(),m=o.getBoundingClientRect();a={x:c.offsetX+Zt*h.left-(p.left+m.left),y:c.offsetY+Zt*h.top-(p.top+m.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,f=c.touches[c.touches.length-CI],u=o.getBoundingClientRect();a={x:f.clientX-(u.left??hd),y:f.clientY-(u.top??hd)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=bo},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var ln;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(ln||(ln={}));class rn{constructor(){this.value=""}static create(e,n){const i=new rn;return i.load(e),n!==void 0&&(_s(n)||Xi(n)?i.load({value:n}):i.load(n)),i}load(e){G(e)||G(e.value)||(this.value=e.value)}}class bU{constructor(){this.color=new rn,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){G(e)||(e.color!==void 0&&(this.color=rn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class EU{constructor(){this.opacity=1}load(e){G(e)||(e.color!==void 0&&(this.color=rn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class SU{constructor(){this.composite="destination-out",this.cover=new EU,this.enable=!1}load(e){if(!G(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=_s(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class CU{constructor(){this.enable=!0,this.zIndex=0}load(e){G(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class kU{constructor(){this.enable=!1,this.mode=[]}load(e){G(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var ll;(function(t){t.circle="circle",t.rectangle="rectangle"})(ll||(ll={}));class yb{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=ll.circle}load(e){G(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class PU{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){G(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class AU{constructor(){this.enable=!1,this.mode=[],this.parallax=new PU}load(e){G(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class IU{constructor(){this.delay=.5,this.enable=!0}load(e){G(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class RU{constructor(){this.onClick=new kU,this.onDiv=new yb,this.onHover=new AU,this.resize=new IU}load(e){if(G(e))return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=Yn(n,i=>{const r=new yb;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class MU{constructor(e,n){this._engine=e,this._container=n}load(e){if(G(e)||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class $I{constructor(e,n){this.detectsOn=Ra.window,this.events=new RU,this.modes=new MU(e,n)}load(e){if(G(e))return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class VU{load(e){G(e)||(e.position&&(this.position={x:e.position.x??cb,y:e.position.y??cb,mode:e.position.mode??ol.percent}),e.options&&(this.options=nn({},e.options)))}}var io;(function(t){t.screen="screen",t.canvas="canvas"})(io||(io={}));class DU{constructor(){this.maxWidth=1/0,this.options={},this.mode=io.canvas}load(e){G(e)||(G(e.maxWidth)||(this.maxWidth=e.maxWidth),G(e.mode)||(e.mode===io.screen?this.mode=io.screen:this.mode=io.canvas),G(e.options)||(this.options=nn({},e.options)))}}var Lr;(function(t){t.any="any",t.dark="dark",t.light="light"})(Lr||(Lr={}));class OU{constructor(){this.auto=!1,this.mode=Lr.any,this.value=!1}load(e){G(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class NU{constructor(){this.name="",this.default=new OU}load(e){G(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=nn({},e.options)))}}class w0{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){G(e)||(e.count!==void 0&&(this.count=Re(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Re(e.speed)),e.decay!==void 0&&(this.decay=Re(e.decay)),e.delay!==void 0&&(this.delay=Re(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class x0 extends w0{constructor(){super(),this.mode=no.auto,this.startValue=Ia.random}load(e){super.load(e),!G(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class zm extends w0{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!G(e)&&e.offset!==void 0&&(this.offset=Re(e.offset))}}class LU{constructor(){this.h=new zm,this.s=new zm,this.l=new zm}load(e){G(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class mc extends rn{constructor(){super(),this.animation=new LU}static create(e,n){const i=new mc;return i.load(e),n!==void 0&&(_s(n)||Xi(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),G(e))return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var Ma;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Ma||(Ma={}));class FU{constructor(){this.speed=2}load(e){G(e)||e.speed!==void 0&&(this.speed=e.speed)}}class jU{constructor(){this.enable=!0,this.retries=0}load(e){G(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Oo{constructor(){this.value=0}load(e){G(e)||G(e.value)||(this.value=Re(e.value))}}class zU extends Oo{constructor(){super(),this.animation=new w0}load(e){if(super.load(e),G(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class qI extends zU{constructor(){super(),this.animation=new x0}load(e){super.load(e)}}class vb extends Oo{constructor(){super(),this.value=1}}class WI{constructor(){this.horizontal=new vb,this.vertical=new vb}load(e){G(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class BU{constructor(){this.absorb=new FU,this.bounce=new WI,this.enable=!1,this.maxSpeed=50,this.mode=Ma.bounce,this.overlap=new jU}load(e){G(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Re(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class UU{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(G(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=nn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class $U{constructor(){this.offset=0,this.value=90}load(e){G(e)||(e.offset!==void 0&&(this.offset=Re(e.offset)),e.value!==void 0&&(this.value=Re(e.value)))}}class qU{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!G(e)&&(e.distance!==void 0&&(this.distance=Re(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class WU{constructor(){this.x=50,this.y=50,this.mode=ol.percent,this.radius=0}load(e){G(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class HU{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){G(e)||(e.acceleration!==void 0&&(this.acceleration=Re(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Re(e.maxSpeed)))}}class GU{constructor(){this.clamp=!0,this.delay=new Oo,this.enable=!1,this.options={}}load(e){G(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=nn(this.options,e.options)))}}class KU{load(e){G(e)||(e.color!==void 0&&(this.color=rn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class QU{constructor(){this.enable=!1,this.length=10,this.fill=new KU}load(e){G(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var mt;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(mt||(mt={}));class XU{constructor(){this.default=mt.out}load(e){G(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class YU{constructor(){this.acceleration=0,this.enable=!1}load(e){G(e)||(e.acceleration!==void 0&&(this.acceleration=Re(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=nn({},e.position)))}}class ZU{constructor(){this.angle=new $U,this.attract=new qU,this.center=new WU,this.decay=0,this.distance={},this.direction=Rt.none,this.drift=0,this.enable=!1,this.gravity=new HU,this.path=new GU,this.outModes=new XU,this.random=!1,this.size=!1,this.speed=2,this.spin=new YU,this.straight=!1,this.trail=new QU,this.vibrate=!1,this.warp=!1}load(e){if(G(e))return;this.angle.load(ws(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Re(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=ws(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Re(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(ma(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Re(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class JU extends x0{constructor(){super(),this.destroy=Eo.none,this.speed=2}load(e){super.load(e),!G(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class e6 extends qI{constructor(){super(),this.animation=new JU,this.value=1}load(e){if(G(e))return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class t6{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(G(e))return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const i=e.height;i!==void 0&&(this.height=i)}}var gc;(function(t){t.delete="delete",t.wait="wait"})(gc||(gc={}));class n6{constructor(){this.mode=gc.delete,this.value=0}load(e){G(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class i6{constructor(){this.density=new t6,this.limit=new n6,this.value=0}load(e){G(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class r6{constructor(){this.blur=0,this.color=new rn,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){G(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=rn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class s6{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(G(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=nn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class o6 extends x0{constructor(){super(),this.destroy=Eo.none,this.speed=5}load(e){super.load(e),!G(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class a6 extends qI{constructor(){super(),this.animation=new o6,this.value=3}load(e){if(super.load(e),G(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class _b{constructor(){this.width=0}load(e){G(e)||(e.color!==void 0&&(this.color=mc.create(this.color,e.color)),e.width!==void 0&&(this.width=Re(e.width)),e.opacity!==void 0&&(this.opacity=Re(e.opacity)))}}class l6 extends Oo{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!G(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class u6{constructor(e,n){this._engine=e,this._container=n,this.bounce=new WI,this.collisions=new BU,this.color=new mc,this.color.value="#fff",this.effect=new UU,this.groups={},this.move=new ZU,this.number=new i6,this.opacity=new e6,this.reduceDuplicates=!1,this.shadow=new r6,this.shape=new s6,this.size=new a6,this.stroke=new _b,this.zIndex=new l6}load(e){if(G(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=nn(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(mc.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=nn({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=Yn(n,i=>{const r=new _b;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function HI(t,...e){for(const n of e)t.load(n)}function GI(t,e,...n){const i=new u6(t,e);return HI(i,...n),i}class c6{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===Lr.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new bU,this.backgroundMask=new SU,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new CU,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new $I(e,n),this.manualParticles=[],this.particles=GI(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var o,a;if(G(e))return;e.preset!==void 0&&Yn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=Re(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=Re(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;PI(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new VU;return c.load(l),c})),this.particles.load(e.particles),this.style=nn(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new DU;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(f=>f.name===l.name);if(c)c.load(l);else{const f=new NU;f.load(l),this.themes.push(f)}}this.defaultThemes.dark=(o=this._findDefaultTheme(Lr.dark))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme(Lr.light))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode===io.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=RI("(prefers-color-scheme: dark)"),i=n==null?void 0:n.matches,r=this._findDefaultTheme(i?Lr.dark:Lr.light);r&&this.load(r.options)}}}var ul;(function(t){t.external="external",t.particles="particles"})(ul||(ul={}));class h6{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){var n;for(const i of this._externalInteractors)(n=i.handleClickMode)==null||n.call(i,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case ul.external:this._externalInteractors.push(e);break;case ul.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var Pi;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(Pi||(Pi={}));function f6(t,e,n,i){const r=e.options[t];if(r)return nn({close:e.close,fill:e.fill},ci(r,n,i))}function d6(t,e,n,i){const r=e.options[t];if(r)return nn({close:e.close,fill:e.fill},ci(r,n,i))}function wb(t){if(!ut(t.outMode,t.checkModes))return;const e=t.radius*Zt;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class p6{constructor(e,n){this.container=n,this._calcPosition=(i,r,s,o=Z1)=>{for(const m of i.plugins.values()){const g=m.particlePosition!==void 0?m.particlePosition(r,this):void 0;if(g)return Mn.create(g.x,g.y,s)}const a=i.canvas.size,l=H9({size:a,position:r}),c=Mn.create(l.x,l.y,s),f=this.getRadius(),u=this.options.move.outModes,h=m=>{wb({outMode:m,checkModes:[mt.bounce],coord:c.x,maxCoord:i.canvas.size.width,setCb:g=>c.x+=g,radius:f})},p=m=>{wb({outMode:m,checkModes:[mt.bounce],coord:c.y,maxCoord:i.canvas.size.height,setCb:g=>c.y+=g,radius:f})};return h(u.left??u.default),h(u.right??u.default),p(u.top??u.default),p(u.bottom??u.default),this._checkOverlap(c,o)?this._calcPosition(i,void 0,s,o+S9):c},this._calculateVelocity=()=>{const i=W9(this.direction),r=i.copy(),s=this.options.move;if(s.direction===Rt.inside||s.direction===Rt.outside)return r;const o=as(oe(s.angle.value)),a=as(oe(s.angle.offset)),l={left:a-o*wt,right:a+o*wt};return s.straight||(r.angle+=zn(Re(l.left,l.right))),s.random&&typeof s.speed=="number"&&(r.length*=De()),r},this._checkOverlap=(i,r=Z1)=>{const s=this.options.collisions,o=this.getRadius();if(!s.enable)return!1;const a=s.overlap;if(a.enable)return!1;const l=a.retries;if(l>=C9&&r>l)throw new Error(`${pi} particle is overlapping and can't be placed`);return!!this.container.particles.find(c=>qn(i,c.position)<o+c.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?Zt*ob:ob,s=this.roll.horizontal?Math.PI*wt:fd;return Math.floor(((this.roll.angle??fd)+s)/(Math.PI/r))%Zt?this.backColor?this.backColor:this.roll.alter?_U(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=oe(this.options.zIndex.value);this.position=this._calcPosition(r,i,mi(s,k9,r.zLayers)),this.initialPosition=this.position.copy();const o=r.canvas.size;switch(this.moveCenter={...NI(this.options.move.center,o),radius:this.options.move.center.radius??P9,mode:this.options.move.center.mode??ol.percent},this.direction=q9(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Rt.inside:this.outType=Pi.inside;break;case Rt.outside:this.outType=Pi.outside;break}this.offset=Ct.origin},this._engine=e}destroy(e){var s,o,a;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator,r=n.shapeDrawers.get(this.shape);(s=r==null?void 0:r.particleDestroy)==null||s.call(r,this);for(const l of n.plugins.values())(o=l.particleDestroyed)==null||o.call(l,this,e);for(const l of n.particles.updaters)(a=l.particleDestroyed)==null||a.call(l,this,e);i==null||i.reset(this),this._engine.dispatchEvent(ln.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,i=n.canvas;for(const r of n.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??mb(this.color))}getMass(){return this.getRadius()**rr*Math.PI*wt}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??mb(this.strokeColor))}init(e,n,i,r){var k,b,E,P,M,V;const s=this.container,o=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Pi.normal,this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=GI(this._engine,s,l.particles),{reduceDuplicates:f}=c,u=c.effect.type,h=c.shape.type;this.effect=ci(u,this.id,f),this.shape=ci(h,this.id,f);const p=c.effect,m=c.shape;if(i){if((k=i.effect)!=null&&k.type){const A=i.effect.type,z=ci(A,this.id,f);z&&(this.effect=z,p.load(i.effect))}if((b=i.shape)!=null&&b.type){const A=i.shape.type,z=ci(A,this.id,f);z&&(this.shape=z,m.load(i.shape))}}if(this.effect===sl){const A=[...this.container.effectDrawers.keys()];this.effect=A[Math.floor(De()*A.length)]}if(this.shape===sl){const A=[...this.container.shapeDrawers.keys()];this.shape=A[Math.floor(De()*A.length)]}this.effectData=f6(this.effect,p,this.id,f),this.shapeData=d6(this.shape,m,this.id,f),c.load(i);const g=this.effectData;g&&c.load(g.particles);const v=this.shapeData;v&&c.load(v.particles);const _=new $I(o,s);_.load(s.actualOptions.interactivity),_.load(c.interactivity),this.interactivity=_,this.effectFill=(g==null?void 0:g.fill)??c.effect.fill,this.effectClose=(g==null?void 0:g.close)??c.effect.close,this.shapeFill=(v==null?void 0:v.fill)??c.shape.fill,this.shapeClose=(v==null?void 0:v.close)??c.shape.close,this.options=c;const w=this.options.move.path;this.pathDelay=oe(w.delay.value)*Yt,w.generator&&(this.pathGenerator=this._engine.getPathGenerator(w.generator),this.pathGenerator&&s.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=OI(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=SI-oe(this.options.move.decay);const x=s.particles;x.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let C=s.effectDrawers.get(this.effect);C||(C=this._engine.getEffectDrawer(this.effect),C&&s.effectDrawers.set(this.effect,C)),C!=null&&C.loadEffect&&C.loadEffect(this);let I=s.shapeDrawers.get(this.shape);I||(I=this._engine.getShapeDrawer(this.shape),I&&s.shapeDrawers.set(this.shape,I)),I!=null&&I.loadShape&&I.loadShape(this);const D=I==null?void 0:I.getSidesCount;D&&(this.sides=D(this)),this.spawning=!1,this.shadowColor=ki(this._engine,this.options.shadow.color);for(const A of x.updaters)A.init(this);for(const A of x.movers)(E=A.init)==null||E.call(A,this);(P=C==null?void 0:C.particleInit)==null||P.call(C,s,this),(M=I==null?void 0:I.particleInit)==null||M.call(I,s,this);for(const A of s.plugins.values())(V=A.particleCreated)==null||V.call(A,this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const n of this.container.particles.updaters)(e=n.reset)==null||e.call(n,this)}}class m6{constructor(e,n){this.position=e,this.particle=n}}var Va;(function(t){t.circle="circle",t.rectangle="rectangle"})(Va||(Va={}));class KI{constructor(e,n,i){this.position={x:e,y:n},this.type=i}}class en extends KI{constructor(e,n,i){super(e,n,Va.circle),this.radius=i}contains(e){return qn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof en||e.type===Va.circle){const o=e,a=s+o.radius,l=Math.sqrt(r.x**rr+r.y**rr);return a>l}else if(e instanceof Ri||e.type===Va.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(r.x-a,rr)+Math.pow(r.y-l,rr)<=s**rr||r.x<=s+a&&r.y<=s+l||r.x<=a||r.y<=l}return!1}}class Ri extends KI{constructor(e,n,i,r){super(e,n,Va.rectangle),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof en)return e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Ri?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class pd{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<c9;l++){const c=l%Zt;this._subs.push(new pd(new Ri(i+s*wt*c,r+o*wt*(Math.round(l*wt)-c),s*wt,o*wt),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&qn(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,n));return i}queryCircle(e,n,i){return this.query(new en(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Ri(e.x,e.y,n.width,n.height),i)}}const xb=t=>{const{height:e,width:n}=t;return new Ri(ab*n,ab*e,lb*n,lb*e)};class g6{constructor(e,n){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,o,a)=>{var m,g,v;const l=r.number;if(!((m=r.number.density)!=null&&m.enable)){o===void 0?this._limit=l.limit.value:(((g=a==null?void 0:a.number.limit)==null?void 0:g.value)??l.limit.value)&&this._groupLimits.set(o,((v=a==null?void 0:a.number.limit)==null?void 0:v.value)??l.limit.value);return}const c=this._initDensityFactor(l.density),f=l.value,u=l.limit.value>ub?l.limit.value:f,h=Math.min(f,u)*c+s,p=Math.min(this.count,this.filter(_=>_.group===o).length);o===void 0?this._limit=l.limit.value*c:this._groupLimits.set(o,l.limit.value*c),p<h?this.push(Math.abs(h-p),void 0,r,o):p>h&&this.removeQuantity(p-h,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return R9;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.height*r.width*a**rr)},this._pushParticle=(r,s,o,a)=>{try{let l=this._pool.pop();l||(l=new p6(this._engine,this._container)),l.init(this._nextId,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(ln.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){So().warning(`${pi} adding particle: ${l}`)}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;const l=this._zArray.indexOf(a);return this._array.splice(r,dd),this._zArray.splice(l,dd),a.destroy(o),this._engine.dispatchEvent(ln.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new h6(e,n),this._pluginsInitialized=!1;const i=n.canvas.size;this.quadTree=new pd(xb(i),J1),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?NI(i.position,e.canvas.size):void 0,i.options))}addParticle(e,n,i,r){const s=this._container.actualOptions.particles.number.limit.mode,o=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(o>ub)switch(s){case gc.delete:{const l=a+A9-o;l>I9&&this.removeQuantity(l);break}case gc.wait:if(a>=o)return;break}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,i=n.canvas;i.clear(),this.update(e);for(const r of n.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var r,s;const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const o of e.plugins.values())if(i=((r=o.particlesInitialization)==null?void 0:r.call(o))??i,i)break;if(this.addManualParticles(),!i){const o=n.particles,a=o.groups;for(const l in a){const c=a[l];for(let f=this.count,u=0;u<((s=c.number)==null?void 0:s.value)&&f<o.number.value;f++,u++)this.addParticle(void 0,c,l)}for(let l=this.count;l<o.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const n of e.pathGenerators.values())n.init(e)}push(e,n,i,r){for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=u9,i,r){if(e<Uy||e>this.count)return;let s=0;for(let o=e;s<n&&o<this.count;o++)this._removeParticle(o,i,r)&&(o--,s++)}removeQuantity(e,n){this.removeAt(Uy,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups,i=e.manualParticles.length;for(const r in n)this._applyDensity(n[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var s,o;const n=this._container,i=new Set;this.quadTree=new pd(xb(n.canvas.size),J1);for(const a of n.pathGenerators.values())a.update();for(const a of n.plugins.values())(s=a.update)==null||s.call(a,e);const r=this._resizeFactor;for(const a of this._array){r&&!a.ignoresResizeRatio&&(a.position.x*=r.width,a.position.y*=r.height,a.initialPosition.x*=r.width,a.initialPosition.y*=r.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const l of this._container.plugins.values()){if(a.destroyed)break;(o=l.particleUpdate)==null||o.call(l,a,e)}for(const l of this.movers)l.isEnabled(a)&&l.move(a,e);if(a.destroyed){i.add(a);continue}this.quadTree.insert(new m6(a.getPosition(),a))}if(i.size){const a=l=>!i.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const l of i)this._engine.dispatchEvent(ln.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const l of this.updaters)l.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((l,c)=>c.position.z-l.position.z||l.id-c.id),this._lastZIndex=a[a.length-CI].position.z,this._needsSort=!1}}}class y6{constructor(e){this.container=e,this.pixelRatio=eb,this.reduceFactor=tb}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Co()?eb:devicePixelRatio,this.reduceFactor=tb;const i=this.pixelRatio,r=e.canvas;if(r.element){const a=r.element;r.size.width=a.offsetWidth*i,r.size.height=a.offsetHeight*i}const s=n.particles,o=s.move;this.maxSpeed=oe(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=oe(s.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.moveDrift=oe(r.drift)*i,o.moveSpeed=oe(r.speed)*i,o.sizeAnimationSpeed=oe(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=oe(r.gravity.maxSpeed)*i}}function tt(t){return t&&!t.destroyed}function v6(t,e=Mm,n=!1){return{value:t,factor:n?Mm/e:Mm*t/Yt}}function qo(t,e,...n){const i=new c6(t,e);return HI(i,...n),i}class _6{constructor(e,n,i){this._intersectionManager=r=>{if(!(!tt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+Yt/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=r);const s=v6(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>Yt){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){So().error(`${pi} in animation loop`,s)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new y6(this),this.canvas=new xU(this,this._engine),this.particles=new g6(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=qo(this._engine,this),this.actualOptions=qo(this._engine,this),this._eventListeners=new TU(this),this._intersectionObserver=Y9(r=>this._intersectionManager(r)),this._engine.dispatchEvent(ln.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&tt(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!tt(this))return;const n=this.interactivity.element;if(!n)return;const i=(u,h,p)=>{if(!tt(this))return;const m=this.retina.pixelRatio,g={x:h.x*m,y:h.y*m},v=this.particles.quadTree.queryCircle(g,p*m);e(u,v)},r=u=>{if(!tt(this))return;const h=u,p={x:h.offsetX||h.clientX,y:h.offsetY||h.clientY};i(u,p,y9)},s=()=>{tt(this)&&(c=!0,f=!1)},o=()=>{tt(this)&&(f=!0)},a=u=>{if(tt(this)){if(c&&!f){const h=u;let p=h.touches[h.touches.length-sb];if(!p&&(p=h.changedTouches[h.changedTouches.length-sb],!p))return;const m=this.canvas.element,g=m?m.getBoundingClientRect():void 0,v={x:p.clientX-(g?g.left:hd),y:p.clientY-(g?g.top:hd)};i(u,v,Math.max(p.radiusX,p.radiusY))}c=!1,f=!1}},l=()=>{tt(this)&&(c=!1,f=!1)};let c=!1,f=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",o),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",l);for(const[u,h]of this._clickHandlers)n.addEventListener(u,h)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!tt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(tt(this)){for(const[n,i]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(n,i);this._clickHandlers.clear()}}destroy(e=!0){var n,i;if(tt(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const r of this.effectDrawers.values())(n=r.destroy)==null||n.call(r,this);for(const r of this.shapeDrawers.values())(i=r.destroy)==null||i.call(r,this);for(const r of this.effectDrawers.keys())this.effectDrawers.delete(r);for(const r of this.shapeDrawers.keys())this.shapeDrawers.delete(r);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const r=this._engine.items,s=r.findIndex(o=>o===this);s>=v9&&r.splice(s,EI)}this._engine.dispatchEvent(ln.containerDestroyed,{container:this})}}draw(e){if(!tt(this))return;let n=e;const i=r=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(r)};this._drawAnimationFrame=U9(r=>i(r))}async export(e,n={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}So().error(`${pi} - Export plugin with type ${e} not found`)}handleClickMode(e){var n;if(tt(this)){this.particles.handleClickMode(e);for(const i of this.plugins.values())(n=i.handleClickMode)==null||n.call(i,e)}}async init(){var c,f,u,h;if(!tt(this))return;const e=this._engine.getSupportedEffects();for(const p of e){const m=this._engine.getEffectDrawer(p);m&&this.effectDrawers.set(p,m)}const n=this._engine.getSupportedShapes();for(const p of n){const m=this._engine.getShapeDrawer(p);m&&this.shapeDrawers.set(p,m)}await this.particles.initPlugins(),this._options=qo(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=qo(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[p,m]of i)this.plugins.set(p,m);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:o,fpsLimit:a,smooth:l}=this.actualOptions;this.zLayers=r,this._duration=oe(s)*Yt,this._delay=oe(o)*Yt,this._lifeTime=0,this.fpsLimit=a>w9?a:_9,this._smooth=l;for(const p of this.effectDrawers.values())await((c=p.init)==null?void 0:c.call(p,this));for(const p of this.shapeDrawers.values())await((f=p.init)==null?void 0:f.call(p,this));for(const p of this.plugins.values())await((u=p.init)==null?void 0:u.call(p));this._engine.dispatchEvent(ln.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const p of this.plugins.values())(h=p.particlesSetup)==null||h.call(p);this._engine.dispatchEvent(ln.particlesSetup,{container:this})}async loadTheme(e){tt(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(tt(this)&&(this._drawAnimationFrame!==void 0&&($9(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const n of this.plugins.values())(e=n.pause)==null||e.call(n);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(ln.containerPaused,{container:this})}}play(e){if(!tt(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(ln.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(tt(this))return this.stop(),this.start()}async reset(e){if(tt(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=qo(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=qo(this._engine,this,this._options),this.refresh()}async start(){!tt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{var i;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const r of this.plugins.values())await((i=r.start)==null?void 0:i.call(r));this._engine.dispatchEvent(ln.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){var e;if(!(!tt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const n of this.plugins.values())(e=n.stop)==null||e.call(n);for(const n of this.plugins.keys())this.plugins.delete(n);this._sourceOptions=this._options,this._engine.dispatchEvent(ln.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class w6{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i==null||i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<Uy||(r===dd?this._listeners.delete(e):i.splice(s,dd))}}async function Bm(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=await Promise.all([...n.values()].map(s=>s(t))),e.set(t,r)),r}async function x6(t){const e=ci(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(So().error(`${pi} ${n.status} while retrieving config file`),t.fallback)}const T6=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===Vm)e=t,e.dataset[eo]||(e.dataset[eo]=Y1);else{const i=t.getElementsByTagName(Vm);i.length?(e=i[x9],e.dataset[eo]=Y1):(e=document.createElement(Vm),e.dataset[eo]=TI,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},b6=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[eo]=TI,document.body.append(n),n)};class E6{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new w6,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,n=!0){this.colorManagers.set(e.key,e),await this.refresh(n)}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(ln.configAdded,{data:{name:n,config:e}})}async addEasing(e,n,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,n),await this.refresh(i))}async addEffect(e,n,i=!0){Yn(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,n)}),await this.refresh(i)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this._initializers.interactors.set(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this._initializers.movers.set(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this._initializers.updaters.set(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(r)}async addShape(e,n=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(n)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,await i.getPlugin(e));return n}getEasing(e){return this.easingFunctions.get(e)??(n=>n)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return Bm(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return Bm(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return Bm(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,i=n[e];if(!i||i.destroyed){n.splice(e,EI);return}return i}async load(e){var h;const n=e.id??((h=e.element)==null?void 0:h.id)??`tsparticles${Math.floor(De()*T9)}`,{index:i,url:r}=e,s=r?await x6({fallback:e.options,url:r,index:i}):e.options,o=ci(s,i),{items:a}=this,l=a.findIndex(p=>p.id.description===n),c=new _6(this,n,o);if(l>=b9){const p=this.item(l),m=p?E9:fd;p&&!p.destroyed&&p.destroy(!1),a.splice(l,m,c)}else a.push(c);const f=b6(n,e.element),u=T6(f);return c.canvas.loadCanvas(u),await c.start(),c}loadOptions(e,n){this.plugins.forEach(i=>{var r;return(r=i.loadOptions)==null?void 0:r.call(i,e,n)})}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);r&&r.forEach(s=>{var o;return(o=s.loadOptions)==null?void 0:o.call(s,n,...i)})}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${pi} can only set click handlers after calling tsParticles.load()`);n.forEach(i=>i.addClickHandler(e))}}function S6(){const t=new E6;return t.init(),t}class Yi{constructor(e){this.type=ul.external,this.container=e}}class T0{constructor(e){this.type=ul.particles,this.container=e}}var bi;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(bi||(bi={}));var Tb;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(Tb||(Tb={}));var po;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(po||(po={}));const b0=S6();Co()||(window.tsParticles=b0);const C6=t=>{const e=t.id??"tsparticles";return N.useEffect(()=>{let n;return b0.load({id:e,url:t.url,options:t.options}).then(i=>{var r;n=i,(r=t.particlesLoaded)==null||r.call(t,i)}),()=>{n==null||n.destroy()}},[e,t,t.url,t.options]),S.jsx("div",{id:e,className:t.className})};async function k6(t){await t(b0)}const Gy=.5,P6=2,Hr=0,Ei=1,bb=60,Eb=0,A6=.01,I6=Math.PI*P6;function R6(t){const e=t.initialPosition,{dx:n,dy:i}=hn(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const c=(a&&r>=a)??!1,f=(l&&s>=l)??!1;if((c||f)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y*Gy-t.velocity.x),l&&(t.velocity.y=t.velocity.x*Gy-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const u=t.position,h=t.velocity;a&&(u.x<e.x&&h.x<Hr||u.x>e.x&&h.x>Hr)&&(h.x*=-De()),l&&(u.y<e.y&&h.y<Hr||u.y>e.y&&h.y>Hr)&&(h.y*=-De())}}function M6(t,e,n,i,r,s,o){D6(t,o);const a=t.gravity,l=a!=null&&a.enable&&a.inverse?-Ei:Ei;r&&n&&(t.velocity.x+=r*o.factor/(bb*n)),a!=null&&a.enable&&n&&(t.velocity.y+=l*(a.acceleration*o.factor)/(bb*n));const c=t.moveDecay;t.velocity.multTo(c);const f=t.velocity.mult(n);a!=null&&a.enable&&i>Hr&&(!a.inverse&&f.y>=Hr&&f.y>=i||a.inverse&&f.y<=Hr&&f.y<=-i)&&(f.y=l*i,n&&(t.velocity.y=f.y/n));const u=t.options.zIndex,h=(Ei-t.zIndexFactor)**u.velocityRate;f.multTo(h),f.multTo(s);const{position:p}=t;p.addTo(f),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y))*s,p.y+=Math.cos(p.y*Math.sin(p.x))*s)}function V6(t,e,n){const i=t.container;if(!t.spin)return;const r=t.spin.direction===bi.clockwise,s={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*s.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*s.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const o=Math.max(i.canvas.size.width,i.canvas.size.height),a=o*Gy;t.spin.radius>a?(t.spin.radius=a,t.spin.acceleration*=-Ei):t.spin.radius<Eb&&(t.spin.radius=Eb,t.spin.acceleration*=-Ei),t.spin.angle+=e*A6*(Ei-t.spin.radius/o)}function D6(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=mi(t.velocity.x,-Ei,Ei),t.velocity.y=mi(t.velocity.y,-Ei,Ei)),t.lastPathTime-=t.pathDelay}function O6(t){return t.slow.inRange?t.slow.factor:Ei}function N6(t){const e=t.container,n=t.options,i=n.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,o={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},a=t.getPosition(),l=qn(a,o),c=oe(i.acceleration);t.retina.spinAcceleration=c*e.retina.pixelRatio,t.spin={center:o,direction:t.velocity.x>=Hr?bi.clockwise:bi.counterClockwise,angle:De()*I6,radius:l,acceleration:t.retina.spinAcceleration}}const L6=2,F6=1,j6=1;class z6{init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:oe(i.acceleration),inverse:i.inverse},N6(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var v,_;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio;(v=e.retina).moveSpeed??(v.moveSpeed=oe(r.speed)*o),(_=e.retina).moveDrift??(_.moveDrift=oe(e.options.move.drift)*o);const a=O6(e),l=s.retina.reduceFactor,c=e.retina.moveSpeed,f=e.retina.moveDrift,u=zi(i.size.value)*o,h=r.size?e.getRadius()/u:F6,p=n.factor||j6,m=c*h*a*p/L6,g=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?V6(e,m,l):M6(e,r,m,g,f,l,n),R6(e)}}async function B6(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new z6),e)}const U6=2,$6=Math.PI*U6,q6=0,Sb={x:0,y:0};function W6(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:q6,max:$6});const r=n.circleRange;e.arc(Sb.x,Sb.y,i,r.min,r.max,!1)}const H6=12,G6=360,Cb=0;class K6{constructor(){this.validTypes=["circle"]}draw(e){W6(e)}getSidesCount(){return H6}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:G6,min:Cb};n.circleRange=ma(r)?{min:as(r.min),max:as(r.max)}:{min:Cb,max:as(r)}}}async function Q6(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new K6,e)}class X6{constructor(e,n){this._container=e,this._engine=n}init(e){const n=dc(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=BI(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){UI(e.color,n)}}async function Y6(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new X6(n,t)),e)}var Gs;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(Gs||(Gs={}));const Z6=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,J6=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,Ih=16,e$=1,t$=255;class n${constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const n=e.replace(Z6,(r,s,o,a,l)=>s+s+o+o+a+a+(l!==void 0?l+l:"")),i=J6.exec(n);return i?{a:i[Gs.a]!==void 0?parseInt(i[Gs.a],Ih)/t$:e$,b:parseInt(i[Gs.b],Ih),g:parseInt(i[Gs.g],Ih),r:parseInt(i[Gs.r],Ih)}:void 0}}async function i$(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new n$,e)}var ga;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(ga||(ga={}));class r${constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return al(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return al({h:oe(i.h),l:oe(i.l),s:oe(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=4,s=1,o=10;return i?cU({a:i.length>r?II(i[ga.a]):s,h:parseInt(i[ga.h],o),l:parseInt(i[ga.l],o),s:parseInt(i[ga.s],o)}):void 0}}async function s$(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new r$,e)}class o${constructor(e){this.container=e}init(e){const n=e.options.opacity,i=1;e.opacity=OI(n,i);const r=n.animation;r.enable&&(e.opacity.velocity=oe(r.speed)/Wr*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=De()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||v0(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function a$(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new o$(n)),e)}const md=0,Da=0;function l$(t){if(t.outMode!==mt.bounce&&t.outMode!==mt.split||t.direction!==ve.left&&t.direction!==ve.right)return;t.bounds.right<Da&&t.direction===ve.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===ve.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===ve.right&&t.bounds.right>=t.canvasSize.width&&e>md||t.direction===ve.left&&t.bounds.left<=Da&&e<md){const r=oe(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===ve.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=Da&&t.direction===ve.left&&(t.particle.position.x=i),t.outMode===mt.split&&t.particle.destroy()}function u$(t){if(t.outMode!==mt.bounce&&t.outMode!==mt.split||t.direction!==ve.bottom&&t.direction!==ve.top)return;t.bounds.bottom<Da&&t.direction===ve.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===ve.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===ve.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>md||t.direction===ve.top&&t.bounds.top<=Da&&e<md){const r=oe(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===ve.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=Da&&t.direction===ve.top&&(t.particle.position.y=i),t.outMode===mt.split&&t.particle.destroy()}class c${constructor(e){this.container=e,this.modes=[mt.bounce,mt.split]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const h of s.plugins.values())if(h.particleBounce!==void 0&&(o=h.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),f=Nc(a,c),u=s.canvas.size;l$({particle:e,outMode:r,direction:n,bounds:f,canvasSize:u,offset:l,size:c}),u$({particle:e,outMode:r,direction:n,bounds:f,canvasSize:u,offset:l,size:c})}}const Rh=0;class h${constructor(e){this.container=e,this.modes=[mt.destroy]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Pi.normal:case Pi.outside:if(m0(e.position,s.canvas.size,Ct.origin,e.getRadius(),n))return;break;case Pi.inside:{const{dx:o,dy:a}=hn(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<Rh&&o>e.moveCenter.radius||c<Rh&&a>e.moveCenter.radius||l>=Rh&&o<-e.moveCenter.radius||c>=Rh&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,e.group,!0)}}const Mh=0;class f${constructor(e){this.container=e,this.modes=[mt.none]}update(e,n,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(n===ve.left||n===ve.right))??(e.options.move.distance.vertical&&(n===ve.top||n===ve.bottom))))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&n===ve.bottom||s.inverse&&c.y<-l&&n===ve.top)&&o.particles.remove(e)}else{if(e.velocity.y>Mh&&e.position.y<=a.height+l||e.velocity.y<Mh&&e.position.y>=-l||e.velocity.x>Mh&&e.position.x<=a.width+l||e.velocity.x<Mh&&e.position.x>=-l)return;m0(e.position,o.canvas.size,Ct.origin,l,n)||o.particles.remove(e)}}}const Vh=0,Dh=0;class d${constructor(e){this.container=e,this.modes=[mt.out]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Pi.inside:{const{x:o,y:a}=e.velocity,l=Ct.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(Ct.create(e.moveCenter));const{dx:c,dy:f}=hn(e.position,l);if(o<=Vh&&c>=Dh||a<=Vh&&f>=Dh||o>=Vh&&c<=Dh||a>=Vh&&f<=Dh)return;e.position.x=Math.floor(zn({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(zn({min:0,max:s.canvas.size.height}));const{dx:u,dy:h}=hn(e.position,e.moveCenter);e.direction=Math.atan2(-h,-u),e.velocity.angle=e.direction;break}default:{if(m0(e.position,s.canvas.size,Ct.origin,e.getRadius(),n))return;switch(e.outType){case Pi.outside:{e.position.x=Math.floor(zn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(zn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=hn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case Pi.normal:{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),f=Nc(e.position,c);n===ve.right&&f.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=De()*a.height,e.initialPosition.y=e.position.y)):n===ve.left&&f.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=De()*a.height,e.initialPosition.y=e.position.y)),n===ve.bottom&&f.top>a.height+e.offset.y?(o||(e.position.x=De()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n===ve.top&&f.bottom<-e.offset.y&&(o||(e.position.x=De()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const p$=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class m${constructor(e){this._addUpdaterIfMissing=(n,i,r)=>{const s=n.options.move.outModes;!this.updaters.has(i)&&p$(s,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters.values())o.update(n,s,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,mt.bounce,n=>new c$(n)),this._addUpdaterIfMissing(e,mt.out,n=>new d$(n)),this._addUpdaterIfMissing(e,mt.destroy,n=>new h$(n)),this._addUpdaterIfMissing(e,mt.none,n=>new f$(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,ve.bottom),this._updateOutMode(e,n,i.left??i.default,ve.left),this._updateOutMode(e,n,i.right??i.default,ve.right),this._updateOutMode(e,n,i.top??i.default,ve.top)}}async function g$(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new m$(n)),e)}var ya;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(ya||(ya={}));class y${constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:oe(i.r),g:oe(i.g),b:oe(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=10;return i?{a:i.length>4?II(i[ya.a]):1,b:parseInt(i[ya.b],r),g:parseInt(i[ya.g],r),r:parseInt(i[ya.r],r)}:void 0}}async function v$(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new y$,e)}const Ns=0;class _${init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Wr*n.retina.reduceFactor,r.sync||(e.size.velocity*=De()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Ns)<=Ns||(e.size.maxLoops??Ns)>Ns&&(e.size.loops??Ns)<(e.size.maxLoops??Ns))}reset(e){e.size.loops=Ns}update(e,n){this.isEnabled(e)&&v0(e,e.size,!0,e.options.size.animation.destroy,n)}}async function w$(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new _$),e)}async function x$(t,e=!0){t.checkVersion("3.9.1"),await i$(t,!1),await s$(t,!1),await v$(t,!1),await B6(t,!1),await Q6(t,!1),await Y6(t,!1),await a$(t,!1),await g$(t,!1),await w$(t,!1),await t.refresh(e)}async function T$(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(po.easeInQuad,n=>n**2,!1),await t.addEasing(po.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(po.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function b$(t,e){const{context:n,opacity:i}=t,r=.5,s=n.globalAlpha;if(!e)return;const o=e.width,a=o*r;n.globalAlpha=i,n.drawImage(e,-a,-a,o,o),n.globalAlpha=s}const Um='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',kb=0;class E${constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close()),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const i=this._emojiShapeDict.get(n);i&&b$(e,i)}async init(e){const n=e.actualOptions,{validTypes:i}=this;if(!i.find(o=>ut(o,n.particles.shape.type)))return;const r=[pb(Um)],s=i.map(o=>n.particles.shape.options[o]).find(o=>!!o);s&&Yn(s,o=>{o.font&&r.push(pb(o.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const r=n.shapeData;if(!(r!=null&&r.value))return;const s=ci(r.value,n.randomIndexData);if(!s)return;const o=typeof s=="string"?{font:r.font??Um,padding:r.padding??kb,value:s}:{font:Um,padding:kb,...r,...s},a=o.font,l=o.value,c=`${l}_${a}`;if(this._emojiShapeDict.has(c)){n.emojiDataKey=c;return}const f=o.padding*2,u=zi(n.size.value),h=u+f,p=h*2;let m;if(typeof OffscreenCanvas<"u"){const g=new OffscreenCanvas(p,p),v=g.getContext("2d");if(!v)return;v.font=`400 ${u*2}px ${a}`,v.textBaseline="middle",v.textAlign="center",v.fillText(l,h,h),m=g.transferToImageBitmap()}else{const g=document.createElement("canvas");g.width=p,g.height=p;const v=g.getContext("2d");if(!v)return;v.font=`400 ${u*2}px ${a}`,v.textBaseline="middle",v.textAlign="center",v.fillText(l,h,h),m=g}this._emojiShapeDict.set(c,m),n.emojiDataKey=c}}async function S$(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new E$,e)}const C$=1,k$=1,QI=0;function XI(t,e,n,i,r,s){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const a=e.particles.quadTree.query(r,s);for(const l of a){const{dx:c,dy:f,distance:u}=hn(l.position,n),h=o.speed*o.factor,p=mi(t.getEasing(o.easing)(k$-u/i)*h,C$,o.maxSpeed),m=Ct.create(u?c/u*p:h,u?f/u*p:h);l.position.subFrom(m)}}function P$(t,e,n){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,s=e.retina.attractModeDistance;if(!s||s<QI||!r)return;XI(t,e,r,s,new en(r.x,r.y,s),o=>n(o))}else i.clicking===!1&&(i.particles=[])}function A$(t,e,n){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<QI||!i||XI(t,e,i,r,new en(i.x,i.y,r),s=>n(s))}class I${constructor(){this.distance=200,this.duration=.4,this.easing=po.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){G(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Gl="attract";let R$=class extends Yi{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==Gl)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*Yt)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===bo,r=n.interactivity.events,{enable:s,mode:o}=r.onHover,{enable:a,mode:l}=r.onClick;i&&s&&ut(Gl,o)?A$(this._engine,this.container,c=>this.isEnabled(c)):a&&ut(Gl,l)&&P$(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return ut(Gl,o)||ut(Gl,a)}loadModeOptions(e,...n){e.attract||(e.attract=new I$);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function M$(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new R$(t,n)),e)}const V$=2,hf=.5,D$=Math.PI*hf,Pb=2,YI=10,O$=0;function ZI(t,e,n,i,r){const s=t.particles.quadTree.query(i,r);for(const o of s)i instanceof en?VI(qy(o),{position:e,mass:n**V$*D$,velocity:Ct.origin,factor:Ct.origin}):i instanceof Ri&&nU(o,Nc(e,n))}function N$(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const o=s,a=t.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*hf)*a,y:(o.offsetTop+o.offsetHeight*hf)*a},c=o.offsetWidth*hf*a,f=YI*a,u=n.type===ll.circle?new en(l.x,l.y,c+f):new Ri(o.offsetLeft*a-f,o.offsetTop*a-f,o.offsetWidth*a+f*Pb,o.offsetHeight*a+f*Pb);i(l,c,u)})}function L$(t,e,n,i){y0(n,e,(r,s)=>N$(t,r,s,(o,a,l)=>ZI(t,o,a,l,i)))}function F$(t,e){const n=t.retina.pixelRatio,i=YI*n,r=t.interactivity.mouse.position,s=t.retina.bounceModeDistance;!s||s<O$||!r||ZI(t,r,s,new en(r.x,r.y,s+i),e)}class j${constructor(){this.distance=200}load(e){G(e)||e.distance!==void 0&&(this.distance=e.distance)}}const Oh="bounce";class z$ extends Yi{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===bo,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&ut(Oh,o)?F$(this.container,l=>this.isEnabled(l)):L$(this.container,a,Oh,l=>this.isEnabled(l))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return!!r.position&&s.onHover.enable&&ut(Oh,s.onHover.mode)||g0(Oh,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new j$);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function B$(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new z$(n)),e)}class JI{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!G(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Xi(this.color)?void 0:this.color;this.color=Yn(e.color,i=>rn.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class U$ extends JI{constructor(){super(),this.selectors=[]}load(e){super.load(e),!G(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class $$ extends JI{load(e){super.load(e),!G(e)&&(this.divs=Yn(e.divs,n=>{const i=new U$;return i.load(n),i}))}}var Oi;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(Oi||(Oi={}));function Ab(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return mi(r,t,e)}else if(e<n){const r=t-(n-e)*i;return mi(r,e,t)}}const Ls="bubble",$m=0,q$=0,W$=2,Ib=1,Rb=1,H$=0,G$=0,qm=.5,Wm=1;class K$ extends Yi{constructor(e,n){super(e),this._clickBubble=()=>{var f;const i=this.container,r=i.actualOptions,s=i.interactivity.mouse.clickPosition,o=r.interactivity.modes.bubble;if(!o||!s)return;i.bubble||(i.bubble={});const a=i.retina.bubbleModeDistance;if(!a||a<$m)return;const l=i.particles.quadTree.queryCircle(s,a,u=>this.isEnabled(u)),{bubble:c}=i;for(const u of l){if(!c.clicking)continue;u.bubble.inRange=!c.durationEnd;const h=u.getPosition(),p=qn(h,s),m=(new Date().getTime()-(i.interactivity.mouse.clickTime??q$))/Yt;m>o.duration&&(c.durationEnd=!0),m>o.duration*W$&&(c.clicking=!1,c.durationEnd=!1);const g={bubbleObj:{optValue:i.retina.bubbleModeSize,value:u.bubble.radius},particlesObj:{optValue:zi(u.options.size.value)*i.retina.pixelRatio,value:u.size.value},type:Oi.size};this._process(u,p,m,g);const v={bubbleObj:{optValue:o.opacity,value:u.bubble.opacity},particlesObj:{optValue:zi(u.options.opacity.value),value:((f=u.opacity)==null?void 0:f.value)??Ib},type:Oi.opacity};this._process(u,p,m,v),!c.durationEnd&&p<=a?this._hoverBubbleColor(u,p):delete u.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.bubbleModeDistance;if(!s||s<$m||!r)return;const o=i.particles.quadTree.queryCircle(r,s,a=>this.isEnabled(a));for(const a of o){a.bubble.inRange=!0;const l=a.getPosition(),c=qn(l,r),f=Rb-c/s;c<=s?f>=G$&&i.interactivity.status===bo&&(this._hoverBubbleSize(a,f),this._hoverBubbleOpacity(a,f),this._hoverBubbleColor(a,f)):this.reset(a),i.interactivity.status===Fy&&this.reset(a)}},this._hoverBubbleColor=(i,r,s)=>{const o=this.container.actualOptions,a=s??o.interactivity.modes.bubble;if(a){if(!i.bubble.finalColor){const l=a.color;if(!l)return;const c=ci(l);i.bubble.finalColor=dc(this._engine,c)}if(i.bubble.finalColor)if(a.mix){i.bubble.color=void 0;const l=i.getFillColor();i.bubble.color=l?FI(_0(l,i.bubble.finalColor,Rb-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,s)=>{var h,p;const o=this.container,a=o.actualOptions,l=(s==null?void 0:s.opacity)??((h=a.interactivity.modes.bubble)==null?void 0:h.opacity);if(!l)return;const c=i.options.opacity.value,f=((p=i.opacity)==null?void 0:p.value)??Ib,u=Ab(f,l,zi(c),r);u!==void 0&&(i.bubble.opacity=u)},this._hoverBubbleSize=(i,r,s)=>{const o=this.container,a=s!=null&&s.size?s.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(a===void 0)return;const l=zi(i.options.size.value)*o.retina.pixelRatio,c=i.size.value,f=Ab(c,a,l,r);f!==void 0&&(i.bubble.radius=f)},this._process=(i,r,s,o)=>{const a=this.container,l=o.bubbleObj.optValue,c=a.actualOptions,f=c.interactivity.modes.bubble;if(!f||l===void 0)return;const u=f.duration,h=a.retina.bubbleModeDistance,p=o.particlesObj.optValue,m=o.bubbleObj.value,g=o.particlesObj.value??H$,v=o.type;if(!(!h||h<$m||l===p))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)m&&(v===Oi.size&&delete i.bubble.radius,v===Oi.opacity&&delete i.bubble.opacity);else if(r<=h){if((m??g)!==l){const w=g-s*(g-l)/u;v===Oi.size&&(i.bubble.radius=w),v===Oi.opacity&&(i.bubble.opacity=w)}}else v===Oi.size&&delete i.bubble.radius,v===Oi.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,s)=>{const o=this.container,a=document.querySelectorAll(r),l=o.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(c=>{const f=c,u=o.retina.pixelRatio,h={x:(f.offsetLeft+f.offsetWidth*qm)*u,y:(f.offsetTop+f.offsetHeight*qm)*u},p=f.offsetWidth*qm*u,m=s.type===ll.circle?new en(h.x,h.y,p):new Ri(f.offsetLeft*u,f.offsetTop*u,f.offsetWidth*u,f.offsetHeight*u),g=o.particles.quadTree.query(m,v=>this.isEnabled(v));for(const v of g){if(!m.contains(v.getPosition()))continue;v.bubble.inRange=!0;const _=l.divs,w=MI(_,f);(!v.bubble.div||v.bubble.div!==f)&&(this.clear(v,i,!0),v.bubble.div=f),this._hoverBubbleSize(v,Wm,w),this._hoverBubbleOpacity(v,Wm,w),this._hoverBubbleColor(v,Wm,w)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Ls&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,f=i.onDiv;o&&ut(Ls,a)?this._hoverBubble():l&&ut(Ls,c)?this._clickBubble():y0(Ls,f,(u,h)=>this._singleSelectorHover(e,u,h))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=g0(Ls,a);return c||l.enable&&r.position||o.enable&&r.clickPosition?ut(Ls,l.mode)||ut(Ls,o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new $$);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function Q$(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new K$(n,t)),e)}class X${constructor(){this.opacity=.5}load(e){G(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class Y${constructor(){this.distance=80,this.links=new X$,this.radius=60}load(e){G(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const Mb=0,Vb=1,Z$=0;function J$(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),c=_0(s,o,e.getRadius(),n.getRadius()),f=t.createLinearGradient(a.x,a.y,l.x,l.y);return f.addColorStop(Mb,pc(s,i)),f.addColorStop(mi(r,Mb,Vb),fr(c,i)),f.addColorStop(Vb,pc(o,i)),f}function e8(t,e,n,i,r){Su(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function t8(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return J$(e,n,i,s.links.opacity)}function n8(t,e,n){t.canvas.draw(i=>{const r=t8(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();e8(i,e.retina.linksWidth??Z$,r,s,o)})}const i8="connect",Db=0;class r8 extends Yi{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<Db||!s||s<Db||!i)return;const o=Math.abs(s),a=e.particles.quadTree.queryCircle(i,o,l=>this.isEnabled(l));a.forEach((l,c)=>{const f=l.getPosition(),u=1;for(const h of a.slice(c+u)){const p=h.getPosition(),m=Math.abs(r),g=Math.abs(f.x-p.x),v=Math.abs(f.y-p.y);g<m&&v<m&&n8(e,l,h)}})}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?ut(i8,r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new Y$);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function s8(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new r8(n)),e)}class o8{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){G(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=rn.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class a8{constructor(){this.distance=100,this.links=new o8}load(e){G(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const l8=0;function u8(t,e,n,i,r,s){Su(t,n,i),t.strokeStyle=fr(r,s),t.lineWidth=e,t.stroke()}function c8(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();u8(s,e.retina.linksWidth??l8,o,r,n,i)})}const h8="grab",f8=0,d8=0;class p8 extends Yi{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==bo)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<f8)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),f=qn(c,r);if(f>s)continue;const u=i.modes.grab.links,h=u.opacity,p=h-f*h/s;if(p<=d8)continue;const m=u.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&m){const v=i.modes.grab.links;e.particles.grabLineColor=zI(this._engine,m,v.blink,v.consent)}const g=Hy(l,void 0,e.particles.grabLineColor);g&&c8(e,l,g,p,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&ut(h8,r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new a8);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function m8(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new p8(n,t)),e)}const g8="pause";class y8 extends Yi{constructor(e){super(e),this.handleClickMode=n=>{if(n!==g8)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function v8(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new y8(n)),e)}class _8{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(G(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=Re(n)),this.particles=Yn(e.particles,i=>nn({},i))}}const w8="push",x8=0;class T8 extends Yi{constructor(e){super(e),this.handleClickMode=n=>{if(n!==w8)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=oe(s.quantity);if(o<=x8)return;const a=up([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0,c=ci(s.particles),f=nn(l,c);i.particles.push(o,i.interactivity.mouse,f,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new _8);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function b8(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new T8(n)),e)}class E8{constructor(){this.quantity=2}load(e){if(G(e))return;const n=e.quantity;n!==void 0&&(this.quantity=Re(n))}}const S8="remove";class C8 extends Yi{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!==S8)return;const s=oe(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new E8);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function k8(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new C8(n)),e)}class eR{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=po.easeOutQuad}load(e){G(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class P8 extends eR{constructor(){super(),this.selectors=[]}load(e){super.load(e),!G(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class A8 extends eR{load(e){super.load(e),!G(e)&&(this.divs=Yn(e.divs,n=>{const i=new P8;return i.load(n),i}))}}const Fs="repulse",I8=0,R8=6,M8=3,V8=2,D8=0,O8=0,N8=1,Hm=.5;class L8 extends Yi{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<I8)return;const a=Math.pow(o/R8,M8),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new en(l.x,l.y,a),f=i.particles.quadTree.query(c,u=>this.isEnabled(u));for(const u of f){const{dx:h,dy:p,distance:m}=hn(l,u.position),g=m**V8,v=r.speed,_=-a*v/g;if(g<=a){s.particles.push(u);const w=Ct.create(h,p);w.length=_,u.velocity.setTo(w)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<D8||!r||this._processRepulse(r,s,new en(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,v=>this.isEnabled(v)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:f,speed:u,factor:h,maxSpeed:p}=c,m=this._engine.getEasing(f),g=((o==null?void 0:o.speed)??u)*h;for(const v of l){const{dx:_,dy:w,distance:x}=hn(v.position,i),C=mi(m(N8-x/r)*g,O8,p),I=Ct.create(x?_/x*C:g,x?w/x*C:g);v.position.addTo(I)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,f=s.retina.pixelRatio,u={x:(c.offsetLeft+c.offsetWidth*Hm)*f,y:(c.offsetTop+c.offsetHeight*Hm)*f},h=c.offsetWidth*Hm*f,p=r.type===ll.circle?new en(u.x,u.y,h):new Ri(c.offsetLeft*f,c.offsetTop*f,c.offsetWidth*f,c.offsetHeight*f),m=o.divs,g=MI(m,c);this._processRepulse(u,h,p,g)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==Fs)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*Yt)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===bo,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,f=l.mode,u=r.onDiv;i&&o&&ut(Fs,a)?this._hoverRepulse():c&&ut(Fs,f)?this._clickRepulse():y0(Fs,u,(h,p)=>this._singleSelectorRepulse(h,p))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=g0(Fs,o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const f=a.mode,u=l.mode;return ut(Fs,f)||ut(Fs,u)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new A8);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function F8(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new L8(t,n)),e)}class j8{constructor(){this.factor=3,this.radius=200}load(e){G(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const z8="slow",B8=0;class U8 extends Yi{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&ut(z8,r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new j8);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<B8||!r)return;const a=e.getPosition(),l=qn(r,a),c=l/s,f=o.factor,{slow:u}=e;l>s||(u.inRange=!0,u.factor=c/f)}}async function $8(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new U8(n)),e)}const q8=0,W8=1,H8=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function G8(t,e,n){const{svgData:i}=t;if(!i)return"";const r=pc(e,n);if(i.includes("fill"))return i.replace(H8,()=>r);const s=i.indexOf(">");return`${i.substring(q8,s)} fill="${r}"${i.substring(s)}`}async function cp(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,So().error(`${pi} loading image: ${t.source}`),e()}),n.src=t.source})}async function K8(t){if(t.type!=="svg"){await cp(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(So().error(`${pi} Image not found`),t.error=!0),t.loading=!1}function Q8(t,e,n,i){var o;const r=G8(t,n,((o=i.opacity)==null?void 0:o.value)??W8),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,f=c.createObjectURL(l),u=new Image;u.addEventListener("load",()=>{s.loaded=!0,s.element=u,a(s),c.revokeObjectURL(f)});const h=async()=>{c.revokeObjectURL(f);const p={...t,error:!1,loading:!0};await cp(p),s.loaded=!0,s.element=p.element,a(s)};u.addEventListener("error",()=>void h()),u.src=f})}const Gm=[0,4,2,1],Ob=[8,8,4,2];class X8{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const i=0,r=0;do{n=this.data[this.pos++];for(let s=n;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const i=0,r=1;for(let o=0;e!==i;o+=e+r,e=this.data[this.pos+o])n+=e;const s=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==i;e=this.data[this.pos++])for(let a=e;--a>=i;s[o++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var wi;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(wi||(wi={}));var lr;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(lr||(lr={}));const gn={x:0,y:0},Y8=0,Nb=.5,Z8=0,Lb=0,Ky=0;function tR(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function J8(t,e,n,i){switch(t.nextByte()){case lr.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case lr.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case lr.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case lr.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function eq(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const f=1<<(a&7)+1;l&&(o.localColorTable=tR(t,f));const u=_=>{const{r:w,g:x,b:C}=(l?o.localColorTable:e.globalColorTable)[_];return _!==r(null)?{r:w,g:x,b:C,a:255}:{r:w,g:x,b:C,a:n?~~((w+x+C)/3):0}},h=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(_){if(_ instanceof DOMException&&_.name==="IndexSizeError")return null;throw _}})();if(h==null)throw new EvalError("GIF frame size is to large");const p=t.nextByte(),m=t.readSubBlocksBin(),g=1<<p,v=(_,w)=>{const x=_>>>3,C=_&7;return(m[x]+(m[x+1]<<8)+(m[x+2]<<16)&(1<<w)-1<<C)>>>C};if(c){for(let _=0,w=p+1,x=0,C=[[0]],I=0;I<4;I++)if(Gm[I]<o.height){let D=0,k=0,b=!1;for(;!b;){const E=_;if(_=v(x,w),x+=w+1,_===g){w=p+1,C.length=g+2;for(let P=0;P<C.length;P++)C[P]=P<g?[P]:[]}else{_>=C.length?C.push(C[E].concat(C[E][0])):E!==g&&C.push(C[E].concat(C[_][0]));for(const P of C[_]){const{r:M,g:V,b:A,a:z}=u(P);h.data.set([M,V,A,z],Gm[I]*o.width+Ob[I]*k+D%(o.width*4)),D+=4}C.length===1<<w&&w<12&&w++}D===o.width*4*(k+1)&&(k++,Gm[I]+Ob[I]*k>=o.height&&(b=!0))}}o.image=h,o.bitmap=await createImageBitmap(h)}else{let _=0,w=p+1,x=0,C=-4,I=!1;const D=[[0]];for(;!I;){const k=_;if(_=v(x,w),x+=w,_===g){w=p+1,D.length=g+2;for(let b=0;b<D.length;b++)D[b]=b<g?[b]:[]}else{if(_===g+1){I=!0;break}_>=D.length?D.push(D[k].concat(D[k][0])):k!==g&&D.push(D[k].concat(D[_][0]));for(const b of D[_]){const{r:E,g:P,b:M,a:V}=u(b);h.data.set([E,P,M,V],C+=4)}D.length>=1<<w&&w<12&&w++}}o.image=h,o.bitmap=await createImageBitmap(h)}}async function tq(t,e,n,i,r,s){switch(t.nextByte()){case lr.EndOfFile:return!0;case lr.Image:await eq(t,e,n,i,r);break;case lr.Extension:J8(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function nq(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function iq(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new X8(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,f=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=tR(o,c));const u=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(C){if(C instanceof DOMException&&C.name==="IndexSizeError")return null;throw C}})();if(u==null)throw new Error("GIF frame size is to large");const{r:h,g:p,b:m}=s.globalColorTable[f];u.data.set(l?[h,p,m,255]:[0,0,0,0]);for(let C=4;C<u.data.length;C*=2)u.data.copyWithin(C,0,C);s.backgroundImage=u;let g=-1,v=!0,_=-1;const w=C=>(C&&(v=!0),g),x=C=>(C!=null&&(_=C),_);try{do v&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:wi.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),g++,_=-1,v=!1);while(!await tq(o,s,n,w,x,e));s.frames.length--;for(const C of s.frames){if(C.userInputDelayFlag&&C.delayTime===0){s.totalTime=1/0;break}s.totalTime+=C.delayTime}return s}catch(C){throw C instanceof EvalError?new Error(`error while parsing frame ${g} "${C.message}"`):C}}function rq(t){const{context:e,radius:n,particle:i,delta:r}=t,s=i.image;if(!(s!=null&&s.gifData)||!s.gif)return;const o=new OffscreenCanvas(s.gifData.width,s.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(gn.x,gn.y,o.width,o.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??Ky);let l=i.gifFrame??Y8;const c={x:-s.gifData.width*Nb,y:-s.gifData.height*Nb},f=s.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=Z8),!!f.bitmap){switch(e.scale(n/s.gifData.width,n/s.gifData.height),f.disposalMethod){case wi.UndefinedA:case wi.UndefinedB:case wi.UndefinedC:case wi.UndefinedD:case wi.Replace:a.drawImage(f.bitmap,f.left,f.top),e.drawImage(o,c.x,c.y),a.clearRect(gn.x,gn.y,o.width,o.height);break;case wi.Combine:a.drawImage(f.bitmap,f.left,f.top),e.drawImage(o,c.x,c.y);break;case wi.RestoreBackground:a.drawImage(f.bitmap,f.left,f.top),e.drawImage(o,c.x,c.y),a.clearRect(gn.x,gn.y,o.width,o.height),s.gifData.globalColorTable.length?a.putImageData(s.gifData.backgroundImage,c.x,c.y):a.putImageData(s.gifData.frames[Lb].image,c.x+f.left,c.y+f.top);break;case wi.RestorePrevious:{const u=a.getImageData(gn.x,gn.y,o.width,o.height);a.drawImage(f.bitmap,f.left,f.top),e.drawImage(o,c.x,c.y),a.clearRect(gn.x,gn.y,o.width,o.height),a.putImageData(u,gn.x,gn.y)}break}if(i.gifTime+=r.value,i.gifTime>f.delayTime){if(i.gifTime-=f.delayTime,++l>=s.gifData.frames.length){if(--i.gifLoopCount<=Ky)return;l=Lb,a.clearRect(gn.x,gn.y,o.width,o.height)}i.gifFrame=l}e.scale(s.gifData.width/n,s.gifData.height/n)}}async function sq(t){if(t.type!=="gif"){await cp(t);return}t.loading=!0;try{t.gifData=await iq(t.source),t.gifLoopCount=nq(t.gifData)??Ky,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const oq=2,aq=1,lq=12,uq=1;class cq{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${pi} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:i,particle:r,opacity:s}=e,o=r.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=s,o.gif&&o.gifData)rq(e);else if(a){const l=o.ratio,c={x:-i,y:-i},f=i*oq;n.drawImage(a,c.x,c.y,f,f/l)}n.globalAlpha=aq}}getSidesCount(){return lq}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData;if(!r)return;const s=n.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await Q8(o,r,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??uq,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??n.shapeFill,f=r.close??n.shapeClose,u={image:l,fill:c,close:f};n.image=u.image,n.shapeFill=u.fill,n.shapeClose=u.close})()}}class hq{constructor(){this.src="",this.gif=!1}load(e){G(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class fq{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new hq;o.load(r),i.push(o)}}}needsPlugin(){return!0}}const dq=3;function pq(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${pi} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-dq),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let i;e.gif?i=sq:i=e.replaceColor?K8:cp,await i(n)}catch{throw new Error(`${pi} ${e.name??e.src} not found`)}})}async function mq(t,e=!0){t.checkVersion("3.9.1"),pq(t);const n=new fq(t);await t.addPlugin(n,e),await t.addShape(new cq(t),e)}class gq extends Oo{constructor(){super(),this.sync=!1}load(e){G(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class yq extends Oo{constructor(){super(),this.sync=!1}load(e){G(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class vq{constructor(){this.count=0,this.delay=new gq,this.duration=new yq}load(e){G(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Wo=0,_q=-1,Fb=0,jb=0;function wq(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning)if(i.delayTime+=e.value,i.delayTime>=t.life.delay)r=!0,t.spawning=!1,i.delayTime=Wo,i.time=Wo;else return;if(i.duration===_q||t.spawning||(r?i.time=Wo:i.time+=e.value,i.time<i.duration))return;if(i.time=Wo,t.life.count>Fb&&t.life.count--,t.life.count===Fb){t.destroy();return}const s=Re(jb,n.width),o=Re(jb,n.width);t.position.x=zn(s),t.position.y=zn(o),t.spawning=!0,i.delayTime=Wo,i.time=Wo,t.reset();const a=t.options.life;a&&(i.delay=oe(a.delay.value)*Yt,i.duration=oe(a.duration.value)*Yt)}const js=0,zb=1,Bb=-1;class xq{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?oe(r.delay.value)*(r.delay.sync?zb:De())/n.retina.reduceFactor*Yt:js,delayTime:js,duration:n.retina.reduceFactor?oe(r.duration.value)*(r.duration.sync?zb:De())/n.retina.reduceFactor*Yt:js,time:js,count:r.count},e.life.duration<=js&&(e.life.duration=Bb),e.life.count<=js&&(e.life.count=Bb),e.life&&(e.spawning=e.life.delay>js))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new vq);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){!this.isEnabled(e)||!e.life||wq(e,n,this.container.canvas.size)}}async function Tq(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new xq(n)),e)}function bq(t){const{context:e,particle:n,radius:i}=t,r=n.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=(r==null?void 0:r.cap)??"butt"}const Eq=1;class Sq{constructor(){this.validTypes=["line"]}draw(e){bq(e)}getSidesCount(){return Eq}}async function Cq(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new Sq,e)}const Ub=.5;class kq{init(){}isEnabled(e){return!Co()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(Co()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width*Ub,y:a.height*Ub},c=r.smooth,f=e.getRadius()/s,u={x:(o.x-l.x)*f,y:(o.y-l.y)*f},{offset:h}=e;h.x+=(u.x-h.x)/c,h.y+=(u.y-h.y)/c}}async function Pq(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new kq),e)}const $b=1e3,Aq=1;class Iq extends T0{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=oe(e.options.move.attract.distance)*n.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=hn(r,a),f=e.options.move.attract.rotate,u=l/(f.x*$b),h=c/(f.y*$b),p=o.size.value/e.size.value,m=Aq/p;e.velocity.x-=u*p,e.velocity.y-=h*p,o.velocity.x+=u*m,o.velocity.y+=h*m}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function Rq(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new Iq(n)),e)}const Mq=.5,Vq=10,Dq=0;function qb(t,e,n,i,r,s){const o=mi(t.options.collisions.absorb.speed*r.factor/Vq,Dq,i);t.size.value+=o*Mq,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function Oq(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?qb(t,r,e,s,n,i):qb(e,s,t,r,n,i))}const Wb=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=oe(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function nR(t,e){VI(qy(t),qy(e)),Wb(t),Wb(e)}function Nq(t,e){!t.unbreakable&&!e.unbreakable&&nR(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function Lq(t,e,n,i){switch(t.options.collisions.mode){case Ma.absorb:{Oq(t,e,n,i);break}case Ma.bounce:{nR(t,e);break}case Ma.destroy:{Nq(t,e);break}}}const Fq=2;class jq extends T0{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*Fq);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const f=qn(r,l),u=s+c;f>u||Lq(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function zq(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new jq(n)),e)}const Km=2;class Bq extends en{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new en(r.x,r.y,i.radius*Km);return super.intersects(s)}else if(n.size!==void 0){const s=new Ri(r.x,r.y,n.size.width*Km,n.size.height*Km);return super.intersects(s)}return!1}}class Uq{constructor(){this.blur=5,this.color=new rn,this.color.value="#000",this.enable=!1}load(e){G(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=rn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class $q{constructor(){this.enable=!1,this.frequency=1}load(e){G(e)||(e.color!==void 0&&(this.color=rn.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class qq{constructor(){this.blink=!1,this.color=new rn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Uq,this.triangles=new $q,this.width=1,this.warp=!1}load(e){G(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=rn.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const Hb=2,Wq=1,Nh={x:0,y:0},Hq=0;function Gq(t,e,n,i,r){const{dx:s,dy:o,distance:a}=hn(t,e);if(!r||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**Hb+c.y**Hb)}class Kq extends T0{constructor(e,n){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,s=i.options.links;let o=s.id===void 0?r.particles.linksColor:r.particles.linksColors.get(s.id);if(o)return;const a=s.color;o=zI(this._engine,a,s.blink,s.consent),s.id===void 0?r.particles.linksColor=o:r.particles.linksColors.set(s.id,o)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<Nh.x||n.y<Nh.y||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??Hq,l=s.warp;let c;l?c=new Bq(n.x,n.y,a,r):c=new en(n.x,n.y,a);const f=i.particles.quadTree.query(c);for(const u of f){const h=u.options.links;if(e===u||!(h!=null&&h.enable)||s.id!==h.id||u.spawning||u.destroyed||!u.links||e.links.some(v=>v.destination===u)||u.links.some(v=>v.destination===e))continue;const p=u.getPosition();if(p.x<Nh.x||p.y<Nh.y||p.x>r.width||p.y>r.height)continue;const m=Gq(n,p,a,r,l&&h.warp);if(m>a)continue;const g=(Wq-m/a)*o;this._setColor(e),e.links.push({destination:u,opacity:g})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new qq);for(const i of n)e.links.load(i==null?void 0:i.links)}reset(){}}async function Qq(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new Kq(n,t)),e)}function Xq(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function Yq(t){let e=!1;const{begin:n,end:i,engine:r,maxDistance:s,context:o,canvasSize:a,width:l,backgroundMask:c,colorLine:f,opacity:u,links:h}=t;if(qn(n,i)<=s)Su(o,n,i),e=!0;else if(h.warp){let m,g;const v={x:i.x-a.width,y:i.y},_=hn(n,v);if(_.distance<=s){const w=n.y-_.dy/_.dx*n.x;m={x:0,y:w},g={x:a.width,y:w}}else{const w={x:i.x,y:i.y-a.height},x=hn(n,w);if(x.distance<=s){const I=-(n.y-x.dy/x.dx*n.x)/(x.dy/x.dx);m={x:I,y:0},g={x:I,y:a.height}}else{const C={x:i.x-a.width,y:i.y-a.height},I=hn(n,C);if(I.distance<=s){const D=n.y-I.dy/I.dx*n.x;m={x:-D/(I.dy/I.dx),y:D},g={x:m.x+a.width,y:m.y+a.height}}}}m&&g&&(Su(o,n,m),Su(o,i,g),e=!0)}if(!e)return;o.lineWidth=l,c.enable&&(o.globalCompositeOperation=c.composite),o.strokeStyle=fr(f,u);const{shadow:p}=h;if(p.enable){const m=ki(r,p.color);m&&(o.shadowBlur=p.blur,o.shadowColor=fr(m))}o.stroke()}function Zq(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;Xq(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=fr(o,a),e.fill()}function Jq(t){return t.sort((e,n)=>e-n),t.join("_")}function Gb(t,e){const n=Jq(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=De(),e.set(n,i)),i}const Kb=0,Qm=0,Qb=0,e7=.5,t7=1;class n7{constructor(e,n){this._drawLinkLine=(i,r)=>{const s=i.options.links;if(!(s!=null&&s.enable))return;const o=this._container,a=o.actualOptions,l=r.destination,c=i.getPosition(),f=l.getPosition();let u=r.opacity;o.canvas.draw(h=>{var w;let p;const m=(w=i.options.twinkle)==null?void 0:w.lines;if(m!=null&&m.enable){const x=m.frequency,C=ki(this._engine,m.color);De()<x&&C&&(p=C,u=oe(m.opacity))}if(!p){const x=s.id!==void 0?o.particles.linksColors.get(s.id):o.particles.linksColor;p=Hy(i,l,x)}if(!p)return;const g=i.retina.linksWidth??Qm,v=i.retina.linksDistance??Qb,{backgroundMask:_}=a;Yq({context:h,width:g,begin:c,end:f,engine:this._engine,maxDistance:v,canvasSize:o.canvas.size,links:s,backgroundMask:_,colorLine:p,opacity:u})})},this._drawLinkTriangle=(i,r,s)=>{const o=i.options.links;if(!(o!=null&&o.enable))return;const a=o.triangles;if(!a.enable)return;const l=this._container,c=l.actualOptions,f=r.destination,u=s.destination,h=a.opacity??(r.opacity+s.opacity)*e7;h<=Kb||l.canvas.draw(p=>{const m=i.getPosition(),g=f.getPosition(),v=u.getPosition(),_=i.retina.linksDistance??Qb;if(qn(m,g)>_||qn(v,g)>_||qn(v,m)>_)return;let w=ki(this._engine,a.color);if(!w){const x=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;w=Hy(i,f,x)}w&&Zq({context:p,pos1:m,pos2:g,pos3:v,backgroundMask:c.backgroundMask,colorTriangle:w,opacityTriangle:h})})},this._drawTriangles=(i,r,s,o)=>{var c,f,u;const a=s.destination;if(!((c=i.links)!=null&&c.triangles.enable&&((f=a.options.links)!=null&&f.triangles.enable)))return;const l=(u=a.links)==null?void 0:u.filter(h=>{const p=this._getLinkFrequency(a,h.destination);return a.options.links&&p<=a.options.links.frequency&&o.findIndex(g=>g.destination===h.destination)>=0});if(l!=null&&l.length)for(const h of l){const p=h.destination;this._getTriangleFrequency(r,a,p)>i.links.triangles.frequency||this._drawLinkTriangle(r,s,h)}},this._getLinkFrequency=(i,r)=>Gb([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,s)=>Gb([i,r,s],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!(i!=null&&i.length))return;const s=i.filter(o=>r.links&&(r.links.frequency>=t7||this._getLinkFrequency(n,o.destination)<=r.links.frequency));for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>Kb&&(n.retina.linksWidth??Qm)>Qm&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class i7{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new n7(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function r7(t,e=!0){const n=new i7(t);await t.addPlugin(n,e)}async function s7(t,e=!0){t.checkVersion("3.9.1"),await Qq(t,e),await r7(t,e)}const o7=180,Lh={x:0,y:0},a7=2;function l7(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,s=n.count.numerator/n.count.denominator,o=o7*(s-a7)/s,a=Math.PI-as(o);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(Lh.x,Lh.y);for(let l=0;l<r;l++)i.lineTo(n.length,Lh.y),i.translate(n.length,Lh.y),i.rotate(a)}}const u7=5;class iR{draw(e){const{particle:n,radius:i}=e,r=this.getCenter(n,i),s=this.getSidesData(n,i);l7(e,r,s)}getSidesCount(e){const n=e.shapeData;return Math.round(oe((n==null?void 0:n.sides)??u7))}}const Xb=3.5,Yb=2.66,c7=3;class h7 extends iR{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/Xb),y:-n/(Yb/Xb)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*Yb/(i/c7)}}}const f7=1.66,d7=3,p7=2;class m7 extends iR{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/f7}}getSidesCount(){return d7}getSidesData(e,n){const i=n*p7;return{count:{denominator:2,numerator:3},length:i}}}async function g7(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new h7,e)}async function y7(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new m7,e)}async function v7(t,e=!0){t.checkVersion("3.9.1"),await g7(t,e),await y7(t,e)}class _7{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){G(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Re(e.speed)),e.decay!==void 0&&(this.decay=Re(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class w7 extends Oo{constructor(){super(),this.animation=new _7,this.direction=bi.clockwise,this.path=!1,this.value=0}load(e){G(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const rR=2,x7=Math.PI*rR,T7=1,b7=360;class E7{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:as(oe(n.value)),min:0,max:x7},e.pathRotation=n.path;let i=n.direction;switch(i===bi.random&&(i=Math.floor(De()*rR)>0?bi.counterClockwise:bi.clockwise),i){case bi.counterClockwise:case"counterClockwise":e.rotate.status=dt.decreasing;break;case bi.clockwise:e.rotate.status=dt.increasing;break}const r=n.animation;r.enable&&(e.rotate.decay=T7-oe(r.decay),e.rotate.velocity=oe(r.speed)/b7*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=De())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new w7);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(v0(e,e.rotate,!1,Eo.none,n),e.rotation=e.rotate.value))}}async function S7(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new E7(n)),e)}const C7=2,k7=Math.sqrt(C7),P7=2;function A7(t){const{context:e,radius:n}=t,i=n/k7,r=i*P7;e.rect(-i,-i,r,r)}const I7=4;class R7{constructor(){this.validTypes=["edge","square"]}draw(e){A7(e)}getSidesCount(){return I7}}async function M7(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new R7,e)}const V7=2,Ho={x:0,y:0};function D7(t){const{context:e,particle:n,radius:i}=t,r=n.sides,s=n.starInset??V7;e.moveTo(Ho.x,Ho.y-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(Ho.x,Ho.y-i*s),e.rotate(Math.PI/r),e.lineTo(Ho.x,Ho.y-i)}const O7=2,N7=5;class L7{constructor(){this.validTypes=["star"]}draw(e){D7(e)}getSidesCount(e){const n=e.shapeData;return Math.round(oe((n==null?void 0:n.sides)??N7))}particleInit(e,n){const i=n.shapeData;n.starInset=oe((i==null?void 0:i.inset)??O7)}}async function F7(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new L7,e)}const j7=1;class z7{constructor(e,n){this._container=e,this._engine=n}init(e){var o;const n=this._container,i=e.options,r=ci(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=oe(r.width)*n.retina.pixelRatio,e.strokeOpacity=oe(r.opacity??j7),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=dc(this._engine,r.color)??e.getFillColor();s&&(e.strokeColor=BI(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&UI(e.strokeColor,n)}}async function B7(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new z7(n,t)),e)}async function U7(t,e=!0){t.checkVersion("3.9.1"),await Pq(t,!1),await M$(t,!1),await B$(t,!1),await Q$(t,!1),await s8(t,!1),await m8(t,!1),await v8(t,!1),await b8(t,!1),await k8(t,!1),await F8(t,!1),await $8(t,!1),await Rq(t,!1),await zq(t,!1),await s7(t,!1),await T$(t,!1),await S$(t,!1),await mq(t,!1),await Cq(t,!1),await v7(t,!1),await M7(t,!1),await F7(t,!1),await Tq(t,!1),await S7(t,!1),await B7(t,!1),await x$(t,e)}function $7({enabled:t=!0,targets:e=[],className:n=""}){var u,h,p,m,g,v,_;const{theme:i}=Tc(),[r,s]=N.useState(!1),o=N.useRef(null),a=N.useRef([]),l=[((h=(u=i==null?void 0:i.colors)==null?void 0:u.voting)==null?void 0:h.optionA)||"#FFD700",((m=(p=i==null?void 0:i.colors)==null?void 0:p.voting)==null?void 0:m.optionB)||"#FFA500",((v=(g=i==null?void 0:i.colors)==null?void 0:g.voting)==null?void 0:v.optionC)||"#FF6B35",((_=i==null?void 0:i.colors)==null?void 0:_.primary)||"#00D4FF"];N.useEffect(()=>{k6(async w=>{await U7(w)}).then(()=>{s(!0),console.log(" Vote particles engine ready")})},[]);const c=N.useCallback((w,x=1)=>{var Q;const C=o.current;if(!C||!t)return;const I=e.find(te=>te.optionId===w);if(!I){console.warn("No target found for vote option:",w);return}const D=["top","left","right","bottom"],k=D[Math.floor(Math.random()*D.length)];let b,E;const P=(Q=C.canvas.element)==null?void 0:Q.getBoundingClientRect();if(!P)return;switch(k){case"top":b=Math.random()*P.width,E=0;break;case"bottom":b=Math.random()*P.width,E=P.height;break;case"left":b=0,E=Math.random()*P.height;break;case"right":b=P.width,E=Math.random()*P.height;break}const M=I.rect.left+I.rect.width/2-P.left,V=I.rect.top+I.rect.height/2-P.top,A=M-b,z=V-E,Z=Math.atan2(z,A)*(180/Math.PI);for(let te=0;te<x;te++)C.particles.addParticle({x:b+Math.random()*20-10,y:E+Math.random()*20-10},{move:{enable:!0,speed:12+Math.random()*8,direction:Z,straight:!1,outModes:{default:"destroy"}},size:{value:10+Math.random()*8},opacity:{value:.9},color:{value:l[Math.floor(Math.random()*l.length)]},life:{duration:{value:2},count:1}});console.log(` Emitted ${x} vote particle(s) for option ${w}`)},[t,e,l]);if(N.useEffect(()=>{if(!r)return;const w=a.current;w.length>0&&(w.forEach(x=>{c(x.optionId)}),a.current=[])},[r,c]),N.useEffect(()=>(window.emitVoteParticle=c,()=>{delete window.emitVoteParticle}),[c]),!t||!r)return null;const f={fullScreen:!1,background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:0},color:{value:l},shape:{type:"circle"},opacity:{value:{min:.5,max:1},animation:{enable:!0,speed:.5,startValue:"max",destroy:"min"}},size:{value:{min:6,max:14}},move:{enable:!0,speed:10,outModes:{default:"destroy"}},life:{duration:{sync:!1,value:2},count:1},twinkle:{particles:{enable:!0,frequency:.15,opacity:1}}},detectRetina:!0};return S.jsx(C6,{id:"vote-particles",className:`vote-particles-container ${n}`,particlesLoaded:async w=>{o.current=w||null,console.log(" Vote particles container loaded")},options:f,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:50}})}function q7(){return{emitVoteParticle:N.useCallback((e,n=1)=>{const i=window.emitVoteParticle;i?i(e,n):console.warn("Vote particles not ready")},[])}}function W7(){var b,E,P,M;const[t,e]=N.useState({type:"none"}),[n,i]=N.useState({}),[r,s]=N.useState(!0),[o,a]=N.useState("Connecting..."),[l,c]=N.useState(!1),[f,u]=N.useState(!1);Tc(),XB();const{emitVoteParticle:h}=q7(),[p,m]=N.useState(new Map),g=N.useRef({}),v=N.useRef({type:"none"}),_=N.useRef(0),w=N.useCallback((V,A)=>{A&&m(z=>{const Z=new Map(z);return Z.set(V,A.getBoundingClientRect()),Z})},[]);N.useEffect(()=>(wI(),()=>GB()),[]);const x=()=>{eD(),yt.init(),s(!0)};N.useEffect(()=>{console.log("DisplayView: Setting up listener for active-interaction");const V=Ii(ke(Pe,"config","active-interaction"),A=>{if(console.log("DisplayView: Got snapshot",A.exists(),A.data()),A.exists()){const z=A.data();z.type!=="none"&&v.current.type==="none"&&(yt.play("whoosh"),u(!1)),v.current.isOpen&&!z.isOpen&&z.type==="vote"&&(yt.play("uiClick"),c(!0),setTimeout(()=>c(!1),800),setTimeout(()=>{u(!0),yt.playVictoryFanfare(),ud({intensity:"epic"})},600)),v.current=z,e(z),a(`Type: ${A.data().type}`)}else e({type:"none"}),a("No active interaction doc")},A=>{console.error("DisplayView: Listener error",A),a(`Error: ${A.message}`)});return()=>V()},[]),N.useEffect(()=>{const V=Ii(ke(Pe,"votes","current-vote"),A=>{if(A.exists()){const z=A.data(),Z=z.counts||{};z.totalVotes&&z.totalVotes>_.current&&(yt.play("timerTick",{volume:.3}),Object.keys(Z).forEach(Q=>{const te=g.current[Q]||0,Y=(Z[Q]||0)-te;if(Y>0){const L=Math.min(Y,5);for(let O=0;O<L;O++)setTimeout(()=>h(Q,1),O*50)}})),g.current={...Z},_.current=z.totalVotes||0,i(z)}});return()=>V()},[h]);const C=n.totalVotes||0,I=V=>{var A;return C===0?0:(((A=n.counts)==null?void 0:A[V])||0)/C*100},D=()=>{if(!t.options||C===0)return null;let V=0,A=null;return t.options.forEach(z=>{var Q;const Z=((Q=n.counts)==null?void 0:Q[z.id])||0;Z>V&&(V=Z,A=z)}),A},k=((b=t.options)==null?void 0:b.map(V=>({optionId:V.id,rect:p.get(V.id)||new DOMRect,emoji:V.emoji})))||[];return S.jsxs("div",{className:`display-container crt-overlay ${l?"shake-intense":""}`,children:[S.jsx($7,{enabled:t.type==="vote",targets:k}),S.jsxs("div",{style:{position:"absolute",top:"1rem",left:"1rem",color:"#666",fontSize:"0.8rem",zIndex:100},children:[o," | Active: ",t.type]}),S.jsx("button",{className:"sound-toggle",onClick:x,title:r?"Sound enabled":"Click to enable sound",children:r?S.jsx(gz,{size:28}):S.jsx(yz,{size:28})}),S.jsxs(sc,{mode:"wait",children:[t.type==="none"&&S.jsx(Ae.div,{className:"idle-state",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:S.jsxs("div",{className:"idle-content",children:[S.jsx(Ae.div,{className:"idle-logo",animate:{y:[0,-15,0],filter:["drop-shadow(0 0 8px var(--tmp-color-primary))","drop-shadow(0 0 20px var(--tmp-color-primary))","drop-shadow(0 0 8px var(--tmp-color-primary))"]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:S.jsx(xA,{size:280})}),S.jsx("p",{className:"join-prompt",children:"Join the adventure"}),S.jsx("div",{className:"url-display",children:"play.misadventuringparty.com"})]})},"idle"),t.type==="vote"&&S.jsxs(Ae.div,{className:"vote-display",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[S.jsx(Ae.h2,{className:"vote-question",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:t.question}),S.jsxs(Ae.div,{className:"vote-count",initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},children:[S.jsx("span",{className:"count-number",children:C}),S.jsx("span",{className:"count-label",children:"votes cast"})]}),S.jsx("div",{className:"display-results-bar",children:(E=t.options)==null?void 0:E.map((V,A)=>{var Q;const z=I(V.id),Z=["bar-a","bar-b","bar-c"];return S.jsx(Ae.div,{ref:te=>w(V.id,te),className:`display-bar-segment ${Z[A]}`,initial:{width:`${100/(((Q=t.options)==null?void 0:Q.length)||2)}%`},animate:{width:`${Math.max(z,5)}%`},transition:{type:"spring",stiffness:50,damping:15},children:S.jsxs("div",{className:"segment-content",children:[S.jsx("span",{className:"segment-emoji",children:V.emoji}),S.jsx("span",{className:"segment-label",children:V.label}),S.jsxs("span",{className:"segment-percent",children:[Math.round(z),"%"]})]})},V.id)})}),S.jsx(Ae.div,{className:`voting-status ${t.isOpen?"open":"closed"}`,animate:t.isOpen?{scale:[1,1.05,1]}:{},transition:{repeat:1/0,duration:1.5},children:t.isOpen?S.jsxs(S.Fragment,{children:[S.jsx(R1,{size:32})," VOTING OPEN ",S.jsx(R1,{size:32})]}):S.jsxs(S.Fragment,{children:[S.jsx(mz,{size:32})," VOTING CLOSED"]})}),S.jsx(sc,{children:!t.isOpen&&C>0&&f&&S.jsxs(Ae.div,{className:"winner-announcement winner-pulse",initial:{scale:0,rotate:-10,opacity:0},animate:{scale:1,rotate:0,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:200,damping:10},children:[S.jsx(Ae.span,{className:"winner-emoji",animate:{scale:[1,1.2,1],rotate:[0,-5,5,0]},transition:{duration:.6,delay:.3},children:(P=D())==null?void 0:P.emoji}),S.jsx("span",{className:"winner-text glitch-text",children:(M=D())==null?void 0:M.label}),S.jsx(Ae.span,{className:"winner-subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:"THE PEOPLE HAVE SPOKEN"})]})})]},"vote"),t.type==="madlibs"&&S.jsx(Ae.div,{className:"coming-soon-display",children:S.jsx("h2",{children:" Madlibs Reveal Coming Soon"})},"madlibs"),t.type==="group-roll"&&S.jsx(JB,{},"roll")]})]})}function H7(){return S.jsx("div",{className:"app-container",children:S.jsxs(WV,{children:[S.jsx(Xh,{path:"/",element:S.jsx(kz,{})}),S.jsx(Xh,{path:"/admin",element:S.jsx(ZB,{})}),S.jsx(Xh,{path:"/display",element:S.jsx(W7,{})})]})})}Xm.createRoot(document.getElementById("root")).render(S.jsx(yd.StrictMode,{children:S.jsx(KV,{children:S.jsx(iD,{children:S.jsx(H7,{})})})}));
